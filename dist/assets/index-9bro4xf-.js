const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FamilyTreeView-QMC8YIKv.js","assets/react-CNOZSPzq.js","assets/abs-svg-path-C4ZzWwgR.js","assets/reactflow-C2W0beWk.js","assets/react-dom-DfT9qZI1.js","assets/scheduler-DbjxIo9m.js","assets/reactflow-B5DZHykP.css","assets/@reactflow/core-DAwl_23a.js","assets/classcat-RvS1aOr8.js","assets/zustand-BiaLcQ9o.js","assets/use-sync-external-store-DIerr2r9.js","assets/d3-zoom-BUn_QO1H.js","assets/d3-transition-VvefM7pg.js","assets/d3-dispatch-kxCwF96_.js","assets/d3-timer-DdKHrDhs.js","assets/d3-interpolate-Dtht_K2k.js","assets/d3-color-9lF95FHy.js","assets/d3-selection-DSeOx27A.js","assets/d3-ease-DRPgKoYJ.js","assets/d3-drag-CKshNLwO.js","assets/@reactflow/background-BNC8nvOL.js","assets/@reactflow/controls-CckLbIQO.js","assets/@react-pdf/renderer-i1NjJvWe.js","assets/@react-pdf/primitives-Cl8EByqz.js","assets/queue-DoAS7tzh.js","assets/inherits-BICa84dG.js","assets/events-DQ172AOg.js","assets/@react-pdf/font-BXXWAYYz.js","assets/fontkit-CVzJVDLb.js","assets/restructure-DwIbRzqP.js","assets/@swc/helpers-DIxjOVuh.js","assets/fast-deep-equal-BBHyQ0Kz.js","assets/unicode-properties-CQ3Ws5kP.js","assets/base64-js-BWhG0cXf.js","assets/unicode-trie-CHCc-EBe.js","assets/tiny-inflate-DtqwGtSp.js","assets/dfa-bo7c_j7N.js","assets/clone-CJq_oHA9.js","assets/brotli-B9EKUE_s.js","assets/tslib-kHcLnhpD.js","assets/@react-pdf/pdfkit-7w6jAvzF.js","assets/pako-C1gZChMM.js","assets/crypto-js-BGTciKqz.js","assets/linebreak-C8fs1LWV.js","assets/jay-peg-FwC6KZcX.js","assets/@react-pdf/png-js-DfO9AvVs.js","assets/@react-pdf/render-Cyzxs9UJ.js","assets/@react-pdf/fns-DvmUkUUA.js","assets/parse-svg-path-ClMpa306.js","assets/normalize-svg-path-ZUMom3hX.js","assets/svg-arc-to-cubic-bezier-DEq50KMd.js","assets/color-string-R8AcnC2W.js","assets/color-name-Dju3oUBS.js","assets/simple-swizzle-FKz8em3-.js","assets/is-arrayish-DyGeW-O8.js","assets/@react-pdf/layout-KvCx2gi5.js","assets/@react-pdf/stylesheet-C-wRpPoa.js","assets/media-engine-Dbb0n68m.js","assets/hsl-to-hex-B6BXVbT_.js","assets/hsl-to-rgb-for-reals-jL61FXS_.js","assets/postcss-value-parser-BWRRAwsW.js","assets/@react-pdf/textkit-CAn-WyP9.js","assets/bidi-js-DLACMwmw.js","assets/hyphen-DM2ckLBc.js","assets/yoga-layout-BEt2d-y4.js","assets/emoji-regex-xs-CiSvdbo-.js","assets/@react-pdf/image-PYw2WAL8.js","assets/@react-pdf/reconciler-CEvOrHNi.js","assets/object-assign-BQRdz_Ma.js"])))=>i.map(i=>d[i]);
import{j as e,r as n,a as pe}from"./react-CNOZSPzq.js";import{R as xt}from"./react-dom-DfT9qZI1.js";import"./firebase-9zlpSCh1.js";import{g as mt,o as ht,s as pt,c as ut,u as Ke,a as gt,b as bt}from"./@firebase/auth-LjKT5wM5.js";import{i as ft}from"./@firebase/app-BjC-wD6T.js";import"./@firebase/logger-BTL5tgLx.js";import{g as jt,d as K,a as Ge,s as Be,q as be,o as De,c as ee,b as ue,u as ie,e as Pe,f as xe,h as Fe,w as Me,T as et,i as Re,j as Ye,k as tt}from"./@firebase/firestore-B8HNlpN_.js";import{z as k,F as yt}from"./react-hot-toast-klIcvohg.js";import{u as st,a as ze,L as Ae,O as Nt,R as vt,b as ae,N as Te,B as wt}from"./react-router-GrcL_nXm.js";import{Font as at,StyleSheet as rt,PDFDownloadLink as qe}from"./@react-pdf/renderer-i1NjJvWe.js";import{D as nt,P as lt,V as te,T as Y,I as kt,L as St}from"./@react-pdf/primitives-Cl8EByqz.js";import{Q as Xe}from"./qrcode-B_nuqesy.js";import{H as Ct}from"./html5-qrcode-B9KN6_3H.js";import{S as ve}from"./react-select-BYPC46mh.js";import{r as We,u as se,w as Le}from"./xlsx-BTp1RmNK.js";import"./abs-svg-path-C4ZzWwgR.js";import"./scheduler-DbjxIo9m.js";import"./@firebase/util-_-4dhrSn.js";import"./@firebase/component-Cbqufe_i.js";import"./idb-BXWtuYvb.js";import"./@firebase/webchannel-wrapper-vaFAYuKl.js";import"./goober-wofAfydu.js";import"./queue-DoAS7tzh.js";import"./inherits-BICa84dG.js";import"./events-DQ172AOg.js";import"./@react-pdf/font-BXXWAYYz.js";import"./fontkit-CVzJVDLb.js";import"./restructure-DwIbRzqP.js";import"./@swc/helpers-DIxjOVuh.js";import"./fast-deep-equal-BBHyQ0Kz.js";import"./unicode-properties-CQ3Ws5kP.js";import"./base64-js-BWhG0cXf.js";import"./unicode-trie-CHCc-EBe.js";import"./tiny-inflate-DtqwGtSp.js";import"./dfa-bo7c_j7N.js";import"./clone-CJq_oHA9.js";import"./brotli-B9EKUE_s.js";import"./tslib-kHcLnhpD.js";import"./@react-pdf/pdfkit-7w6jAvzF.js";import"./pako-C1gZChMM.js";import"./crypto-js-BGTciKqz.js";import"./linebreak-C8fs1LWV.js";import"./jay-peg-FwC6KZcX.js";import"./@react-pdf/png-js-DfO9AvVs.js";import"./@react-pdf/render-Cyzxs9UJ.js";import"./@react-pdf/fns-DvmUkUUA.js";import"./parse-svg-path-ClMpa306.js";import"./normalize-svg-path-ZUMom3hX.js";import"./svg-arc-to-cubic-bezier-DEq50KMd.js";import"./color-string-R8AcnC2W.js";import"./color-name-Dju3oUBS.js";import"./simple-swizzle-FKz8em3-.js";import"./is-arrayish-DyGeW-O8.js";import"./@react-pdf/layout-KvCx2gi5.js";import"./@react-pdf/stylesheet-C-wRpPoa.js";import"./media-engine-Dbb0n68m.js";import"./hsl-to-hex-B6BXVbT_.js";import"./hsl-to-rgb-for-reals-jL61FXS_.js";import"./postcss-value-parser-BWRRAwsW.js";import"./@react-pdf/textkit-CAn-WyP9.js";import"./bidi-js-DLACMwmw.js";import"./hyphen-DM2ckLBc.js";import"./yoga-layout-BEt2d-y4.js";import"./emoji-regex-xs-CiSvdbo-.js";import"./@react-pdf/image-PYw2WAL8.js";import"./@react-pdf/reconciler-CEvOrHNi.js";import"./object-assign-BQRdz_Ma.js";import"./dijkstrajs-COg3n3zL.js";import"./@babel/runtime-Bonm0zpI.js";import"./@emotion/react-Ccg1Q_6O.js";import"./hoist-non-react-statics-D8JVEfXG.js";import"./react-is-DywX51Id.js";import"./@emotion/cache-B9HucK6v.js";import"./@emotion/sheet-6IwnyhEX.js";import"./stylis-DDa9OTMq.js";import"./@emotion/utils-BijCJQMc.js";import"./@emotion/serialize-CaRDouge.js";import"./@emotion/hash-WldOFDRm.js";import"./@emotion/unitless-x5IvBceT.js";import"./@emotion/memoize-3S_6p140.js";import"./@emotion/use-insertion-effect-with-fallbacks-Cml_1O_j.js";import"./@floating-ui/dom-BR852mXs.js";import"./@floating-ui/utils-C56Lz_0d.js";import"./use-isomorphic-layout-effect-5QPlj9wA.js";import"./memoize-one-BdPwpGay.js";(function(){const b=document.createElement("link").relList;if(b&&b.supports&&b.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))S(l);new MutationObserver(l=>{for(const v of l)if(v.type==="childList")for(const x of v.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&S(x)}).observe(document,{childList:!0,subtree:!0});function y(l){const v={};return l.integrity&&(v.integrity=l.integrity),l.referrerPolicy&&(v.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?v.credentials="include":l.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function S(l){if(l.ep)return;l.ep=!0;const v=y(l);fetch(l.href,v)}})();const Mt={apiKey:"AIzaSyBGqWpLlUTRgqXAtEVOQx36shmLQia7zkM",authDomain:"horkoraevent.firebaseapp.com",projectId:"horkoraevent",storageBucket:"horkoraevent.firebasestorage.app",messagingSenderId:"156489323330",appId:"1:156489323330:web:a7d29a1a0d548023a9eedb"},ot=ft(Mt),Ie=mt(ot),_=jt(ot);function It(){return e.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 flex items-center justify-center z-50",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"relative mb-8",children:e.jsxs("div",{className:"w-24 h-24 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-indigo-200 rounded-full animate-spin"}),e.jsx("div",{className:"absolute inset-2 border-4 border-purple-300 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute inset-4 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white text-2xl font-bold",children:"HF"})})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 font-bangla",children:"‡¶π‡¶∞‡¶ï‡¶∞‡¶æ ‡¶´‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá‡¶∂‡¶®"}),e.jsxs("div",{className:"flex items-center justify-center gap-1 text-gray-600",children:[e.jsx("span",{className:"text-sm font-medium",children:"Loading"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-1.5 h-1.5 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]}),e.jsx("div",{className:"mt-8 w-64 mx-auto",children:e.jsx("div",{className:"h-1 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 animate-progress"})})})]}),e.jsx("style",{children:`
        @keyframes progress {
          0% { width: 0%; }
          50% { width: 70%; }
          100% { width: 100%; }
        }
        .animate-progress {
          animation: progress 1.5s ease-in-out infinite;
        }
      `})]})}const it=n.createContext(),Dt=({children:r})=>{const[b,y]=n.useState(null),[S,l]=n.useState(null),[v,x]=n.useState(!0);n.useEffect(()=>{const i=ht(Ie,async D=>{if(x(!0),D)try{const u=K(_,"users",D.uid),g=await Ge(u);if(g.exists()){const c=g.data();y(D),l(c)}else y(null),l(null)}catch(u){console.error("Auth fetch error:",u),y(null),l(null)}else y(null),l(null);x(!1)});return()=>i()},[]);const j=async(i,D,u,g,c)=>{const h=(await ut(Ie,D,u)).user;return await Ke(h,{displayName:i}),await Be(K(_,"users",h.uid),{uid:h.uid,name:i,email:D,mobile:g,groupId:c,role:"user",status:"pending",createdAt:new Date().toISOString()}),h},d=(i,D)=>gt(Ie,i,D),M=async()=>{try{await pt(Ie),y(null),l(null)}catch(i){console.error("Logout failed",i)}};return v?e.jsx(It,{}):e.jsx(it.Provider,{value:{user:b,userData:S,login:d,register:j,logout:M,loading:v},children:r})},we=()=>n.useContext(it),dt=n.createContext(),ke=()=>{const r=n.useContext(dt);if(!r)throw new Error("useData must be used within a DataProvider");return r},Lt=({children:r})=>{const[b,y]=n.useState({donations:[],registrations:[],groups:[],members:[],users:[]}),[S,l]=n.useState({donations:!0,registrations:!0,groups:!0,members:!0,users:!0});n.useEffect(()=>{const j=be(ee(_,"donations"),De("date","desc")),d=ue(j,c=>{const o=c.docs.map(h=>({...h.data(),id:h.id,firebaseDocId:h.id}));y(h=>({...h,donations:o})),l(h=>({...h,donations:!1}))},c=>{console.error("Donations listener error:",c),l(o=>({...o,donations:!1}))}),M=be(ee(_,"registrations"),De("createdAt","desc")),i=ue(M,c=>{const o=c.docs.map(h=>({...h.data(),id:h.id,firebaseDocId:h.id}));y(h=>({...h,registrations:o})),l(h=>({...h,registrations:!1}))},c=>{console.error("Registrations listener error:",c),l(o=>({...o,registrations:!1}))}),D=ue(ee(_,"groups"),c=>{const o=c.docs.map(h=>({...h.data(),id:h.id,firebaseDocId:h.id}));y(h=>({...h,groups:o})),l(h=>({...h,groups:!1}))},c=>{console.error("Groups listener error:",c),l(o=>({...o,groups:!1}))}),u=ue(ee(_,"members"),c=>{const o=c.docs.map(h=>({...h.data(),id:h.id,firebaseDocId:h.id}));y(h=>({...h,members:o})),l(h=>({...h,members:!1}))},c=>{console.error("Members listener error:",c),l(o=>({...o,members:!1}))}),g=ue(ee(_,"users"),c=>{const o=c.docs.map(h=>({id:h.id,...h.data()}));y(h=>({...h,users:o})),l(h=>({...h,users:!1}))},c=>{console.error("Users listener error:",c),l(o=>({...o,users:!1}))});return()=>{d(),i(),D(),u(),g()}},[]);const v=!S.donations&&!S.registrations&&!S.groups,x={...b,loading:S,isInitialLoadComplete:v};return e.jsx(dt.Provider,{value:x,children:r})},Ue=({collapsed:r,setCollapsed:b,isMobile:y,setMobileOpen:S})=>{const{logout:l,user:v,userData:x}=we(),j=st(),d=ze(),M=x?.role||"user",i=async()=>{await l(),d("/admin/login")},D=[{groupName:"‡¶Æ‡ßÇ‡¶≤ ‡¶Æ‡ßá‡¶®‡ßÅ",items:[{name:"‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°",path:"/admin/dashboard",icon:"üè†",roles:["admin","user"]},{name:"‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤",path:"/admin/profile",icon:"üë§",roles:["admin","user"]}]},{groupName:"‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶ì ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø",items:[{name:"‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ",path:"/admin/list",icon:"üë•",roles:["admin"]},{name:"‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø",path:"/admin/create-entry",icon:"üìù",roles:["admin"]},{name:"‡¶ï‡¶ø‡¶â‡¶Ü‡¶∞ ‡¶∏‡ßç‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶æ‡¶∞",path:"/admin/scan",icon:"üì∑",roles:["admin"]},{name:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü",path:"/admin/groups",icon:"üì¶",roles:["admin"]}]},{groupName:"‡¶¨‡¶Ç‡¶∂ ‡¶ì ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø",items:[{name:"‡¶¨‡¶Ç‡¶∂ ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø",path:"/admin/members",icon:"üå≥",roles:["admin","user"]},{name:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶°",path:"/admin/bulk-members-upload",icon:"üì§",roles:["admin"]},{name:"‡¶¨‡¶Ç‡¶∂ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂",path:"/admin/family-summary",icon:"üìä",roles:["admin","user"]}]},{groupName:"‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü",items:[{name:"‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶¶‡¶ø‡¶®",path:"/admin/donate",icon:"üí∏",roles:["admin","user"]},{name:"‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü",path:"/admin/donation-list",icon:"üí∞",roles:["admin"]},{name:"‡¶¨‡¶æ‡¶≤‡ßç‡¶ï ‡¶Ü‡¶™‡¶≤‡ßã‡¶°",path:"/admin/bulk-donate",icon:"üì§",roles:["admin"]},{name:"‡¶ö‡¶æ‡¶Å‡¶¶‡¶æ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂",path:"/admin/contribution-summary",icon:"üìä",roles:["admin"]},{name:"‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü",path:"/admin/donation-report",icon:"üìú",roles:["admin"]}]},{groupName:"‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ",items:[{name:"‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ",path:"/admin/users",icon:"‚öôÔ∏è",roles:["admin"]}]}];return e.jsxs("div",{className:`
      flex flex-col h-full transition-all duration-300 ease-in-out
      bg-slate-900 text-white shadow-xl
      ${r?"w-20":"w-64"}
    `,children:[e.jsxs("div",{className:"h-20 flex items-center justify-between px-6 border-b border-slate-800/50 relative",children:[r?e.jsx("div",{className:"w-10 h-10 mx-auto rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-xl shadow-lg shadow-indigo-500/30",children:"B"}):e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-indigo-500/30",children:"B"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold font-bangla tracking-wide text-white",children:"‡¶¨‡¶Ç‡¶∂ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü"}),e.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-semibold",children:"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤"})]})]}),!y&&e.jsx("button",{onClick:()=>b(!r),className:"absolute -right-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-white text-slate-600 rounded-full shadow-md flex items-center justify-center hover:bg-indigo-50 hover:text-indigo-600 transition-all z-50 border border-slate-100",children:r?e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}):e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-3 space-y-6 custom-scrollbar",children:D.map((u,g)=>{const c=u.items.filter(o=>o.roles.includes(M));return c.length===0?null:e.jsxs("div",{className:"space-y-1",children:[!r&&e.jsxs("div",{className:"flex items-center gap-2 px-4 mb-2 mt-4",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.6)]"}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] flex-1",children:u.groupName}),e.jsx("div",{className:"h-[1px] flex-1 bg-gradient-to-r from-slate-700/50 to-transparent"})]}),c.map(o=>{const h=j.pathname===o.path;return e.jsxs(Ae,{to:o.path,onClick:()=>y&&S(!1),className:`
                      flex items-center px-4 py-3 rounded-xl transition-all duration-200 group relative overflow-hidden
                      ${h?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/20":"text-slate-400 hover:bg-slate-800/50 hover:text-white"}
                      ${r?"justify-center":""}
                    `,children:[h&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 to-indigo-500 opacity-100 z-0"}),e.jsx("span",{className:`relative z-10 text-xl transition-transform duration-300 ${h?"scale-110":"group-hover:scale-110"}`,children:o.icon}),!r&&e.jsx("span",{className:"relative z-10 ml-3 font-medium font-bangla text-sm whitespace-nowrap transition-all duration-300",children:o.name}),r&&e.jsx("div",{className:"absolute left-full ml-4 px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap z-50 shadow-xl border border-slate-700",children:o.name})]},o.path)})]},g)})}),e.jsx("div",{className:"p-4 border-t border-slate-800/50 bg-slate-900/50",children:e.jsxs("div",{className:`flex items-center ${r?"justify-center":"gap-3"}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-indigo-400 font-bold border border-slate-700",children:v?.displayName?.charAt(0)||"U"}),!r&&e.jsxs("div",{className:"flex-1 overflow-hidden",children:[e.jsx("p",{className:"text-sm font-bold text-white truncate",children:v?.displayName||"User"}),e.jsx("p",{className:"text-xs text-slate-500 truncate",children:v?.email})]}),!r&&e.jsx("button",{onClick:i,className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-400/10 rounded-lg transition-colors",title:"‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]})};function At({mobileOpen:r,setMobileOpen:b,collapsed:y,setCollapsed:S}){return e.jsxs(n.Fragment,{children:[e.jsxs("div",{className:`fixed inset-0 z-40 md:hidden transition-opacity duration-300 ${r?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,children:[e.jsx("div",{onClick:()=>b(!1),className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm"}),e.jsxs("div",{className:`absolute top-0 left-0 bottom-0 w-64 bg-slate-900 shadow-2xl transform transition-transform duration-300 ease-out ${r?"translate-x-0":"-translate-x-full"}`,children:[e.jsx(Ue,{collapsed:!1,isMobile:!0,setMobileOpen:b}),e.jsx("button",{onClick:()=>b(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-white",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),e.jsx("div",{className:"hidden md:block h-screen sticky top-0 z-30",children:e.jsx(Ue,{collapsed:y,setCollapsed:S,isMobile:!1})})]})}function Pt(){const[r,b]=n.useState(!1),[y,S]=n.useState(!1),l=st(),x={"/admin/dashboard":"‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°","/admin/users":"‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ","/admin/scan":"QR ‡¶∏‡ßç‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶æ‡¶∞","/admin/create-entry":"‡¶®‡¶§‡ßÅ‡¶® ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®","/admin/list":"‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ","/admin/groups":"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü","/admin/profile":"‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤","/admin/donate":"‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶®","/admin/bulk-donate":"‡¶¨‡¶æ‡¶≤‡ßç‡¶ï ‡¶Ü‡¶™‡¶≤‡ßã‡¶°","/admin/donation-list":"‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ","/admin/contribution-summary":"‡¶ö‡¶æ‡¶Å‡¶¶‡¶æ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂","/admin/members":"‡¶¨‡¶Ç‡¶∂ ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ","/admin/bulk-members-upload":"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶°"}[l.pathname]||"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤";return e.jsxs("div",{className:"flex h-screen bg-slate-50 font-bangla overflow-hidden",children:[e.jsx(At,{mobileOpen:r,setMobileOpen:b,collapsed:y,setCollapsed:S}),e.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[e.jsxs("header",{className:"bg-white border-b border-slate-200 h-20 flex items-center justify-between px-6 md:px-8 z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>b(!0),className:"md:hidden p-2 -ml-2 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:e.jsx("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),e.jsx("div",{children:e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-800 tracking-tight",children:x})})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"hidden md:flex items-center gap-2 text-sm text-slate-500 bg-slate-100 px-3 py-1.5 rounded-full",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶∏‡¶ö‡¶≤"]})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 md:p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(Nt,{})})})]})]})}function _e({title:r,value:b,icon:y,gradient:S,delay:l}){return e.jsxs("div",{className:"relative overflow-hidden bg-white p-6 rounded-2xl shadow-sm border border-gray-100 transition-all duration-300 hover:shadow-md hover:-translate-y-1 animate-fade-in-up",style:{animationDelay:`${l}ms`},children:[e.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-gradient-to-br ${S} opacity-10 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110`}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1",children:r}),e.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:b})]}),e.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${S} flex items-center justify-center text-white text-xl shadow-lg`,children:y})]})]})}function _t(){const{registrations:r,groups:b,loading:y}=ke(),[S,l]=n.useState({total_registrations:0,total_members:0,total_paid:0,total_pending:0}),[v,x]=n.useState([]),[j,d]=n.useState([]),[M,i]=n.useState(!0),[D,u]=n.useState(0);n.useEffect(()=>{(async()=>{try{const o=K(_,"stats","page_views"),h=await Ge(o);h.exists()&&u(h.data().count)}catch(o){console.error("Error fetching views:",o)}})()},[]),n.useEffect(()=>{!y.registrations&&!y.groups&&(g(r,b),i(!1))},[r,b,y]);const g=(c,o)=>{const h={};o.forEach(z=>{h[z.id]=z.name});let L=0,p=0,C=0,m=0;const A={};c.forEach(z=>{L++;const s=parseInt(z.totalMembers)||0;p+=s,z.paymentStatus==="Paid"?C++:z.paymentStatus==="Pending"&&m++;const f=z.group_id;f&&(A[f]||(A[f]={regCount:0,memCount:0,demographics:{male:0,female:0,children:0},tshirtSizes:{S:0,M:0,L:0,XL:0,XXL:0,NA:0}}),A[f].regCount++,A[f].memCount+=s,z.members&&Array.isArray(z.members)&&z.members.forEach(w=>{w.gender==="Male"?A[f].demographics.male++:w.gender==="Female"?A[f].demographics.female++:w.gender==="Child"&&A[f].demographics.children++;const $=w.t_shirt_size||"NA";A[f].tshirtSizes[$]!==void 0&&A[f].tshirtSizes[$]++}))});const R=Object.keys(A).map(z=>({id:z,name:h[z]||"‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™",registrations_count:A[z].regCount,total_members:A[z].memCount,demographics:A[z].demographics,tshirtSizes:A[z].tshirtSizes})),q=[...c].sort((z,s)=>{const f=z.createdAt?.seconds?z.createdAt.seconds:0;return(s.createdAt?.seconds?s.createdAt.seconds:0)-f}).slice(0,5).map(z=>({...z,groupName:h[z.group_id]||"N/A"}));l({total_registrations:L,total_members:p,total_paid:C,total_pending:m}),d(R),x(q)};return M?e.jsxs("div",{className:"flex items-center justify-center h-screen font-bangla text-gray-500",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mr-2"}),"‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá..."]}):e.jsxs("div",{className:"p-4 md:p-8 space-y-8 font-bangla max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶∏‡¶æ‡¶Æ‡¶ó‡ßç‡¶∞‡¶ø‡¶ï ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ"})]}),e.jsxs("div",{className:"text-right hidden md:block",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ"}),e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:new Date().toLocaleDateString("bn-BD",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsx(_e,{title:"‡¶Æ‡ßã‡¶ü ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü",value:D,icon:"üëÅÔ∏è",gradient:"from-purple-500 to-indigo-500",delay:0}),e.jsx(_e,{title:"‡¶Æ‡ßã‡¶ü ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®",value:S?.total_registrations||0,icon:"üìÑ",gradient:"from-blue-500 to-cyan-500",delay:100}),e.jsx(_e,{title:"‡¶Æ‡ßã‡¶ü ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø",value:S?.total_members||0,icon:"üë•",gradient:"from-emerald-500 to-teal-500",delay:200}),e.jsx(_e,{title:"‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏",value:`${S?.total_paid||0} / ${S?.total_pending||0}`,icon:"üí∞",gradient:"from-orange-500 to-amber-500",delay:300})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®"}),e.jsx(Ae,{to:"/admin/list",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-800 hover:underline transition-colors",children:"‡¶∏‡¶¨ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® ‚Üí"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-50",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"‡¶®‡¶æ‡¶Æ"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-50",children:v.length>0?v.map(c=>e.jsxs("tr",{className:"hover:bg-gray-50/80 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:c.name}),e.jsx("div",{className:"text-xs text-gray-400",children:c.mobile})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("span",{className:"bg-gray-100 text-gray-600 py-1 px-2 rounded text-xs",children:c.groupName})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-medium text-gray-700",children:c.totalMembers}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full ${c.paymentStatus==="Paid"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:c.paymentStatus==="Paid"?"‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶ø‡¶§":"‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶®"})})]},c.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-gray-400 text-sm",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶§‡¶•‡ßç‡¶Ø ‡¶®‡ßá‡¶á‡•§"})})})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-50",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶ï ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶§‡¶•‡ßç‡¶Ø"})]}),e.jsx("div",{className:"p-6",children:j.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:j.map((c,o)=>e.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-5 hover:shadow-lg transition-all hover:border-indigo-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 text-white flex items-center justify-center text-sm font-bold shrink-0 shadow-md",children:o+1}),e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-bold text-gray-800",children:c.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[c.registrations_count," ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‚Ä¢"," ",c.total_members," ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø"]})]})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-xs font-bold text-gray-600 uppercase mb-3 flex items-center gap-1",children:[e.jsx("span",{children:"üë•"})," ‡¶≤‡¶ø‡¶ô‡ßç‡¶ó ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶ï ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ú‡¶®"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-3 text-center border border-blue-200",children:[e.jsx("p",{className:"text-xs text-blue-600 font-semibold mb-1",children:"‡¶õ‡ßá‡¶≤‡ßá/‡¶™‡ßÅ‡¶∞‡ßÅ‡¶∑"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:c.demographics.male})]}),e.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 rounded-lg p-3 text-center border border-pink-200",children:[e.jsx("p",{className:"text-xs text-pink-600 font-semibold mb-1",children:"‡¶Æ‡ßá‡¶Ø‡¶º‡ßá/‡¶Æ‡¶π‡¶ø‡¶≤‡¶æ"}),e.jsx("p",{className:"text-2xl font-bold text-pink-700",children:c.demographics.female})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-3 text-center border border-green-200",children:[e.jsx("p",{className:"text-xs text-green-600 font-semibold mb-1",children:"‡¶∂‡¶ø‡¶∂‡ßÅ"}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:c.demographics.children})]})]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-bold text-gray-600 uppercase mb-3 flex items-center gap-1",children:[e.jsx("span",{children:"üëï"})," ‡¶ü‡¶ø-‡¶∂‡¶æ‡¶∞‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡ßÄ‡¶Ø‡¶º‡¶§‡¶æ"]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.entries(c.tshirtSizes).map(([h,L])=>L>0?e.jsxs("div",{className:"bg-white rounded-lg p-2 text-center border-2 border-gray-200 hover:border-indigo-300 transition-colors",children:[e.jsx("p",{className:"text-xs text-gray-600 font-bold",children:h}),e.jsx("p",{className:"text-lg font-bold text-indigo-600",children:L})]},h):null)})]})]},c.id))}):e.jsx("div",{className:"p-12 text-center text-gray-400 text-sm",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶°‡ßá‡¶ü‡¶æ ‡¶®‡ßá‡¶á‡•§"})})]})]})}const $e=({config:r,onClose:b})=>{if(!r?.isOpen)return null;const y=()=>{r.onConfirm&&r.onConfirm(),b()},l=(()=>{switch(r.type){case"danger":return{icon:"‚ö†Ô∏è",color:"rose",gradient:"from-rose-500 to-red-600",bg:"bg-rose-50",text:"text-rose-600"};case"success":return{icon:"‚úÖ",color:"emerald",gradient:"from-emerald-500 to-teal-600",bg:"bg-emerald-50",text:"text-emerald-600"};case"warning":return{icon:"üîî",color:"amber",gradient:"from-amber-400 to-orange-500",bg:"bg-amber-50",text:"text-amber-600"};default:return{icon:"‚ùì",color:"indigo",gradient:"from-indigo-500 to-purple-600",bg:"bg-indigo-50",text:"text-indigo-600"}}})();return e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md animate-fade-in",onClick:b}),e.jsxs("div",{className:"relative bg-white w-full max-w-sm rounded-[3rem] p-10 shadow-2xl border border-white/50 animate-fade-in overflow-hidden font-bangla",children:[e.jsx("div",{className:`absolute -top-10 -right-10 w-32 h-32 bg-gradient-to-br ${l.gradient} opacity-10 blur-3xl rounded-full`}),e.jsxs("div",{className:"relative flex flex-col items-center text-center",children:[e.jsx("div",{className:`w-24 h-24 ${l.bg} rounded-[2rem] flex items-center justify-center text-5xl mb-8 shadow-inner`,children:l.icon}),e.jsx("h3",{className:"text-3xl font-black text-slate-800 mb-4 tracking-tight leading-tight",children:r.title}),e.jsx("p",{className:"text-slate-500 font-bold mb-10 leading-relaxed px-2",children:r.message}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full",children:[e.jsx("button",{onClick:b,className:"px-6 py-4 rounded-2xl text-sm font-black text-slate-400 bg-slate-50 hover:bg-slate-100 transition-all active:scale-95",children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"}),e.jsx("button",{onClick:y,className:`px-6 py-4 rounded-2xl text-sm font-black text-white bg-gradient-to-r ${l.gradient} shadow-xl shadow-${l.color}-100 hover:scale-105 active:scale-95 transition-all outline-none`,children:"‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]})]})]})};at.register({family:"Noto Sans Bengali",fonts:[{src:"/fonts/NotoSansBengali-Regular.ttf"},{src:"/fonts/NotoSansBengali-Bold.ttf",fontWeight:"bold"}]});const ye={title:"‡¶¨‡¶æ‡¶∞‡ßç‡¶∑‡¶ø‡¶ï ‡¶¨‡¶Ç‡¶∂ ‡¶Æ‡¶ø‡¶≤‡¶®‡¶Æ‡ßá‡¶≤‡¶æ ‡ß®‡ß¶‡ß®‡ß¨",date:"‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞‡¶¨‡¶æ‡¶∞, ‡ß®‡ß¶ ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö, ‡ß®‡ß¶‡ß®‡ß¨",time:"‡¶∏‡¶ï‡¶æ‡¶≤ ‡ßß‡ß¶:‡ß¶‡ß¶ ‡¶ò‡¶ü‡¶ø‡¶ï‡¶æ",venue:"‡¶ö‡¶æ‡¶á‡¶°‡ßã‡¶¨‡¶æ ‡¶™‡ßç‡¶∞‡¶æ‡¶•‡¶Æ‡¶ø‡¶ï ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡ßü ‡¶Æ‡¶æ‡¶† ‡¶™‡ßç‡¶∞‡¶æ‡¶ô‡ßç‡¶ó‡¶®, ‡¶™‡¶æ‡¶ï‡ßÅ‡ßú‡¶ø‡ßü‡¶æ ‡¶≠‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶™‡¶æ‡ßú‡¶æ",organizer:"‡¶π‡¶∞‡¶ï‡¶∞‡¶æ ‡¶´‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá‡¶∂‡¶® ‡¶ï‡¶Æ‡¶ø‡¶ü‡¶ø",fbPage:"https://www.facebook.com/61577256966799",whatsapp:"+88017XXXXXXXX"},G=rt.create({page:{padding:30,fontFamily:"Noto Sans Bengali",backgroundColor:"#ffffff",color:"#333"},container:{border:"1px solid #999",borderRadius:5,overflow:"hidden"},header:{backgroundColor:"#2c3e50",padding:15,color:"#ffffff",textAlign:"center"},eventName:{fontSize:20,marginBottom:4,fontWeight:"bold"},eventSubInfo:{fontSize:10,color:"#ecf0f1"},body:{padding:15,flexDirection:"row"},leftCol:{width:"35%",alignItems:"center",justifyContent:"center",borderRight:"1px dashed #ccc",paddingRight:10},rightCol:{width:"65%",paddingLeft:15},qrImage:{width:100,height:100,border:"1px solid #ddd",padding:5},qrText:{fontSize:8,marginTop:5,color:"#666"},row:{flexDirection:"row",marginBottom:6,borderBottom:"1px solid #f0f0f0",paddingBottom:2},label:{width:90,fontSize:10,color:"#7f8c8d",fontWeight:"bold"},value:{flex:1,fontSize:11,color:"#2c3e50"},redHighlight:{color:"#c0392b",fontWeight:"bold"},greenHighlight:{color:"#27ae60",fontWeight:"bold"},footerSection:{padding:10,backgroundColor:"#f9f9f9",borderTop:"1px solid #eee"},termsTitle:{fontSize:9,fontWeight:"bold",marginBottom:3,textDecoration:"underline"},termText:{fontSize:8,color:"#555",marginBottom:2},contactRow:{flexDirection:"row",justifyContent:"space-between",marginTop:8,paddingTop:8,borderTop:"1px solid #ddd"},contactText:{fontSize:8,color:"#2980b9"},dividerContainer:{marginVertical:15,alignItems:"center",justifyContent:"center"},dashedLine:{borderBottom:"2px dashed #999",width:"100%",position:"absolute",top:6},scissorText:{backgroundColor:"#fff",paddingHorizontal:10,fontSize:9,color:"#555",zIndex:10},couponHeader:{backgroundColor:"#e67e22",padding:8,textAlign:"center",color:"#fff",fontSize:12,fontWeight:"bold"}}),Oe=({data:r,qrCodeUrl:b})=>e.jsx(nt,{children:e.jsxs(lt,{size:"A4",style:G.page,children:[e.jsxs(te,{style:G.container,children:[e.jsxs(te,{style:G.header,children:[e.jsx(Y,{style:G.eventName,children:ye.title}),e.jsxs(Y,{style:G.eventSubInfo,children:["‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ: ",ye.date," | ‡¶∏‡¶Æ‡ßü: ",ye.time]}),e.jsxs(Y,{style:G.eventSubInfo,children:["‡¶∏‡ßç‡¶•‡¶æ‡¶®: ",ye.venue]})]}),e.jsxs(te,{style:G.body,children:[e.jsxs(te,{style:G.leftCol,children:[b&&e.jsx(kt,{src:b,style:G.qrImage}),e.jsxs(Y,{style:G.qrText,children:["‡¶Ü‡¶á‡¶°‡¶ø: ",r.id]}),e.jsx(Y,{style:[G.qrText,{color:"red",marginTop:2}],children:"‡¶∏‡ßç‡¶ï‡ßç‡¶Ø‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsxs(te,{style:G.rightCol,children:[e.jsxs(te,{style:G.row,children:[e.jsx(Y,{style:G.label,children:"‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø:"}),e.jsx(Y,{style:[G.value,G.redHighlight],children:r.id})]}),e.jsxs(te,{style:G.row,children:[e.jsx(Y,{style:G.label,children:"‡¶®‡¶æ‡¶Æ:"}),e.jsx(Y,{style:G.value,children:r.name+" "})]}),e.jsxs(te,{style:G.row,children:[e.jsx(Y,{style:G.label,children:"‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤:"}),e.jsx(Y,{style:G.value,children:r.mobile})]}),e.jsxs(te,{style:G.row,children:[e.jsx(Y,{style:G.label,children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™/‡¶¶‡¶≤:"}),e.jsx(Y,{style:G.value,children:r.groupName+" "||"‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£"})]}),e.jsxs(te,{style:G.row,children:[e.jsx(Y,{style:G.label,children:"‡¶Æ‡ßã‡¶ü ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø:"}),e.jsxs(Y,{style:G.value,children:[r.totalMembers," ‡¶ú‡¶®"]})]}),e.jsxs(te,{style:[G.row,{borderBottom:0}],children:[e.jsx(Y,{style:G.label,children:"‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏:"}),e.jsx(Y,{style:[G.value,r.paymentStatus==="Paid"?G.greenHighlight:G.redHighlight],children:r.paymentStatus==="Paid"?"‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶ø‡¶§ (Paid)":"‡¶Æ‡ßÅ‡¶≤‡¶§‡¶¨‡¶ø (Pending)"})]})]})]}),e.jsxs(te,{style:G.footerSection,children:[e.jsx(Y,{style:G.termsTitle,children:"‡¶∂‡¶∞‡ßç‡¶§‡¶æ‡¶¨‡¶≤‡ßÄ:"}),e.jsx(Y,{style:G.termText,children:"‡ßß. ‡¶ï‡¶æ‡¶∞‡ßç‡¶°‡¶ü‡¶ø ‡¶∏‡¶æ‡¶•‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶¨‡¶æ‡¶ß‡ßç‡¶Ø‡¶§‡¶æ‡¶Æ‡ßÇ‡¶≤‡¶ï‡•§"}),e.jsx(Y,{style:G.termText,children:"‡ß®. ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡ßü‡ßá ‡¶â‡¶≤‡ßç‡¶≤‡¶ø‡¶ñ‡¶ø‡¶§ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶ï ‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶á ‡¶ï‡ßá‡¶¨‡¶≤ ‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§"}),e.jsx(Y,{style:G.termText,children:"‡ß©. ‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶ï‡ßÅ‡¶™‡¶®‡¶ü‡¶ø ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"}),e.jsx(Y,{style:G.termText,children:"‡ß™. ‡¶ï‡¶∞‡ßç‡¶§‡ßÉ‡¶™‡¶ï‡ßç‡¶∑‡ßá‡¶∞ ‡¶∏‡¶ø‡¶¶‡ßç‡¶ß‡¶æ‡¶®‡ßç‡¶§‡¶á ‡¶ö‡ßÇ‡ßú‡¶æ‡¶®‡ßç‡¶§‡•§"}),e.jsxs(te,{style:G.contactRow,children:[e.jsxs(Y,{style:G.contactText,children:["‡¶Ü‡ßü‡ßã‡¶ú‡¶ï: ",ye.organizer]}),e.jsxs(St,{src:`https://${ye.fbPage}`,style:G.contactText,children:["FB: ",ye.fbPage]}),e.jsxs(Y,{style:G.contactText,children:["WhatsApp: ",ye.whatsapp]})]})]})]}),e.jsxs(te,{style:G.dividerContainer,children:[e.jsx(te,{style:G.dashedLine}),e.jsx(Y,{style:G.scissorText,children:"‚úÇÔ∏è ‡¶è‡¶ñ‡¶æ‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡ßá‡¶ü‡ßá ‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶® ‚úÇÔ∏è"})]}),e.jsxs(te,{style:[G.container,{marginTop:0}],children:[e.jsx(te,{style:G.couponHeader,children:e.jsx(Y,{children:"‡¶¶‡ßÅ‡¶™‡ßÅ‡¶∞‡ßá‡¶∞ ‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ ‡¶ï‡ßÅ‡¶™‡¶® (Food Coupon)"})}),e.jsx(te,{style:[G.body,{padding:10}],children:e.jsxs(te,{style:{width:"100%"},children:[e.jsxs(te,{style:{flexDirection:"row",justifyContent:"space-between",marginBottom:5},children:[e.jsxs(Y,{style:{fontSize:10},children:["‡¶Ü‡¶á‡¶°‡¶ø: ",e.jsx(Y,{style:G.redHighlight,children:r.id})]}),e.jsxs(Y,{style:{fontSize:10},children:["‡¶®‡¶æ‡¶Æ: ",r.name+" "]}),e.jsxs(Y,{style:{fontSize:10},children:["‡¶ó‡ßç‡¶∞‡ßÅ‡¶™: ",r.groupName+" "]})]}),e.jsx(te,{style:{alignItems:"center",marginTop:5,padding:5,backgroundColor:"#f0f0f0",borderRadius:4},children:e.jsxs(Y,{style:{fontSize:14,fontWeight:"bold"},children:["‡¶Æ‡ßã‡¶ü ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ü: ",r.totalMembers," ‡¶ü‡¶ø"]})})]})})]})]})}),Et=pe.memo(({reg:r})=>{const[b,y]=pe.useState(!1),[S,l]=pe.useState(""),[v,x]=pe.useState(!1);return pe.useEffect(()=>{b&&!S&&(async()=>{x(!0);try{const d=await Xe.toDataURL(r.registrationId||r.id);l(d)}catch(d){console.error("QR Error",d)}finally{x(!1)}})()},[b,S,r]),b?v||b&&!S?e.jsx("button",{className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-medium bg-gray-100 text-gray-400",children:"..."}):e.jsx(qe,{document:e.jsx(Oe,{data:{...r,groupName:r.finalGroupName,totalMembers:r.finalTotalMembers},qrCodeUrl:S}),fileName:`card-${r.registrationId||r.id}.pdf`,children:({loading:j})=>j?e.jsx("button",{className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-medium bg-gray-100 text-gray-400",children:"..."}):e.jsxs("button",{className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-medium bg-green-50 text-green-600 hover:bg-green-100 transition-colors",children:[e.jsx("span",{children:"‚úÖ"})," ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°"]})}):e.jsxs("button",{onClick:()=>y(!0),className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-medium bg-indigo-50 text-indigo-600 hover:bg-indigo-100 transition-colors",children:[e.jsx("span",{children:"‚¨á"})," PDF"]})}),Ft=pe.memo(({reg:r})=>{const[b,y]=pe.useState(!1),[S,l]=pe.useState(""),[v,x]=pe.useState(!1);return pe.useEffect(()=>{b&&!S&&(async()=>{x(!0);try{const d=await Xe.toDataURL(r.registrationId||r.id);l(d)}catch(d){console.error("QR Error",d)}finally{x(!1)}})()},[b,S,r]),b?e.jsx(qe,{document:e.jsx(Oe,{data:{...r,groupName:r.finalGroupName,totalMembers:r.finalTotalMembers},qrCodeUrl:S}),fileName:`card-${r.registrationId||r.id}.pdf`,children:({loading:j})=>e.jsx("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white text-xs font-bold rounded-lg shadow-sm active:scale-95 transition-transform",children:j||v?"‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç...":"‚úÖ ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®"})}):e.jsx("button",{onClick:()=>y(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white text-xs font-bold rounded-lg shadow-sm active:scale-95 transition-transform",children:"‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®"})});function Rt(){const[r,b]=n.useState([]),[y,S]=n.useState(!0),[l,v]=n.useState(""),[x,j]=n.useState([]),[d,M]=n.useState(null),[i,D]=n.useState(null),[u,g]=n.useState(!1),[c,o]=n.useState(!1),[h,L]=n.useState(!1),[p,C]=n.useState(!1),[m,A]=n.useState(!1),[R,W]=n.useState(!1),[q,z]=n.useState({member_name:"",gender:"",age:"",t_shirt_size:"",birthYear:"",birthdate:""}),[s,f]=n.useState({member_name:"",gender:"Male",age:"",t_shirt_size:"L",birthYear:"",birthdate:""}),[w,$]=n.useState({name:"",mobile:"",email:"",contributeAmount:""}),[E,Q]=n.useState(""),[ne,I]=n.useState(null),[Z,me]=n.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{},type:"primary"}),{registrations:he,groups:fe,loading:N}=ke();n.useEffect(()=>{if(!N.registrations&&!N.groups){const a={};fe.forEach(U=>{a[U.id]=U.name}),j(fe);const F=he.map(U=>{const Ne=U.groupName||a[U.group_id]||"N/A",Se=U.totalMembers||U.total_members||0;return{...U,firebaseDocId:U.firebaseDocId,registrationId:U.id||U.registrationId,finalGroupName:Ne,finalTotalMembers:Se}});b(F),S(!1)}},[he,fe,N]);const O=(a,F)=>{M(a),D(F);const U=a.members[F];z({member_name:U.member_name||"",gender:U.gender||"",age:U.age||"",t_shirt_size:U.t_shirt_size||"",birthYear:U.birthYear||"",birthdate:U.birthdate||""}),g(!0)},P=async()=>{try{const a=[...d.members];a[i]=q;const F={members:a};i===0&&(F.name=q.member_name);const U=K(_,"registrations",d.firebaseDocId);await ie(U,F),k.success("‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!"),g(!1)}catch(a){console.error(a),k.error("‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§")}},V=a=>{M(a),f({member_name:"",gender:"Male",age:"",t_shirt_size:"L",birthYear:"",birthdate:""}),A(!0)},re=async()=>{try{if(!s.member_name){k.error("‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï");return}const a=[...d.members||[],s],F=a.length,U=K(_,"registrations",d.firebaseDocId);await ie(U,{members:a,totalMembers:F}),k.success("‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!"),A(!1)}catch(a){console.error(a),k.error("‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§")}},de=a=>{M(a),$({name:a.name||"",mobile:a.mobile||"",email:a.email||"",contributeAmount:a.contributeAmount||""}),W(!0)},le=async()=>{try{const a=K(_,"registrations",d.firebaseDocId),F={name:w.name,mobile:w.mobile,email:w.email,contributeAmount:w.contributeAmount};let U=[...d.members||[]];U.length>0&&(U[0]={...U[0],member_name:w.name},F.members=U),await ie(a,F),k.success("‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!"),W(!1)}catch(a){console.error(a),k.error("‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§")}},je=(a,F)=>{M(a),D(F),o(!0)},ge=a=>{M(a),L(!0)},t=async a=>{try{const F=K(_,"registrations",d.firebaseDocId);await ie(F,{paymentStatus:a}),k.success(a==="Paid"?"‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶ø‡¶§ ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶ö‡¶ø‡¶π‡ßç‡¶®‡¶ø‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!":a==="Waived"?"‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶ì‡¶ï‡ßÅ‡¶´ ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶ö‡¶ø‡¶π‡ßç‡¶®‡¶ø‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!":"‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶® ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶ö‡¶ø‡¶π‡ßç‡¶®‡¶ø‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!"),L(!1)}catch(F){console.error(F),k.error("‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§")}},B=a=>{M(a),Q(a.group_id||""),C(!0)},J=async()=>{try{const a=K(_,"registrations",d.firebaseDocId);await ie(a,{group_id:E}),k.success("‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!"),C(!1)}catch(a){console.error(a),k.error("‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§")}},H=a=>{me({isOpen:!0,title:a.checkedIn?"‡¶ö‡ßá‡¶ï-‡¶á‡¶® ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤":"‡¶ö‡ßá‡¶ï-‡¶á‡¶® ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§",message:a.checkedIn?`‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ${a.name}-‡¶è‡¶∞ ‡¶ö‡ßá‡¶ï-‡¶á‡¶® ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?`:`‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ${a.name}-‡¶ï‡ßá ‡¶ö‡ßá‡¶ï-‡¶á‡¶® ‡¶ï‡¶∞‡¶æ‡¶§‡ßá ‡¶ö‡¶æ‡¶®?`,type:a.checkedIn?"warning":"success",onConfirm:async()=>{try{const F=!a.checkedIn,U=K(_,"registrations",a.firebaseDocId);await ie(U,{checkedIn:F,checkInTime:F?new Date:null}),k.success(F?`${a.name} ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ö‡ßá‡¶ï-‡¶á‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!`:`${a.name} ‡¶ö‡ßá‡¶ï-‡¶á‡¶® ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!`)}catch(F){console.error(F),k.error("‡¶ö‡ßá‡¶ï-‡¶á‡¶® ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§")}}})},X=async()=>{try{if(i===0){const Ne=K(_,"registrations",d.firebaseDocId);await Pe(Ne),k.success("‡¶Æ‡ßÇ‡¶≤ ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶ï‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!"),o(!1);return}const a=d.members.filter((Ne,Se)=>Se!==i),F=a.length,U=K(_,"registrations",d.firebaseDocId);await ie(U,{members:a,totalMembers:F}),k.success("‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!"),o(!1)}catch(a){console.error(a),k.error("‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§")}},T=r.filter(a=>a.name.toLowerCase().includes(l.toLowerCase())||a.mobile?.toString().includes(l)||a.finalGroupName&&a.finalGroupName.toLowerCase().includes(l.toLowerCase()));return e.jsxs("div",{className:"p-4 md:p-8 font-bangla max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ"}),e.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-3",children:[e.jsxs("span",{children:["‡¶Æ‡ßã‡¶ü ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®: ",T.length]}),e.jsx("span",{className:"w-1 h-1 bg-gray-300 rounded-full"}),e.jsxs("span",{children:["‡¶Æ‡ßã‡¶ü ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø:"," ",T.reduce((a,F)=>a+(F.finalTotalMembers||0),0)]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[e.jsxs(Ae,{to:"/admin/bulk-registration",className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-sm font-bold rounded-lg hover:bg-green-700 transition shadow-sm",children:[e.jsx("span",{children:"üìÅ"})," ‡¶¨‡¶æ‡¶≤‡ßç‡¶ï ‡¶Ü‡¶™‡¶≤‡ßã‡¶°"]}),e.jsxs("div",{className:"relative w-full md:w-64",children:[e.jsx("input",{type:"text",placeholder:"‡¶®‡¶æ‡¶Æ, ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶¨‡¶æ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®...",value:l,onChange:a=>v(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"}),e.jsx("svg",{className:"w-4 h-4 text-gray-400 absolute left-3 top-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:y?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá..."})]}):T.length===0?e.jsx("div",{className:"p-12 text-center text-gray-500",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-50",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶®‡¶ø‡¶ß‡¶ø"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-50",children:T.map(a=>e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-gray-50/80 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[a.name,e.jsx("button",{onClick:()=>de(a),className:"text-gray-400 hover:text-indigo-600 transition-colors",title:"‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶Æ‡ßç‡¶™‡¶æ‡¶¶‡¶®‡¶æ",children:e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),e.jsx("div",{className:"text-xs text-gray-400",children:a.mobile})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>B(a),className:"group flex items-center gap-1.5 bg-gray-100 hover:bg-indigo-50 text-gray-600 hover:text-indigo-600 py-1 px-2 rounded text-xs transition-colors",children:[e.jsx("span",{children:a.finalGroupName}),e.jsx("svg",{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-bold text-gray-700",children:a.finalTotalMembers}),e.jsx("td",{className:"px-6 py-4 text-xs text-gray-500",children:a.members&&a.members.length>0?e.jsxs("button",{onClick:()=>I(ne===a.id?null:a.id),className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded text-gray-700 transition-colors",children:[e.jsxs("span",{children:[a.members.length," ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø"]}),e.jsx("svg",{className:`w-3 h-3 transition-transform ${ne===a.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}):e.jsx("span",{className:"text-gray-300",children:"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("button",{onClick:()=>ge(a),className:`px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full cursor-pointer hover:opacity-80 transition-opacity ${a.paymentStatus==="Paid"?"bg-green-100 text-green-700":a.paymentStatus==="Waived"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:a.paymentStatus==="Paid"?"‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶ø‡¶§":a.paymentStatus==="Waived"?"‡¶Æ‡¶ì‡¶ï‡ßÅ‡¶´":"‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶®"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("button",{onClick:()=>H(a),className:`px-3 py-1 rounded-full text-[10px] font-black uppercase transition-all shadow-sm ${a.checkedIn?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,children:a.checkedIn?"‚úÖ Entered":"‚ùå No Entry"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx(Et,{reg:a})})]},a.id),ne===a.id&&a.members&&e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-4 bg-gray-50",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("p",{className:"text-xs font-bold text-gray-600 uppercase",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ"}),e.jsxs("button",{onClick:()=>V(a),className:"flex items-center gap-1 px-2 py-1 bg-indigo-600 text-white hover:bg-indigo-700 rounded text-[10px] font-bold transition-colors",children:[e.jsx("span",{children:"‚ûï"})," ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®"]})]}),a.members.map((F,U)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 hover:border-indigo-300 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-800",children:F.member_name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[F.gender," ‚Ä¢ ",F.age," ‡¶¨‡¶õ‡¶∞ ‚Ä¢ ‡¶ü‡¶ø-‡¶∂‡¶æ‡¶∞‡ßç‡¶ü: ",F.t_shirt_size,(F.birthYear||F.birthdate)&&e.jsxs(e.Fragment,{children:[" ","‚Ä¢"," ",F.birthYear||F.birthdate]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>O(a,U),className:"px-3 py-1.5 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded text-xs font-medium transition-colors inline-flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"‡¶∏‡¶Æ‡ßç‡¶™‡¶æ‡¶¶‡¶®‡¶æ"]}),e.jsxs("button",{onClick:()=>je(a,U),className:"px-3 py-1.5 bg-red-50 text-red-600 hover:bg-red-100 rounded text-xs font-medium transition-colors inline-flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®"]})]})]},U))]})})})]}))})]})}),e.jsx("div",{className:"md:hidden divide-y divide-gray-100",children:T.map(a=>e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500",children:a.mobile})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>ge(a),className:`px-3 py-1 rounded-full text-[10px] font-bold ${a.paymentStatus==="Paid"?"bg-green-100 text-green-700":a.paymentStatus==="Waived"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:a.paymentStatus==="Paid"?"‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶ø‡¶§":a.paymentStatus==="Waived"?"‡¶Æ‡¶ì‡¶ï‡ßÅ‡¶´":"‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶®"}),e.jsx("button",{onClick:()=>H(a),className:`px-3 py-1 rounded-full text-[10px] font-bold border ${a.checkedIn?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-white border-gray-200 text-gray-500"}`,children:a.checkedIn?"‚úÖ ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá":"üîò ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶®‡ßá‡¶á"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 bg-gray-50 p-2 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block text-gray-400 text-[10px] uppercase",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™"}),e.jsx("span",{className:"font-medium",children:a.finalGroupName})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"block text-gray-400 text-[10px] uppercase",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø"}),e.jsxs("span",{className:"font-bold text-gray-800",children:[a.finalTotalMembers," ‡¶ú‡¶®"]})]})]}),e.jsx("div",{className:"flex justify-end pt-1",children:e.jsx(Ft,{reg:a})})]},a.id))})]})}),u&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/30 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6 animate-fade-in",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶Æ‡ßç‡¶™‡¶æ‡¶¶‡¶®‡¶æ"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶®‡¶æ‡¶Æ"}),e.jsx("input",{type:"text",value:q.member_name,onChange:a=>z({...q,member_name:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶≤‡¶ø‡¶ô‡ßç‡¶ó"}),e.jsxs("select",{value:q.gender,onChange:a=>z({...q,gender:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("option",{value:"Male",children:"‡¶õ‡ßá‡¶≤‡ßá/‡¶™‡ßÅ‡¶∞‡ßÅ‡¶∑"}),e.jsx("option",{value:"Female",children:"‡¶Æ‡ßá‡¶Ø‡¶º‡ßá/‡¶Æ‡¶π‡¶ø‡¶≤‡¶æ"}),e.jsx("option",{value:"Child",children:"‡¶∂‡¶ø‡¶∂‡ßÅ"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶¨‡¶Ø‡¶º‡¶∏"}),e.jsx("input",{type:"text",value:q.age,onChange:a=>z({...q,age:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶ü‡¶ø-‡¶∂‡¶æ‡¶∞‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú"}),e.jsxs("select",{value:q.t_shirt_size,onChange:a=>z({...q,t_shirt_size:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("option",{value:"S",children:"S"}),e.jsx("option",{value:"M",children:"M"}),e.jsx("option",{value:"L",children:"L"}),e.jsx("option",{value:"XL",children:"XL"}),e.jsx("option",{value:"XXL",children:"XXL"}),e.jsx("option",{value:"NA",children:"NA (‡¶∂‡¶ø‡¶∂‡ßÅ)"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"}),e.jsx("button",{onClick:P,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/30 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6 animate-fade-in",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶®?"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶è‡¶á ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡¶ï‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶®? ‡¶è‡¶á ‡¶ï‡¶æ‡¶ú‡¶ü‡¶ø ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶æ‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶Ø‡¶º ‡¶´‡¶ø‡¶∞‡¶æ‡¶®‡ßã ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶®‡¶æ‡•§"}),d&&i!==null&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-6 text-left",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800",children:d.members[i]?.member_name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[d.members[i]?.gender," ‚Ä¢"," ",d.members[i]?.age," ‡¶¨‡¶õ‡¶∞"]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"}),e.jsxs("button",{onClick:X,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶®"]})]})]})}),h&&d&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/30 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6 animate-fade-in",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:d.name}),e.jsx("p",{className:"text-xs text-gray-400 mb-6",children:d.mobile}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏"}),e.jsx("span",{className:`px-3 py-1.5 inline-flex text-sm font-semibold rounded-full ${d.paymentStatus==="Paid"?"bg-green-100 text-green-700":d.paymentStatus==="Waived"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:d.paymentStatus==="Paid"?"‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶ø‡¶§":d.paymentStatus==="Waived"?"‡¶Æ‡¶ì‡¶ï‡ßÅ‡¶´":"‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶®"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>t("Paid"),disabled:d.paymentStatus==="Paid",className:`w-full px-4 py-3 rounded-lg font-medium transition-all ${d.paymentStatus==="Paid"?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700 active:scale-95"}`,children:"‚úì ‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶ø‡¶§ ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶ö‡¶ø‡¶π‡ßç‡¶®‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("button",{onClick:()=>t("Pending"),disabled:d.paymentStatus==="Pending",className:`w-full px-4 py-3 rounded-lg font-medium transition-all ${d.paymentStatus==="Pending"?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-yellow-600 text-white hover:bg-yellow-700 active:scale-95"}`,children:"‚è≥ ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶® ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶ö‡¶ø‡¶π‡ßç‡¶®‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("button",{onClick:()=>t("Waived"),disabled:d.paymentStatus==="Waived",className:`w-full px-4 py-3 rounded-lg font-medium transition-all ${d.paymentStatus==="Waived"?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 active:scale-95"}`,children:"üí∏ ‡¶Æ‡¶ì‡¶ï‡ßÅ‡¶´ ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶ö‡¶ø‡¶π‡ßç‡¶®‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("button",{onClick:()=>L(!1),className:"w-full px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"})]})]})}),p&&d&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/30 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6 animate-fade-in",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"‡¶®‡¶ø‡¶ö‡ßá ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡¶ü‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsxs("select",{value:E,onChange:a=>Q(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"}),x.map(a=>e.jsxs("option",{value:a.id,children:[a.name," - ",a.description]},a.id))]})]})}),e.jsxs("div",{className:"flex gap-3 mt-8",children:[e.jsx("button",{onClick:()=>C(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"}),e.jsx("button",{onClick:J,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]})}),m&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/30 flex items-center justify-center z-50 p-4 font-bangla",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6 animate-fade-in text-left",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["‡¶®‡¶æ‡¶Æ ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.member_name,onChange:a=>f({...s,member_name:a.target.value}),placeholder:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶≤‡¶ø‡¶ô‡ßç‡¶ó"}),e.jsxs("select",{value:s.gender,onChange:a=>f({...s,gender:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"Male",children:"‡¶õ‡ßá‡¶≤‡ßá/‡¶™‡ßÅ‡¶∞‡ßÅ‡¶∑"}),e.jsx("option",{value:"Female",children:"‡¶Æ‡ßá‡¶Ø‡¶º‡ßá/‡¶Æ‡¶π‡¶ø‡¶≤‡¶æ"}),e.jsx("option",{value:"Child",children:"‡¶∂‡¶ø‡¶∂‡ßÅ"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶¨‡¶Ø‡¶º‡¶∏"}),e.jsx("input",{type:"text",value:s.age,onChange:a=>f({...s,age:a.target.value}),placeholder:"‡¶¨‡¶Ø‡¶º‡¶∏ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶ü‡¶ø-‡¶∂‡¶æ‡¶∞‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú"}),e.jsxs("select",{value:s.t_shirt_size,onChange:a=>f({...s,t_shirt_size:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"S",children:"S"}),e.jsx("option",{value:"M",children:"M"}),e.jsx("option",{value:"L",children:"L"}),e.jsx("option",{value:"XL",children:"XL"}),e.jsx("option",{value:"XXL",children:"XXL"}),e.jsx("option",{value:"NA",children:"NA (‡¶∂‡¶ø‡¶∂‡ßÅ)"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>A(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"}),e.jsx("button",{onClick:re,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]})}),R&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/30 flex items-center justify-center z-50 p-4 font-bangla",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6 animate-fade-in text-left",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶Æ‡ßç‡¶™‡¶æ‡¶¶‡¶®‡¶æ"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶®‡¶ø‡¶ß‡¶ø‡¶∞ ‡¶®‡¶æ‡¶Æ"}),e.jsx("input",{type:"text",value:w.name,onChange:a=>$({...w,name:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞"}),e.jsx("input",{type:"text",value:w.mobile,onChange:a=>$({...w,mobile:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶á‡¶Æ‡ßá‡¶á‡¶≤"}),e.jsx("input",{type:"email",value:w.email,onChange:a=>$({...w,email:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶ö‡¶æ‡¶Å‡¶¶‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£"}),e.jsx("input",{type:"number",value:w.contributeAmount,onChange:a=>$({...w,contributeAmount:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>W(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"}),e.jsx("button",{onClick:le,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]})}),e.jsx($e,{config:Z,onClose:()=>me({...Z,isOpen:!1})})]})}function He(){const[r,b]=n.useState(""),[y,S]=n.useState(""),[l,v]=n.useState(!1),{login:x}=we(),j=ze(),d=async M=>{M.preventDefault(),v(!0);try{await x(r,y),k.success("‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ! ‡¶≤‡¶ó‡¶á‡¶® ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§"),j("/admin/dashboard")}catch(i){console.error(i),i.code==="auth/invalid-credential"?k.error("‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶¨‡¶æ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶≠‡ßÅ‡¶≤‡•§"):k.error("‡¶≤‡¶ó‡¶á‡¶® ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡ßü‡ßá‡¶õ‡ßá: "+i.message)}finally{v(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4 font-bangla",children:e.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-2xl p-8 space-y-6",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 text-center border-b pb-4",children:"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶≤‡¶ó‡¶á‡¶®"}),e.jsxs("form",{className:"space-y-6",onSubmit:d,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶á‡¶Æ‡ßá‡¶á‡¶≤"}),e.jsx("input",{type:"email",value:r,onChange:M=>b(M.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500",placeholder:"example@mail.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°"}),e.jsx("input",{type:"password",value:y,onChange:M=>S(M.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500",placeholder:"********"})]}),e.jsx("button",{type:"submit",disabled:l,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white ${l?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,children:l?"‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...":"‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsxs("div",{className:"text-sm text-center pt-4 border-t mt-4",children:["‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶®‡ßá‡¶á? ",e.jsx(Ae,{to:"/admin/register",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]})})}function zt(){const[r,b]=n.useState(""),[y,S]=n.useState(""),[l,v]=n.useState(""),[x,j]=n.useState(""),[d,M]=n.useState(""),[i,D]=n.useState(""),[u,g]=n.useState([]),[c,o]=n.useState(!1),{register:h}=we(),L=ze();n.useEffect(()=>{(async()=>{try{const R=(await xe(ee(_,"groups"))).docs.map(W=>({id:W.id,...W.data()}));g(R),R.length>0&&j(R[0].id)}catch(A){console.error(A)}})()},[]);const p=m=>{const A=m.target.value;/^\d*$/.test(A)&&A.length<=11&&v(A)},C=async m=>{if(m.preventDefault(),!/^01[3-9]\d{8}$/.test(l))return k.error("‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶†‡¶ø‡¶ï ‡ßß‡ßß ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡ßá‡¶∞ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡¶ø ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶® (‡¶Ø‡ßá‡¶Æ‡¶®: 017xxxxxxxx)‡•§");if(d!==i)return k.error("‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡¶ø‡¶≤‡¶õ‡ßá ‡¶®‡¶æ!");if(d.length<6)return k.error("‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ß¨ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§");if(!x)return k.error("‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");o(!0);try{await h(r,y,d,l,x),k.success("‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶´‡¶≤!",{duration:6e3,icon:"‚úÖ"}),L("/admin/dashboard")}catch(R){console.error(R),R.code==="auth/email-already-in-use"?k.error("‡¶è‡¶á ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡ßÉ‡¶§ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§"):k.error("‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•: "+R.message)}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4 font-bangla",children:e.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-2xl p-8 space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center border-b pb-4",children:"‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶®"}),e.jsx("p",{className:"text-xs text-center text-gray-500 bg-blue-50 p-2 rounded border border-blue-200",children:"‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°‡ßá ‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§"}),e.jsxs("form",{className:"space-y-4",onSubmit:C,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"‡¶®‡¶æ‡¶Æ"}),e.jsx("input",{type:"text",value:r,onChange:m=>b(m.target.value),required:!0,className:"w-full px-3 py-2 border rounded-lg focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"‡¶á‡¶Æ‡ßá‡¶á‡¶≤"}),e.jsx("input",{type:"email",value:y,onChange:m=>S(m.target.value),required:!0,className:"w-full px-3 py-2 border rounded-lg focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞"}),e.jsx("input",{type:"text",value:l,onChange:p,required:!0,placeholder:"017XXXXXXXX",className:"w-full px-3 py-2 border rounded-lg focus:ring-indigo-500"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"‡¶Ö‡¶¨‡¶∂‡ßç‡¶Ø‡¶á ‡ßß‡ßß ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ / ‡¶¶‡¶≤"}),e.jsxs("select",{value:x,onChange:m=>j(m.target.value),required:!0,className:"w-full px-3 py-2 border rounded-lg focus:ring-indigo-500 bg-white",children:[u.length===0&&e.jsx("option",{children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá..."}),u.map(m=>e.jsxs("option",{value:m.id,children:[m.description,"-",m.name]},m.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°"}),e.jsx("input",{type:"password",value:d,onChange:m=>M(m.target.value),required:!0,className:"w-full px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("input",{type:"password",value:i,onChange:m=>D(m.target.value),required:!0,className:"w-full px-3 py-2 border rounded-lg"})]})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg shadow font-bold transition",children:c?"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶ö‡ßç‡¶õ‡ßá...":"‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsxs("div",{className:"text-sm text-center pt-4 border-t",children:["‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶Ü‡¶õ‡ßá? ",e.jsx(Ae,{to:"/admin/login",className:"text-indigo-600 font-bold",children:"‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]})})}function $t({show:r,onClose:b,title:y,children:S}){return r?e.jsxs(n.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40 bg-black/30 backdrop-blur-sm transition-opacity",onClick:b}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:e.jsxs("div",{className:"w-full max-w-lg bg-white rounded-xl shadow-2xl font-bangla transform transition-all pointer-events-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:y}),e.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full p-1 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"p-6",children:S})]})})]}):null}function Gt(){const[r,b]=n.useState([]),[y,S]=n.useState([]),[l,v]=n.useState(!0),[x,j]=n.useState(!1),[d,M]=n.useState(!1),[i,D]=n.useState(null),[u,g]=n.useState({name:"",description:"",teamLeaders:[]}),[c,o]=n.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{},type:"primary"}),[h,L]=n.useState(""),p=n.useCallback(async()=>{try{v(!0);const[s,f]=await Promise.all([xe(ee(_,"groups")),xe(ee(_,"users"))]);b(s.docs.map(w=>({...w.data(),id:w.id}))),S(f.docs.map(w=>({id:w.id,...w.data()})))}catch(s){k.error("‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§"),console.error(s)}finally{v(!1)}},[]);n.useEffect(()=>{p()},[p]);const C=()=>{M(!1),g({name:"",description:"",teamLeaders:[]}),L(""),j(!0)},m=s=>{M(!0),D(s),g({name:s.name,description:s.description||"",teamLeaders:s.teamLeaders||[]}),L(""),j(!0)},A=()=>{j(!1),D(null)},R=(s,f)=>{g(w=>{const $=w.teamLeaders.find(Q=>Q.id===s);let E;return $?E=w.teamLeaders.filter(Q=>Q.id!==s):E=[...w.teamLeaders,{id:s,name:f}],{...w,teamLeaders:E}})},W=async()=>{if(!u.name.trim()){k.error("‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®!");return}try{d&&i?(await ie(K(_,"groups",i.id),{name:u.name,description:u.description,teamLeaders:u.teamLeaders}),k.success("‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!")):(await Fe(ee(_,"groups"),u),k.success("‡¶®‡¶§‡ßÅ‡¶® ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!")),A(),p()}catch(s){k.error("‡¶Ö‡¶™‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§"),console.error(s)}},q=s=>{o({isOpen:!0,title:"‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®",message:"‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶è‡¶á ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡¶ü‡¶ø ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§? ‡¶è‡¶á ‡¶ï‡¶æ‡¶ú‡¶ü‡¶ø ‡¶Ü‡¶∞ ‡¶´‡ßá‡¶∞‡¶§ ‡¶®‡ßá‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶®‡¶æ‡•§",type:"danger",onConfirm:async()=>{try{const f=K(_,"groups",s);await Pe(f),k.success("‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§"),p()}catch{k.error("‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§")}}})},z=y.filter(s=>s.name?.toLowerCase().includes(h.toLowerCase())||s.mobile?.includes(h));return e.jsxs("div",{className:"p-4 md:p-8 font-bangla max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["‡¶Æ‡ßã‡¶ü ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™: ",r.length]})]}),e.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-bold rounded-lg shadow-md transition-all active:scale-95",children:[e.jsx("span",{children:"+"})," ",e.jsx("span",{className:"hidden sm:inline",children:"‡¶®‡¶§‡ßÅ‡¶® ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™"})]})]}),l?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):r.length===0?e.jsx("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm border border-gray-100",children:e.jsx("p",{className:"text-gray-500",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶®‡ßá‡¶á‡•§"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(s=>e.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow group relative flex flex-col h-full",children:[e.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[e.jsx("button",{onClick:()=>m(s),className:"p-1.5 text-indigo-600 hover:bg-indigo-50 rounded-md bg-white shadow-sm",title:"‡¶è‡¶°‡¶ø‡¶ü",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>q(s.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-md bg-white shadow-sm",title:"‡¶°‡¶ø‡¶≤‡¶ø‡¶ü",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600 font-bold text-lg shrink-0",children:s.name.charAt(0)}),e.jsx("h3",{className:"text-lg font-bold text-gray-800 break-words",children:s.name})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 mb-3",children:s.description||"‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ ‡¶®‡ßá‡¶á"}),s.teamLeaders&&s.teamLeaders.length>0&&e.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-50",children:[e.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold mb-1",children:"‡¶ü‡¶ø‡¶Æ ‡¶≤‡¶ø‡¶°‡¶æ‡¶∞"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.teamLeaders.map(f=>e.jsx("span",{className:"text-xs bg-indigo-50 text-indigo-700 px-2 py-0.5 rounded-full font-medium border border-indigo-100",children:f.name},f.id))})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-4 pt-3 border-t border-gray-50 sm:hidden",children:[e.jsx("button",{onClick:()=>m(s),className:"text-xs font-bold text-indigo-600",children:"‡¶è‡¶°‡¶ø‡¶ü"}),e.jsx("button",{onClick:()=>q(s.id),className:"text-xs font-bold text-red-600",children:"‡¶°‡¶ø‡¶≤‡¶ø‡¶ü"})]})]},s.id))}),e.jsx($t,{show:x,onClose:A,title:d?"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶è‡¶°‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®":"‡¶®‡¶§‡ßÅ‡¶® ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®",children:e.jsxs("form",{onSubmit:W,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ*"}),e.jsx("input",{type:"text",value:u.name,onChange:s=>g({...u,name:s.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",placeholder:"‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£: ‡¶ö‡ßå‡¶ß‡ßÅ‡¶∞‡ßÄ ‡¶¨‡¶Ç‡¶∂"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡¶ø‡¶™‡ßç‡¶§ ‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ"}),e.jsx("textarea",{value:u.description,onChange:s=>g({...u,description:s.target.value}),rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",placeholder:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"‡¶ü‡¶ø‡¶Æ ‡¶≤‡¶ø‡¶°‡¶æ‡¶∞ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® (‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá)"}),e.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-2 bg-gray-50 border-b border-gray-200",children:e.jsx("input",{type:"text",placeholder:"‡¶®‡¶æ‡¶Æ ‡¶¨‡¶æ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶¶‡¶ø‡ßü‡ßá ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®...",value:h,onChange:s=>L(s.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded bg-white focus:outline-none focus:border-indigo-500"})}),e.jsx("div",{className:"max-h-40 overflow-y-auto p-2 space-y-1 custom-scrollbar",children:z.length>0?z.map(s=>{const f=u.teamLeaders.some(w=>w.id===s.id);return e.jsxs("div",{onClick:()=>R(s.id,s.name),className:`flex items-center justify-between p-2 rounded cursor-pointer transition-colors text-sm ${f?"bg-indigo-50 border border-indigo-200":"hover:bg-gray-50 border border-transparent"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${f?"bg-indigo-600 border-indigo-600":"border-gray-400"}`,children:f&&e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:s.name}),e.jsx("p",{className:"text-[10px] text-gray-500",children:s.mobile})]})]}),f&&e.jsx("span",{className:"text-indigo-600 text-xs font-bold",children:"‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡ßá‡¶°"})]},s.id)}):e.jsx("p",{className:"text-center text-gray-400 text-xs py-2",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø"})})]}),u.teamLeaders.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:u.teamLeaders.map(s=>e.jsxs("span",{className:"inline-flex items-center gap-1 bg-indigo-100 text-indigo-700 px-2 py-1 rounded text-xs font-medium",children:[s.name,e.jsx("button",{type:"button",onClick:()=>R(s.id,s.name),className:"hover:text-indigo-900",children:"√ó"})]},s.id))})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium transition-colors",children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-bold shadow-md transition-colors",children:d?"‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®":"‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]})}),e.jsx($e,{config:c,onClose:()=>o({...c,isOpen:!1})})]})}function Bt(){const{user:r}=we(),[b,y]=n.useState(r.displayName||""),S=r.email||"",[l,v]=n.useState(""),[x,j]=n.useState(""),[d,M]=n.useState(!1),[i,D]=n.useState(!1),u=async c=>{c.preventDefault(),M(!0);try{await Ke(Ie.currentUser,{displayName:b}),k.success("‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!")}catch(o){k.error("‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§"),console.error(o)}finally{M(!1)}},g=async c=>{if(c.preventDefault(),l!==x)return k.error("‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡ßÅ‡¶ü‡¶ø ‡¶Æ‡¶ø‡¶≤‡¶õ‡ßá ‡¶®‡¶æ!");if(l.length<6)return k.error("‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ß¨ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§");D(!0);try{await bt(Ie.currentUser,l),k.success("‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!"),v(""),j("")}catch(o){o.code==="auth/requires-recent-login"?k.error("‡¶è‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶Ç‡¶¨‡ßá‡¶¶‡¶®‡¶∂‡ßÄ‡¶≤ ‡¶ï‡¶æ‡¶ú‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"):k.error("‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§"),console.error(o)}finally{D(!1)}};return e.jsxs("div",{className:"p-4 md:p-8 font-bangla max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏"}),e.jsx("p",{className:"text-sm text-gray-500",children:"‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶ó‡¶§ ‡¶§‡¶•‡ßç‡¶Ø ‡¶è‡¶¨‡¶Ç ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-indigo-100 mx-auto mb-4 flex items-center justify-center text-3xl font-bold text-indigo-600 border-4 border-white shadow-lg",children:r.displayName?.charAt(0)||"U"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:r.displayName||"‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:r.email}),e.jsx("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-indigo-50 text-indigo-700 text-xs font-semibold",children:"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®"})]})}),e.jsxs("div",{className:"md:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-50",children:e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶§‡¶•‡ßç‡¶Ø"})}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶™‡ßÅ‡¶∞‡ßã ‡¶®‡¶æ‡¶Æ"}),e.jsx("input",{type:"text",value:b,onChange:c=>y(c.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ"}),e.jsx("input",{type:"email",value:S,disabled:!0,className:"w-full px-4 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶æ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‡¶®‡ßü‡•§"})]}),e.jsx("div",{className:"pt-2 text-right",children:e.jsx("button",{type:"submit",disabled:d,className:`px-6 py-2 rounded-lg text-white font-medium shadow-sm transition-all ${d?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 active:scale-95"}`,children:d?"‡¶∏‡ßá‡¶≠ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...":"‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-50",children:e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®"})}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°"}),e.jsx("input",{type:"password",value:l,onChange:c=>v(c.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",placeholder:"‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ß¨ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("input",{type:"password",value:x,onChange:c=>j(c.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",placeholder:"‡¶è‡¶ï‡¶á ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®"})]}),e.jsx("div",{className:"pt-2 text-right",children:e.jsx("button",{type:"submit",disabled:i,className:`px-6 py-2 rounded-lg text-white font-medium shadow-sm transition-all ${i?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 active:scale-95"}`,children:i?"‡¶∏‡ßá‡¶≠ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...":"‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®"})})]})})]})]})]})]})}function Tt(){const[r,b]=n.useState([]),[y,S]=n.useState(0),[l,v]=n.useState(!1),[x,j]=n.useState(null),[d,M]=n.useState(!1),i=n.useRef(null),D="qr-reader";n.useEffect(()=>{const c=be(ee(_,"registrations"),Me("checkedIn","==",!0),De("checkInTime","desc")),o=ue(c,h=>{const L=h.docs.map(C=>({id:C.id,...C.data()}));let p=0;L.forEach(C=>p+=parseInt(C.totalMembers||0)),b(L),S(p)},h=>{console.error("Firestore query error:",h),k.error("‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§")});return()=>o()},[]),n.useEffect(()=>{if(!i.current){const c=new Ct(D,{qrbox:{width:250,height:250},fps:10,rememberLastUsedCamera:!0},!1),o=h=>{l||(i.current&&i.current.pause(!0),M(!0),v(!0),j(h),u(h))};c.render(o,()=>{}),i.current=c}return()=>{i.current&&(i.current.clear().catch(c=>console.error("Scanner clear failed.",c)),i.current=null)}},[]);const u=async c=>{try{const o=be(ee(_,"registrations"),Me("id","==",c)),h=await xe(o);if(h.empty)k.error("‚ùå ‡¶≠‡ßÅ‡¶≤ QR ‡¶ï‡ßã‡¶°! ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§");else{const L=h.docs[0],p=L.data(),C=K(_,"registrations",L.id);p.checkedIn?k.error(`‚ö†Ô∏è ${p.name} ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®!`):(await ie(C,{checkedIn:!0,checkInTime:new Date}),k.success(`‚úÖ ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ ${p.name}! (${p.totalMembers} ‡¶ú‡¶®)`))}}catch{k.error("‡¶∏‡ßç‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶ø‡¶Ç ‡¶è ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§")}finally{v(!1),setTimeout(()=>{i.current&&(i.current.getState()==="PAUSED"&&i.current.resume(),M(!1))},2e3)}},g=()=>{i.current&&i.current.getState()==="PAUSED"&&i.current.resume(),M(!1),j(null)};return e.jsxs("div",{className:"p-4 md:p-8 font-bangla max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶∏‡ßç‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶æ‡¶∞"}),e.jsx("p",{className:"text-sm text-gray-500",children:"‡¶Ö‡¶§‡¶ø‡¶•‡¶ø‡¶¶‡ßá‡¶∞ QR ‡¶ï‡ßã‡¶° ‡¶∏‡ßç‡¶ï‡ßç‡¶Ø‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-gray-100 overflow-hidden relative",children:[e.jsx("div",{id:D,className:`w-full rounded-xl overflow-hidden ${d?"hidden":"block"}`}),d&&e.jsx("div",{className:"absolute inset-0 bg-gray-900/95 flex flex-col items-center justify-center text-white p-6 z-10",children:l?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá..."}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["ID: ",x]})]}):e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto shadow-lg shadow-green-500/30",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold",children:"‡¶∏‡ßç‡¶ï‡ßç‡¶Ø‡¶æ‡¶® ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®!"}),e.jsx("p",{className:"text-gray-400 mt-1 text-sm break-all",children:x})]}),e.jsx("button",{onClick:g,className:"px-8 py-3 bg-white text-gray-900 font-bold rounded-xl hover:bg-gray-100 transition-colors shadow-lg active:scale-95",children:"‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶∏‡ßç‡¶ï‡ßç‡¶Ø‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl p-6 text-white shadow-lg shadow-emerald-500/20 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-emerald-100 text-sm font-medium uppercase tracking-wider",children:"‡¶Æ‡ßã‡¶ü ‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá"}),e.jsxs("h3",{className:"text-4xl font-bold mt-1",children:[y," ",e.jsx("span",{className:"text-lg font-normal opacity-80",children:"‡¶ú‡¶®"})]})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-50 bg-gray-50/50",children:e.jsx("h3",{className:"font-bold text-gray-800",children:"‡¶∏‡¶æ‡¶Æ‡ßç‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø"})}),e.jsx("div",{className:"max-h-[300px] overflow-y-auto custom-scrollbar",children:r.length>0?e.jsx("div",{className:"divide-y divide-gray-50",children:r.map(c=>e.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 text-indigo-600 flex items-center justify-center font-bold text-sm",children:c.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-800 text-sm",children:c.name}),e.jsxs("p",{className:"text-xs text-gray-400 font-mono",children:[c.id.slice(0,8),"..."]})]})]}),e.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-xs px-2.5 py-1 rounded-full font-bold",children:["+",c.totalMembers," ‡¶ú‡¶®"]})]},c.id))}):e.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"‡¶è‡¶ñ‡¶®‡¶ì ‡¶ï‡ßá‡¶â ‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂ ‡¶ï‡¶∞‡ßá‡¶®‡¶ø‡•§"})})]})]})}function qt(){const{users:r,loading:b}=ke(),y=b.users,[S,l]=n.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{},type:"primary"}),v=async d=>{try{const M=K(_,"users",d);await ie(M,{status:"approved"}),k.success("‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶Æ‡ßã‡¶¶‡¶ø‡¶§ ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‚úÖ")}catch{k.error("‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§")}},x=d=>{l({isOpen:!0,title:"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®",message:"‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶è‡¶á ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶ï‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶¨‡¶æ‡¶®‡¶æ‡¶§‡ßá ‡¶ö‡¶æ‡¶®?",type:"primary",onConfirm:async()=>{try{const M=K(_,"users",d);await ie(M,{role:"admin",status:"approved"}),k.success("‡¶®‡¶§‡ßÅ‡¶® ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá! üëë")}catch{k.error("‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§")}}})},j=d=>{l({isOpen:!0,title:"‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®",message:"‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶§‡¶æ: ‡¶è‡¶á ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá! ‡¶è‡¶á ‡¶ï‡¶æ‡¶ú‡¶ü‡¶ø ‡¶Ü‡¶∞ ‡¶´‡ßá‡¶∞‡¶§ ‡¶®‡ßá‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶®‡¶æ‡•§",type:"danger",onConfirm:async()=>{try{await Pe(K(_,"users",d)),k.success("‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§")}catch{k.error("‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø.")}}})};return e.jsxs("div",{className:"p-4 md:p-8 font-bangla max-w-7xl mx-auto space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["‡¶Æ‡ßã‡¶ü ‡¶á‡¶â‡¶ú‡¶æ‡¶∞: ",r.length]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:y?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):r.length===0?e.jsx("div",{className:"p-12 text-center text-gray-500",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶®‡ßá‡¶á‡•§"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-50",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"‡¶®‡¶æ‡¶Æ ‡¶ì ‡¶á‡¶Æ‡ßá‡¶á‡¶≤"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"‡¶∞‡ßã‡¶≤"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-50",children:r.map(d=>e.jsxs("tr",{className:"hover:bg-gray-50/80 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-xs mr-3",children:d.name?.charAt(0)||"U"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.name}),e.jsx("div",{className:"text-xs text-gray-500",children:d.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d.mobile}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full ${d.role==="admin"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"}`,children:d.role==="admin"?"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®":"‡¶á‡¶â‡¶ú‡¶æ‡¶∞"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full ${d.status==="approved"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:d.status==="approved"?"‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡ßü":"‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶®"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[d.status!=="approved"&&e.jsx("button",{onClick:()=>v(d.id),className:"text-green-600 hover:text-green-900 bg-green-50 hover:bg-green-100 px-2 py-1 rounded transition-colors",children:"Approve"}),d.role!=="admin"&&e.jsx("button",{onClick:()=>x(d.id),className:"text-indigo-600 hover:text-indigo-900 bg-indigo-50 hover:bg-indigo-100 px-2 py-1 rounded transition-colors",children:"Make Admin"}),e.jsx("button",{onClick:()=>j(d.id),className:"text-red-600 hover:text-red-900 bg-red-50 hover:bg-red-100 px-2 py-1 rounded transition-colors",children:"Delete"})]})]},d.id))})]})}),e.jsx("div",{className:"md:hidden divide-y divide-gray-100",children:r.map(d=>e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold text-sm",children:d.name?.charAt(0)||"U"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900",children:d.name}),e.jsx("p",{className:"text-xs text-gray-500",children:d.email})]})]}),e.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold rounded-full ${d.status==="approved"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:d.status==="approved"?"‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡ßü":"‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶®"})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 bg-gray-50 p-2 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block text-gray-400 text-[10px] uppercase",children:"‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤"}),e.jsx("span",{className:"font-medium",children:d.mobile})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"block text-gray-400 text-[10px] uppercase",children:"‡¶∞‡ßã‡¶≤"}),e.jsx("span",{className:`font-bold ${d.role==="admin"?"text-purple-600":"text-gray-600"}`,children:d.role==="admin"?"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®":"‡¶á‡¶â‡¶ú‡¶æ‡¶∞"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-1",children:[d.status!=="approved"&&e.jsx("button",{onClick:()=>v(d.id),className:"flex-1 px-3 py-1.5 bg-green-50 text-green-700 text-xs font-bold rounded-lg border border-green-100",children:"Approve"}),d.role!=="admin"&&e.jsx("button",{onClick:()=>x(d.id),className:"flex-1 px-3 py-1.5 bg-indigo-50 text-indigo-700 text-xs font-bold rounded-lg border border-indigo-100",children:"Make Admin"}),e.jsx("button",{onClick:()=>j(d.id),className:"px-3 py-1.5 bg-red-50 text-red-700 text-xs font-bold rounded-lg border border-red-100",children:"Delete"})]})]},d.id))})]})}),e.jsx($e,{config:S,onClose:()=>l({...S,isOpen:!1})})]})}function Xt(){const r=ze();return e.jsx("div",{className:"h-screen flex flex-col items-center justify-center bg-gray-100 font-bangla",children:e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üö´"}),e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-2",children:"‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂‡¶æ‡¶ß‡¶ø‡¶ï‡¶æ‡¶∞ ‡¶®‡ßá‡¶á!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶è‡¶á ‡¶™‡ßá‡¶ú‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶Æ‡¶§‡¶ø ‡¶®‡ßá‡¶á‡•§ ‡¶è‡¶ü‡¶ø ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶®‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§‡•§"}),e.jsx("button",{onClick:()=>r(-1),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:"‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®"})]})})}function Wt(){const{user:r}=we(),{donations:b,members:y,loading:S}=ke(),[l,v]=n.useState(""),[x,j]=n.useState("manual"),[d,M]=n.useState(!1),[i,D]=n.useState(null),[u,g]=n.useState(1),c=10,o=async m=>{if(m.preventDefault(),!l||l<=0)return k.error("‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶†‡¶ø‡¶ï ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ ‡¶¶‡¶ø‡¶®‡•§");if(!i)return k.error("‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ú‡¶® ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");M(!0);try{const A=new Date,W=`${["January","February","March","April","May","June","July","August","September","October","November","December"][A.getMonth()]} ${A.getFullYear()}`;await Fe(ee(_,"donations"),{memberId:i.value,userName:i.label.split(" (")[0],memberDisplayId:i.displayId,groupId:i.groupId||"N/A",amount:Number(l),date:et.fromDate(A),month:W,paymentMethod:x,status:"pending",recordedBy:r.uid,createdAt:A.toISOString()}),k.success("‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶ú‡¶Æ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!"),v(""),D(null)}catch(A){console.error(A),k.error("‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§")}finally{M(!1)}},h=n.useMemo(()=>{const m=new Date;return`${["January","February","March","April","May","June","July","August","September","October","November","December"][m.getMonth()]} ${m.getFullYear()}`},[]),L=n.useMemo(()=>b?b.filter(m=>m.month===h):[],[b,h]),p=n.useMemo(()=>{const m=(u-1)*c;return L.slice(m,m+c)},[L,u]),C=Math.ceil(L.length/c);return e.jsxs("div",{className:"font-bangla max-w-7xl mx-auto space-y-8 animate-fade-in",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-slate-800 flex items-center gap-3",children:[e.jsx("span",{className:"w-10 h-10 bg-indigo-600 rounded-2xl flex items-center justify-center text-white text-xl shadow-lg shadow-indigo-200",children:"‡ß≥"}),"‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤"]}),e.jsx("p",{className:"mt-2 text-slate-500 font-medium",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡¶¶‡ßá‡¶∞ ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π ‡¶è‡¶¨‡¶Ç ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"})]})}),e.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-xl shadow-slate-200/50 border border-slate-100 relative group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-50 rounded-bl-full -mr-10 -mt-10 opacity-50 group-hover:scale-110 transition-transform duration-500"}),e.jsxs("h2",{className:"text-xl font-black text-slate-800 mb-6 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"‡¶®‡¶§‡ßÅ‡¶® ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®"]}),e.jsxs("form",{onSubmit:o,className:"grid grid-cols-1 md:grid-cols-12 gap-6 items-end relative z-10",children:[e.jsxs("div",{className:"md:col-span-5",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 ml-1",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx(ve,{options:y.map(m=>({value:m.uniqueId||m.id,label:`${m.name} (${m.displayId||m.uniqueId||m.id})`,displayId:m.displayId||m.uniqueId||m.id,groupId:m.groupid||m.groupId})),value:i,onChange:D,placeholder:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶¨‡¶æ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¶‡¶ø‡ßü‡ßá ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®...",isSearchable:!0,noOptionsMessage:()=>"‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø",styles:{control:(m,A)=>({...m,height:"48px",fontSize:"15px",borderRadius:"16px",borderColor:A.isFocused?"#4f46e5":"#e2e8f0",boxShadow:A.isFocused?"0 0 0 1px #4f46e5":"none","&:hover":{borderColor:"#4f46e5"}}),placeholder:m=>({...m,color:"#94a3b8"}),option:(m,A)=>({...m,backgroundColor:A.isSelected?"#4f46e5":A.isFocused?"#f8fafc":"transparent"})}})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 ml-1",children:"‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£"}),e.jsxs("div",{className:"relative group/input",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold group-focus-within/input:text-indigo-600 transition-colors",children:"‡ß≥"}),e.jsx("input",{type:"number",value:l,onChange:m=>v(m.target.value),className:"w-full pl-10 pr-4 h-[48px] text-lg font-bold border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all placeholder:font-normal placeholder:text-slate-300",placeholder:"0.00",required:!0})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 ml-1",children:"‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ"}),e.jsxs("select",{value:x,onChange:m=>j(m.target.value),className:"w-full px-4 h-[48px] bg-slate-50 border border-slate-200 rounded-2xl font-bold text-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none appearance-none cursor-pointer",children:[e.jsx("option",{value:"manual",children:"‡¶®‡¶ó‡¶¶ / ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∂"}),e.jsx("option",{value:"bkash",children:"‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂"}),e.jsx("option",{value:"nagad",children:"‡¶®‡¶ó‡¶¶"})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("button",{type:"submit",disabled:d,className:"w-full h-[48px] bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-2xl shadow-lg shadow-indigo-200 transition-all flex items-center justify-center gap-2 group/btn active:scale-95 disabled:opacity-50 disabled:active:scale-100",children:d?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"‡¶°‡ßã‡¶®‡ßá‡¶ü"}),e.jsx("svg",{className:"w-4 h-4 group-hover/btn:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})})]})]}),e.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-xl shadow-slate-200/50 border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"px-8 py-6 border-b border-slate-50 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-50 rounded-2xl flex items-center justify-center text-emerald-600 text-xl font-bold",children:"üìã"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-slate-800",children:"‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶π‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø"}),e.jsxs("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:["‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶Æ‡¶æ‡¶∏‡ßá‡¶∞ (",h,") ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶®"]})]})]}),e.jsx("div",{className:"flex items-center gap-2 bg-slate-50 p-1.5 rounded-2xl border border-slate-200",children:e.jsxs("span",{className:"px-4 py-1.5 bg-white rounded-xl shadow-sm text-sm font-black text-indigo-600 border border-slate-100 italic",children:["TOTAL: ",L.length]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-50",children:[e.jsx("thead",{className:"bg-slate-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-8 py-4 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ"}),e.jsx("th",{className:"px-8 py-4 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶ì ‡¶Ü‡¶á‡¶°‡¶ø"}),e.jsx("th",{className:"px-8 py-4 text-left text-xs font-black text-slate-400 uppercase tracking-widest",children:"‡¶Æ‡¶æ‡¶∏"}),e.jsx("th",{className:"px-8 py-4 text-right text-xs font-black text-slate-400 uppercase tracking-widest",children:"‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£"}),e.jsx("th",{className:"px-8 py-4 text-center text-xs font-black text-slate-400 uppercase tracking-widest",children:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-slate-50",children:S.donations?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-8 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-sm font-bold text-slate-400",children:"‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá..."})]})})}):L.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-8 py-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-3xl flex items-center justify-center text-3xl",children:"üèúÔ∏è"}),e.jsx("p",{className:"text-slate-400 font-black",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø"})]})})}):p.map((m,A)=>e.jsxs("tr",{className:"group hover:bg-slate-50/80 transition-all duration-300",children:[e.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700",children:m.date?.toDate?m.date.toDate().toLocaleDateString("bn-BD"):new Date(m.createdAt).toLocaleDateString("bn-BD")}),e.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-tighter",children:m.date?.toDate?m.date.toDate().toLocaleTimeString("bn-BD",{hour:"2-digit",minute:"2-digit"}):""})]})}),e.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 font-black text-sm group-hover:bg-indigo-600 group-hover:text-white transition-colors duration-300",children:m.userName?.charAt(0)||"U"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-black text-slate-800",children:m.userName}),e.jsxs("div",{className:"text-[10px] text-slate-400 flex items-center gap-1 font-bold",children:[e.jsx("span",{className:"px-1.5 py-0.5 bg-slate-100 rounded text-slate-500",children:m.memberDisplayId||m.uniqueId}),e.jsxs("span",{className:"px-1.5 py-0.5 bg-indigo-50 text-indigo-500 rounded lowercase",children:["@",m.groupId]})]})]})]})}),e.jsx("td",{className:"px-8 py-5 whitespace-nowrap text-sm font-bold text-slate-500 hover:text-indigo-600 transition-colors",children:m.month}),e.jsx("td",{className:"px-8 py-5 whitespace-nowrap text-right",children:e.jsxs("span",{className:"text-lg font-black text-indigo-600 tabular-nums",children:["‡ß≥",m.amount.toLocaleString()]})}),e.jsx("td",{className:"px-8 py-5 whitespace-nowrap text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:`px-4 py-1.5 rounded-2xl text-[10px] font-black uppercase tracking-widest border-2 transition-all duration-300
                          ${m.status==="approved"?"bg-emerald-50 text-emerald-700 border-emerald-100 group-hover:bg-emerald-600 group-hover:text-white group-hover:border-emerald-600":"bg-amber-50 text-amber-700 border-amber-100 group-hover:bg-amber-500 group-hover:text-white group-hover:border-amber-500"}`,children:m.status==="approved"?"Success":"Pending"})})})]},m.id))})]})}),C>1&&e.jsxs("div",{className:"px-8 py-4 bg-slate-50/50 border-t border-slate-100 flex items-center justify-between",children:[e.jsxs("p",{className:"text-xs font-bold text-slate-400",children:["‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ ",u," (‡¶Æ‡ßã‡¶ü ",C,")"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{disabled:u===1,onClick:()=>g(m=>m-1),className:"px-4 py-1.5 bg-white border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-50 disabled:opacity-50 transition-colors",children:"‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶¨‡¶∞‡ßç‡¶§‡ßÄ"}),e.jsx("button",{disabled:u===C,onClick:()=>g(m=>m+1),className:"px-4 py-1.5 bg-white border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-50 disabled:opacity-50 transition-colors",children:"‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ"})]})]})]})]})}function Ot(){const[r,b]=n.useState(null),[y,S]=n.useState(!1),[l,v]=n.useState([]),x=i=>{const D=i.target.files[0];D&&(b(D),j(D))},j=i=>{const D=new FileReader;D.onload=u=>{const g=new Uint8Array(u.target.result),c=We(g,{type:"array"}),o=c.SheetNames[0],h=c.Sheets[o],L=se.sheet_to_json(h);v(L)},D.readAsArrayBuffer(i)},d=()=>{const i=[{"Member ID":"M-XXXXXX",Amount:500,Month:"January 2026"}],D=se.json_to_sheet(i),u=se.book_new();se.book_append_sheet(u,D,"Donations"),Le(u,"bulk_donation_sample.xlsx"),k.success("‡¶∏‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™‡¶≤ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...")},M=async()=>{if(l.length===0)return k.error("‡¶ï‡ßã‡¶®‡ßã ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§");S(!0);try{const i=Re(_),D=ee(_,"members"),u=ee(_,"donations"),g=await xe(D),c={};g.forEach(L=>{const p=L.data(),C={id:L.id,name:p.name,displayId:p.displayId,groupId:p.groupid||p.groupId||"N/A"};p.uniqueId&&(c[p.uniqueId]=C),p.displayId&&(c[p.displayId]=C)});let o=0,h=0;for(const L of l){const p=L["Member ID"]?.toString(),C=L.Amount,m=c[p];if(m&&C){const A=K(u);i.set(A,{memberId:m.id,memberDisplayId:m.displayId,userName:m.name,groupId:m.groupId,amount:Number(C),date:et.now(),month:L.Month||new Date().toLocaleString("default",{month:"long",year:"numeric"}),paymentMethod:"excel_upload",status:"approved",createdAt:new Date().toISOString()}),o++}else console.warn("Failed to match member for row:",L),h++}o>0?(await i.commit(),k.success(`${o} ‡¶ü‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶∏‡¶´‡¶≤! (${h} ‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•)`),b(null),v([])):k.error("‡¶ï‡ßã‡¶®‡ßã ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶° ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§")}catch(i){console.error("Upload error:",i),k.error("‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§")}finally{S(!1)}};return e.jsxs("div",{className:"font-bangla max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"‡¶¨‡¶æ‡¶≤‡ßç‡¶ï ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶Ü‡¶™‡¶≤‡ßã‡¶°"}),e.jsx("button",{onClick:d,className:"text-xs text-indigo-600 hover:underline bg-transparent border-none cursor-pointer",children:"‡¶∏‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™‡¶≤ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 text-center",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"text-4xl mb-3",children:"üìÇ"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Excel ‡¶´‡¶æ‡¶á‡¶≤ (.xlsx) ‡¶°‡ßç‡¶∞‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶¨‡¶æ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:x,className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 transition-colors",children:"‡¶´‡¶æ‡¶á‡¶≤ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®"}),r&&e.jsx("p",{className:"mt-3 text-sm font-medium text-green-600",children:r.name})]}),l.length>0&&e.jsxs("div",{className:"mt-6 text-left",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700",children:["‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â (",l.length," ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶°)"]}),e.jsx("button",{onClick:M,disabled:y,className:"px-4 py-1.5 bg-green-600 text-white text-xs font-bold rounded shadow hover:bg-green-700 transition-colors",children:y?"‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...":"‡¶∏‡¶¨ ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-100 text-xs",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0",children:e.jsx("tr",{children:Object.keys(l[0]).map(i=>e.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-500",children:i},i))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-50",children:l.slice(0,10).map((i,D)=>e.jsx("tr",{children:Object.values(i).map((u,g)=>e.jsx("td",{className:"px-3 py-2 text-gray-700",children:u},g))},D))})]})}),l.length>10&&e.jsxs("p",{className:"text-xs text-gray-400 mt-2 text-center",children:["‡¶Ü‡¶∞‡¶ì ",l.length-10," ‡¶ü‡¶ø ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶°..."]})]})]})]})}function Yt(){const[r,b]=n.useState(null),[y,S]=n.useState(!1),[l,v]=n.useState([]),[x,j]=n.useState([]);n.useEffect(()=>{(async()=>{try{const c=(await xe(ee(_,"groups"))).docs.map(o=>({id:o.id,name:o.data().name,description:o.data().description}));j(c)}catch(g){console.error("Error fetching groups:",g)}})()},[]);const d=u=>{const g=u.target.files[0];g&&(b(g),M(g))},M=u=>{const g=new FileReader;g.onload=c=>{const o=new Uint8Array(c.target.result),h=We(o,{type:"array"}),L=h.SheetNames[0],p=h.Sheets[L],C=se.sheet_to_json(p);v(C)},g.readAsArrayBuffer(u)},i=async()=>{if(l.length===0)return k.error("‡¶ï‡ßã‡¶®‡ßã ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§");S(!0);try{const u=Re(_),g=ee(_,"registrations"),c={};l.forEach(L=>{const p=L.Mobile?.toString().replace(/['" ]/g,"");if(p){if(!c[p]){c[p]={name:L["Head Name"]||L["Participant Name"],mobile:p,email:L.Email||"",group_id:"",contributeAmount:L.Amount||0,paymentStatus:L.Status||"Pending",members:[]};const C=L.Group,m=x.find(A=>A.name?.toLowerCase()===C?.toLowerCase()||A.description?.toLowerCase()===C?.toLowerCase());m&&(c[p].group_id=m.id)}c[p].members.push({member_name:L["Participant Name"]||"",gender:L.Gender||"Male",age:L.Age||"",t_shirt_size:L["T-Shirt Size"]||"L",birthYear:L["Birth Year"]||"",birthdate:L.Birthdate||""})}});const o=Object.values(c);let h=0;for(const L of o){if(!L.group_id){console.warn(`Skipping registration for ${L.mobile}: Group not found.`);continue}const p="HF-"+Math.floor(1e5+Math.random()*9e5),C=K(g);u.set(C,{...L,id:p,totalMembers:L.members.length,createdAt:new Date,importSource:"excel_upload"}),h++}h>0?(await u.commit(),k.success(`${h} ‡¶ü‡¶ø ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶π‡ßü‡ßá‡¶õ‡ßá!`),b(null),v([])):k.error("‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶¨‡¶æ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶®‡¶æ‡¶Æ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§")}catch(u){console.error("Upload error:",u),k.error("‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§")}finally{S(!1)}},D=()=>{const u=[{Mobile:"01711223344","Head Name":"M Nafiz",Email:"nafiz@example.com",Group:"2010",Amount:2e3,Status:"Paid","Participant Name":"M Nafiz",Gender:"Male",Age:32,"T-Shirt Size":"L","Birth Year":1994,Birthdate:"1994-05-15"},{Mobile:"01711223344","Head Name":"M Nafiz",Email:"nafiz@example.com",Group:"2010",Amount:2e3,Status:"Paid","Participant Name":"Mrs. Nafiz",Gender:"Female",Age:28,"T-Shirt Size":"M","Birth Year":1998,Birthdate:"1998-10-20"}],g=se.json_to_sheet(u),c=se.book_new();se.book_append_sheet(c,g,"Registrations"),Le(c,"registration_sample.xlsx")};return e.jsxs("div",{className:"font-bangla max-w-6xl mx-auto space-y-6 p-4 md:p-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"‡¶¨‡¶æ‡¶≤‡ßç‡¶ï ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶Ü‡¶™‡¶≤‡ßã‡¶°"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶≤ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶Ö‡¶®‡ßá‡¶ï ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsxs("button",{onClick:D,className:"text-xs px-3 py-1.5 bg-indigo-50 text-indigo-600 border border-indigo-200 rounded hover:bg-indigo-100 transition-colors flex items-center gap-1 font-bold",children:[e.jsx("span",{children:"üì•"})," ‡¶∏‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™‡¶≤ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°"]}),e.jsx("p",{className:"text-[10px] text-gray-400 max-w-xs leading-relaxed text-right",children:"Mobile, Head Name, Email, Group, Amount, Status, Participant Name, Gender, Age, T-Shirt Size, Birth Year, Birthdate"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-10 hover:bg-gray-50 transition-colors text-center",children:[e.jsx("div",{className:"text-5xl mb-4",children:"üìÑ"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡¶Æ‡ßç‡¶¨‡¶≤‡¶ø‡¶§ Excel ‡¶´‡¶æ‡¶á‡¶≤ (.xlsx) ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶°‡ßç‡¶∞‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:d,className:"hidden",id:"reg-file-upload"}),e.jsx("label",{htmlFor:"reg-file-upload",className:"cursor-pointer px-6 py-2.5 bg-indigo-600 text-white text-sm font-bold rounded-lg hover:bg-indigo-700 transition-all shadow-md active:scale-95",children:"‡¶´‡¶æ‡¶á‡¶≤ ‡¶¨‡¶æ‡¶õ‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®"}),r&&e.jsxs("p",{className:"mt-4 text-sm font-semibold text-green-600",children:["‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§: ",r.name]})]}),l.length>0&&e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center border-b pb-3",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-700",children:["‡¶´‡¶æ‡¶á‡¶≤ ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â (",l.length," ‡¶∏‡¶æ‡¶∞‡¶ø)"]}),e.jsx("button",{onClick:i,disabled:y,className:`px-6 py-2 rounded-lg text-white font-bold text-sm shadow-lg transition-all ${y?"bg-gray-400":"bg-green-600 hover:bg-green-700 active:scale-95"}`,children:y?"‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...":"‡¶∏‡¶¨ ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsx("div",{className:"overflow-x-auto border rounded-xl shadow-inner bg-gray-50",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsx("tr",{children:Object.keys(l[0]).map(u=>e.jsx("th",{className:"px-4 py-3 text-left font-bold text-gray-600 uppercase tracking-wider",children:u},u))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:l.slice(0,15).map((u,g)=>e.jsx("tr",{className:"hover:bg-gray-50 transition-colors",children:Object.values(u).map((c,o)=>e.jsx("td",{className:"px-4 py-3 text-gray-700",children:c?.toString()},o))},g))})]})}),l.length>15&&e.jsxs("p",{className:"text-xs text-gray-400 text-center italic",children:["‡¶Ü‡¶∞‡¶ì ",l.length-15," ‡¶ü‡¶ø ‡¶∏‡¶æ‡¶∞‡¶ø ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â‡¶§‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶π‡ßü‡¶®‡¶ø..."]})]})]}),e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-100",children:[e.jsx("h4",{className:"text-sm font-bold text-indigo-800 mb-2",children:"üí° ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶è‡¶¨‡¶Ç ‡¶ü‡¶ø‡¶™‡¶∏:"}),e.jsxs("ul",{className:"text-xs text-indigo-700 space-y-1 ml-4 list-disc",children:[e.jsx("li",{children:"‡¶è‡¶ï‡¶á ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡¶¶‡ßá‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®‡ßá‡¶∞ ‡¶Ö‡¶ß‡ßÄ‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡¶¨‡ßá‡•§"}),e.jsx("li",{children:'‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶Ö‡¶¨‡¶∂‡ßç‡¶Ø‡¶á ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶π‡ßÅ‡¶¨‡¶π‡ßÅ ‡¶Æ‡¶ø‡¶≤‡¶§‡ßá ‡¶π‡¶¨‡ßá (‡¶Ø‡ßá‡¶Æ‡¶®: "2010" ‡¶¨‡¶æ "Bsc 1st Batch")‡•§'}),e.jsx("li",{children:'‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ "Paid", "Pending" ‡¶¨‡¶æ "Waived" ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§'})]})]})]})}const Ut=()=>e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})});function Ht(){const{donations:r,groups:b,members:y,loading:S}=ke(),l=S.donations||S.groups||S.members,[v,x]=n.useState(null),[j,d]=n.useState(null),[M,i]=n.useState(!1),[D,u]=n.useState(!1),[g,c]=n.useState({topGroup:null,topMember:null,participation:{donated:0,total:0},zeroDonationGroups:[],nonDonatingMembers:[],monthlyStats:[],yearlyStats:[]}),[o,h]=n.useState(1),L=15,[p,C]=n.useState(""),[m,A]=n.useState(""),[R,W]=n.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{},type:"primary"});n.useEffect(()=>{!S.donations&&!S.groups&&!S.members&&q(r,b,y)},[r,b,y,S]);const q=(N,O,P)=>{if(!N||!O||!P)return;const V={},re={},de={},le={};O.forEach(a=>V[a.id]=0),N.forEach(a=>{if(a.status?.toLowerCase()==="approved"){const U=Number(a.amount)||0;a.groupId&&(V[a.groupId]=(V[a.groupId]||0)+U),a.memberId&&(re[a.memberId]=(re[a.memberId]||0)+U),a.month&&(de[a.month]=(de[a.month]||0)+U);const Se=(a.date?.toDate?a.date.toDate():new Date(a.createdAt)).getFullYear();le[Se]=(le[Se]||0)+U}});let je=null,ge=-1;Object.entries(V).forEach(([a,F])=>{F>ge&&(ge=F,je=a)});const t=O.find(a=>a.id===je);let B=null,J=-1;Object.entries(re).forEach(([a,F])=>{F>J&&(J=F,B=a)});const H=P.find(a=>a.id===B),X=O.filter(a=>!V[a.id]||V[a.id]===0),T=P.filter(a=>!re[a.id]);c({topGroup:t?{...t,total:ge}:null,topMember:H?{...H,total:J}:null,participation:{donated:Object.keys(re).length,total:P.length},zeroDonationGroups:X,nonDonatingMembers:T,monthlyStats:de,yearlyStats:le})},z=N=>{W({isOpen:!0,title:"‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®",message:"‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶Ø‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶á ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶®‡¶ü‡¶ø ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®? ‡¶è‡¶á ‡¶ï‡¶æ‡¶ú‡¶ü‡¶ø ‡¶Ü‡¶∞ ‡¶´‡ßá‡¶∞‡¶§ ‡¶®‡ßá‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶®‡¶æ‡•§",type:"danger",onConfirm:async()=>{x(N);try{await Pe(K(_,"donations",N)),k.success("‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!")}catch(O){console.error("Error deleting:",O),k.error("‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§")}finally{x(null)}}})},s=N=>{d({...N}),i(!0)},f=async N=>{if(N.preventDefault(),!!j){x(j.id);try{let O={};if(j.memberId){const V=y.find(re=>re.id===j.memberId);V&&(O={userName:V.name,memberDisplayId:V.displayId,groupId:V.groupid||j.groupId})}const P={amount:Number(j.amount),month:j.month,status:j.status,memberId:j.memberId,...O};await ie(K(_,"donations",j.id),P),k.success("‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá!"),i(!1),d(null)}catch(O){console.error("Edit error",O),k.error("‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø")}finally{x(null)}}},w=async()=>{const N=I.filter(O=>O.status?.toLowerCase()!=="approved");if(N.length===0)return k.error("‡¶ï‡ßã‡¶®‡ßã ‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶®‡ßá‡¶á‡•§");W({isOpen:!0,title:"‡¶¨‡¶æ‡¶≤‡ßç‡¶ï ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶∞‡ßÅ‡¶≠ ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®",message:`${N.length} ‡¶ü‡¶ø ‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶∞‡ßÅ‡¶≠ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?`,type:"success",onConfirm:async()=>{u(!0);try{for(let P=0;P<N.length;P+=500){const V=N.slice(P,P+500),re=Re(_);V.forEach(de=>{const le=K(_,"donations",de.id);re.update(le,{status:"approved"})}),await re.commit()}k.success("‡¶∏‡¶¨ ‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶∞‡ßÅ‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!")}catch(O){console.error(O),k.error("Bulk approve failed")}finally{u(!1)}}})},$=N=>{W({isOpen:!0,title:"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶∞‡ßÅ‡¶≠ ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®",message:"‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶Ø‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶á ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶®‡¶ü‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶∞‡ßÅ‡¶≠ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?",type:"success",onConfirm:async()=>{x(N);try{const O=K(_,"donations",N);await ie(O,{status:"approved"}),k.success("‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶∞‡ßÅ‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!")}catch(O){console.error("Error approving:",O),k.error("‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶∞‡ßÅ‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§")}finally{x(null)}}})},E=N=>{if(!N)return new Date(0);const O=["January","February","March","April","May","June","July","August","September","October","November","December"],P=N.split(" ");if(P.length!==2)return new Date(0);const V=O.indexOf(P[0]);return new Date(P[1],V)},Q=n.useMemo(()=>r?[...new Set(r.map(N=>N.month))].filter(Boolean).sort((N,O)=>E(O)-E(N)):[],[r]),ne=Q.slice(0,2),I=n.useMemo(()=>r?r.filter(N=>{const O=p?N.month===p:ne.includes(N.month),P=m?N.groupId===m:!0;return O&&P}):[],[r,p,m,ne]),Z=I.reduce((N,O)=>N+(O.status?.toLowerCase()==="approved"&&Number(O.amount)||0),0),me=n.useMemo(()=>{const N=(o-1)*L;return I.slice(N,N+L)},[I,o]),he=Math.ceil(I.length/L),fe=Q;return e.jsxs("div",{className:"font-bangla min-h-screen bg-slate-50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto mb-10 text-center md:text-left",children:[e.jsx("div",{className:"inline-block px-4 py-1.5 mb-4 text-xs font-bold tracking-widest text-indigo-600 uppercase bg-indigo-50 rounded-full animate-fade-in",children:"‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°"}),e.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-slate-800 tracking-tight animate-fade-in animate-delay-100",children:["‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶®"," ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:"‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ"})]}),e.jsx("p",{className:"mt-3 text-lg text-slate-500 font-medium animate-fade-in animate-delay-200",children:"‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶∏‡¶ï‡¶≤ ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π ‡¶ì ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶® ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®‡•§"})]}),e.jsx("div",{className:"max-w-7xl mx-auto",children:l?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 animate-pulse",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-slate-500 font-bold",children:"‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-10",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-indigo-800 rounded-3xl p-6 text-white shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-200 mb-1",children:"üèÜ ‡¶∂‡ßÄ‡¶∞‡ßç‡¶∑ ‡¶¶‡¶æ‡¶§‡¶æ (‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø)"}),g.topMember?e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"text-xl font-black truncate",children:g.topMember.name}),e.jsxs("p",{className:"text-3xl font-black mt-2",children:["‡ß≥",g.topMember.total.toLocaleString()]})]}):e.jsx("p",{className:"text-xl font-bold opacity-50",children:"N/A"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-purple-800 rounded-3xl p-6 text-white shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-white/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-purple-200 mb-1",children:"üö© ‡¶∂‡ßÄ‡¶∞‡ßç‡¶∑ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™"}),g.topGroup?e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"text-xl font-black truncate",children:g.topGroup.name}),e.jsxs("p",{className:"text-3xl font-black mt-2",children:["‡ß≥",g.topGroup.total.toLocaleString()]})]}):e.jsx("p",{className:"text-xl font-bold opacity-50",children:"N/A"})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 flex flex-col justify-center",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"‡¶Ö‡¶Ç‡¶∂‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶π‡¶æ‡¶∞"}),e.jsxs("span",{className:"text-lg font-black text-slate-800",children:[(g.participation.donated/(g.participation.total||1)*100).toFixed(0),"%"]})]}),e.jsx("div",{className:"w-full bg-slate-100 h-3 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-1000",style:{width:`${g.participation.donated/(g.participation.total||1)*100}%`}})}),e.jsxs("p",{className:"text-[10px] text-slate-400 mt-2 font-bold",children:[g.participation.donated," /"," ",g.participation.total," ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®"]})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 mb-10",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-4 bg-indigo-600 rounded-full"}),"‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶∞‡¶ø"]})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Object.entries(g.monthlyStats).sort((N,O)=>E(O[0])-E(N[0])).slice(0,6).map(([N,O])=>e.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 hover:border-indigo-200 transition-colors",children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:N}),e.jsxs("p",{className:"text-lg font-black text-slate-800 mt-1",children:["‡ß≥",O.toLocaleString()]})]},N))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 border-l-4 border-l-emerald-500",children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π"}),e.jsxs("h3",{className:"text-2xl font-black text-slate-800 mt-1",children:["‡ß≥",Z.toLocaleString()]})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 border-l-4 border-l-amber-500",children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶®"}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 mt-1",children:I.filter(N=>N.status?.toLowerCase()!=="approved").length})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 border-l-4 border-l-indigo-500",children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"‡¶Æ‡ßã‡¶ü ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶®"}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 mt-1",children:I.length})]})]}),e.jsxs("div",{className:"sticky top-4 z-30 bg-white/80 backdrop-blur-md p-4 rounded-3xl shadow-lg border border-white/50 flex flex-wrap gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex shrink-0",children:e.jsxs("select",{value:p,onChange:N=>{C(N.target.value),h(1)},className:"pl-4 pr-10 py-2.5 bg-slate-50 border-0 rounded-2xl text-sm font-bold text-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"‡¶∂‡ßá‡¶∑ ‡ß® ‡¶Æ‡¶æ‡¶∏"}),fe.map(N=>e.jsx("option",{value:N,children:N},N))]})}),e.jsx("div",{className:"flex shrink-0",children:e.jsxs("select",{value:m,onChange:N=>{A(N.target.value),h(1)},className:"pl-4 pr-10 py-2.5 bg-slate-50 border-0 rounded-2xl text-sm font-bold text-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none appearance-none cursor-pointer",children:[e.jsx("option",{value:"",children:"‡¶∏‡¶ï‡¶≤ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™"}),b.map(N=>e.jsx("option",{value:N.id,children:N.name},N.id))]})})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:w,disabled:D||!I.some(N=>N.status?.toLowerCase()!=="approved"),className:`px-6 py-2.5 rounded-2xl text-sm font-black transition-all duration-300 shadow-md flex items-center gap-2 ${I.some(N=>N.status?.toLowerCase()!=="approved")?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white hover:shadow-emerald-200 hover:scale-105 active:scale-95":"bg-slate-100 text-slate-400 cursor-not-allowed"}`,children:D?"‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç...":"‡¶∏‡¶¨ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶∞‡ßÅ‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®"})})]}),e.jsxs("div",{className:"bg-white rounded-[2rem] shadow-xl border border-slate-100 overflow-hidden animate-fade-in",children:[e.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50",children:[e.jsx("th",{className:"group px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest border-b border-slate-100",children:"‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ"}),e.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest border-b border-slate-100",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶ì ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™"}),e.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest border-b border-slate-100 text-right",children:"‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£"}),e.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest border-b border-slate-100 text-center",children:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏"}),e.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest border-b border-slate-100 text-right",children:"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:l?[1,2,3,4,5].map(N=>e.jsx("tr",{className:"animate-pulse",children:e.jsx("td",{colSpan:"5",className:"px-8 py-6 h-16 bg-slate-50/20"})},N)):me.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-8 py-20 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3 grayscale opacity-30",children:[e.jsx(Ut,{}),e.jsx("p",{className:"text-sm font-bold text-slate-500",children:"‡¶è‡¶á ‡¶∏‡¶Æ‡ßü‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶§‡¶•‡ßç‡¶Ø ‡¶®‡ßá‡¶á!"})]})})}):me.map(N=>e.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-colors duration-200",children:[e.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-bold text-slate-600 bg-slate-100/50 px-3 py-1 rounded-lg",children:N.date?.toDate?N.date.toDate().toLocaleDateString("bn-BD"):new Date(N.createdAt).toLocaleDateString("bn-BD")})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-black text-slate-800",children:N.userName}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-[10px] font-bold text-indigo-500 bg-indigo-50 px-2 py-0.5 rounded-md uppercase",children:b.find(O=>O.id===N.groupId)?.name||"N/A"}),e.jsxs("span",{className:"text-[10px] font-medium text-slate-400",children:["ID: ",N.memberDisplayId||N.memberId]})]})]})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsxs("span",{className:"text-lg font-black text-indigo-600 tracking-tight",children:["‡ß≥",N.amount.toLocaleString()]})}),e.jsx("td",{className:"px-8 py-6 text-center",children:e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${N.status?.toLowerCase()==="approved"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-amber-50 text-amber-600 border border-amber-100 animate-pulse"}`,children:N.status?.toLowerCase()==="approved"?"‡¶Ö‡¶®‡ßÅ‡¶Æ‡ßã‡¶¶‡¶ø‡¶§":"‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶®"})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2 translate-y-2 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300",children:[N.status?.toLowerCase()!=="approved"&&e.jsx("button",{onClick:()=>$(N.id),className:"w-8 h-8 flex items-center justify-center bg-emerald-500 text-white rounded-xl shadow-lg shadow-emerald-200 hover:scale-110 active:scale-90 transition-transform",children:"‚úì"}),e.jsx("button",{onClick:()=>s(N),className:"w-8 h-8 flex items-center justify-center bg-indigo-500 text-white rounded-xl shadow-lg shadow-indigo-200 hover:scale-110 active:scale-90 transition-transform",children:"‚úé"}),e.jsx("button",{onClick:()=>z(N.id),className:"w-8 h-8 flex items-center justify-center bg-rose-500 text-white rounded-xl shadow-lg shadow-rose-200 hover:scale-110 active:scale-90 transition-transform",children:"üóë"})]})})]},N.id))})]})}),he>1&&e.jsxs("div",{className:"px-8 py-4 bg-slate-50/50 border-t border-slate-100 flex items-center justify-between",children:[e.jsxs("p",{className:"text-xs font-bold text-slate-400",children:["‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ ",o," (‡¶Æ‡ßã‡¶ü ",he,")"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{disabled:o===1,onClick:()=>h(N=>N-1),className:"px-4 py-1.5 bg-white border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-50 disabled:opacity-50 transition-colors",children:"‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶¨‡¶∞‡ßç‡¶§‡ßÄ"}),e.jsx("button",{disabled:o===he,onClick:()=>h(N=>N+1),className:"px-4 py-1.5 bg-white border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-50 disabled:opacity-50 transition-colors",children:"‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ"})]})]})]})]})]})}),M&&j&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"bg-indigo-600 p-4 flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶è‡¶°‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("button",{onClick:()=>i(!1),className:"text-white hover:bg-white/20 rounded-full p-1",children:"‚úï"})]}),e.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø"}),e.jsx(ve,{options:y.map(N=>({value:N.id,label:`${N.name} (${N.displayId||N.uniqueId})`})),value:y.find(N=>N.id===j.memberId)?{value:j.memberId,label:`${y.find(N=>N.id===j.memberId).name} (${y.find(N=>N.id===j.memberId).displayId})`}:null,onChange:N=>d({...j,memberId:N.value}),isDisabled:!0,className:"text-sm"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"* ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶®‡ßá ‡¶¨‡¶®‡ßç‡¶ß ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£"}),e.jsx("input",{type:"number",value:j.amount,onChange:N=>d({...j,amount:N.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"‡¶Æ‡¶æ‡¶∏"}),e.jsx("input",{type:"text",value:j.month,onChange:N=>d({...j,month:N.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏"}),e.jsxs("select",{value:j.status,onChange:N=>d({...j,status:N.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"})]})]}),e.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 rounded-lg text-sm font-bold text-gray-600 hover:bg-gray-100",children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤"}),e.jsx("button",{type:"submit",disabled:v===j.id,className:"px-6 py-2 rounded-lg text-sm font-bold text-white bg-indigo-600 hover:bg-indigo-700 shadow-md",children:v===j.id?"‡¶∏‡ßá‡¶≠ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...":"‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]})]})}),e.jsx($e,{config:R,onClose:()=>W({...R,isOpen:!1})})]})}function Vt(){const[r,b]=n.useState(!0),[y,S]=n.useState([]),[l,v]=n.useState({totalRegistrations:0,totalMembers:0,totalPaid:0,totalPaidAmount:0,totalPaidMembers:0,totalPending:0,totalPendingAmount:0,totalPendingMembers:0,totalWaived:0,totalWaivedAmount:0,totalWaivedMembers:0,totalAmount:0});return n.useEffect(()=>{(async()=>{try{const j=await xe(ee(_,"groups")),d={};j.forEach(R=>{d[R.id]={id:R.id,name:R.data().name,description:R.data().description,totalRegistrations:0,totalMembers:0,paidCount:0,paidAmount:0,pendingCount:0,pendingAmount:0,waivedCount:0,waivedAmount:0}});const M=await xe(ee(_,"registrations"));let i=0,D=0,u=0,g=0,c=0,o=0,h=0,L=0,p=0,C=0,m=0;M.forEach(R=>{const W=R.data(),q=W.group_id,z=W.paymentStatus||"Pending",s=parseFloat(W.contributeAmount||0),f=W.totalMembers||W.total_members||0;d[q]&&(d[q].totalRegistrations++,d[q].totalMembers+=f,z==="Paid"?(d[q].paidCount++,d[q].paidAmount+=s,o++,u+=s,p+=f):z==="Pending"?(d[q].pendingCount++,d[q].pendingAmount+=s,h++,g+=s,C+=f):z==="Waived"&&(d[q].waivedCount++,d[q].waivedAmount+=s,L++,c+=s,m+=f)),i++,D+=f});const A=Object.values(d).sort((R,W)=>W.totalRegistrations-R.totalRegistrations);S(A),v({totalRegistrations:i,totalMembers:D,totalPaid:o,totalPaidAmount:u,totalPaidMembers:p,totalPending:h,totalPendingAmount:g,totalPendingMembers:C,totalWaived:L,totalWaivedAmount:c,totalWaivedMembers:m,totalAmount:u+g+c})}catch(j){console.error(j),k.error("‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø")}finally{b(!1)}})()},[]),r?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):e.jsxs("div",{className:"p-4 md:p-8 font-bangla max-w-7xl mx-auto space-y-6",children:[e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"‡¶ö‡¶æ‡¶Å‡¶¶‡¶æ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶ö‡¶æ‡¶Å‡¶¶‡¶æ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π‡ßá‡¶∞ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶§‡¶•‡ßç‡¶Ø"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-[#4F46E5] rounded-2xl p-6 text-white shadow-xl border border-white/10 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:scale-110 transition-transform",children:e.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("h3",{className:"text-sm font-bold tracking-wider uppercase opacity-80 mb-1",children:"‡¶Æ‡ßã‡¶ü ‡¶ö‡¶æ‡¶Å‡¶¶‡¶æ"}),e.jsxs("p",{className:"text-4xl font-extrabold tracking-tight",children:["‡ß≥",l.totalAmount.toLocaleString()]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-semibold bg-white/10 w-fit px-2 py-1 rounded-lg",children:[e.jsxs("span",{children:[l.totalRegistrations," ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®"]}),e.jsx("span",{className:"opacity-40",children:"|"}),e.jsxs("span",{children:[l.totalMembers," ‡¶ú‡¶® ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø"]})]})]}),e.jsxs("div",{className:"bg-[#059669] rounded-2xl p-6 text-white shadow-xl border border-white/10 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:scale-110 transition-transform",children:e.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-sm font-bold tracking-wider uppercase opacity-80 mb-1",children:"‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶ø‡¶§ ‡¶ö‡¶æ‡¶Å‡¶¶‡¶æ"}),e.jsxs("p",{className:"text-4xl font-extrabold tracking-tight",children:["‡ß≥",l.totalPaidAmount.toLocaleString()]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-semibold bg-white/10 w-fit px-2 py-1 rounded-lg",children:[e.jsxs("span",{children:[l.totalPaid," ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®"]}),e.jsx("span",{className:"opacity-40",children:"|"}),e.jsxs("span",{children:[l.totalPaidMembers," ‡¶ú‡¶® ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø"]})]})]}),e.jsxs("div",{className:"bg-[#D97706] rounded-2xl p-6 text-white shadow-xl border border-white/10 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:scale-110 transition-transform",children:e.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-sm font-bold tracking-wider uppercase opacity-80 mb-1",children:"‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶® ‡¶ö‡¶æ‡¶Å‡¶¶‡¶æ"}),e.jsxs("p",{className:"text-4xl font-extrabold tracking-tight",children:["‡ß≥",l.totalPendingAmount.toLocaleString()]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-semibold bg-white/10 w-fit px-2 py-1 rounded-lg",children:[e.jsxs("span",{children:[l.totalPending," ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®"]}),e.jsx("span",{className:"opacity-40",children:"|"}),e.jsxs("span",{children:[l.totalPendingMembers," ‡¶ú‡¶® ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø"]})]})]}),e.jsxs("div",{className:"bg-[#7C3AED] rounded-2xl p-6 text-white shadow-xl border border-white/10 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:scale-110 transition-transform",children:e.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-sm font-bold tracking-wider uppercase opacity-80 mb-1",children:"‡¶Æ‡¶ì‡¶ï‡ßÅ‡¶´ ‡¶ö‡¶æ‡¶Å‡¶¶‡¶æ"}),e.jsxs("p",{className:"text-4xl font-extrabold tracking-tight",children:["‡ß≥",l.totalWaivedAmount.toLocaleString()]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-semibold bg-white/10 w-fit px-2 py-1 rounded-lg",children:[e.jsxs("span",{children:[l.totalWaived," ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®"]}),e.jsx("span",{className:"opacity-40",children:"|"}),e.jsxs("span",{children:[l.totalWaivedMembers," ‡¶ú‡¶® ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50",children:e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§"})}),y.length===0?e.jsx("div",{className:"p-12 text-center text-gray-500",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡•§"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶®‡¶æ‡¶Æ"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-500 uppercase tracking-wider",children:"‡¶Æ‡ßã‡¶ü ‡¶ö‡¶æ‡¶Å‡¶¶‡¶æ"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-bold text-gray-500 uppercase tracking-wider",children:"‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶ø‡¶§"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-bold text-gray-500 uppercase tracking-wider",children:"‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶®"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-bold text-gray-500 uppercase tracking-wider",children:"‡¶Æ‡¶ì‡¶ï‡ßÅ‡¶´"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-bold text-gray-500 uppercase tracking-wider",children:"‡¶∞‡ßá‡¶ú‡¶ø."}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-bold text-gray-500 uppercase tracking-wider",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-50",children:y.map(x=>e.jsxs("tr",{className:"hover:bg-gray-50/80 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900",children:x.name}),e.jsx("div",{className:"text-xs text-gray-400",children:x.description})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:"text-sm font-black text-gray-900",children:["‡ß≥",(x.paidAmount+x.pendingAmount+x.waivedAmount).toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-black text-green-700",children:["‡ß≥",x.paidAmount.toLocaleString()]}),e.jsxs("div",{className:"text-[10px] text-gray-400 font-bold uppercase",children:[x.paidCount," ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-black text-amber-600",children:["‡ß≥",x.pendingAmount.toLocaleString()]}),e.jsxs("div",{className:"text-[10px] text-gray-400 font-bold uppercase",children:[x.pendingCount," ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-black text-purple-700",children:["‡ß≥",x.waivedAmount.toLocaleString()]}),e.jsxs("div",{className:"text-[10px] text-gray-400 font-bold uppercase",children:[x.waivedCount," ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:"text-sm font-bold text-gray-700",children:x.totalRegistrations})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:"text-sm font-bold text-gray-700",children:x.totalMembers})})]},x.id))}),e.jsx("tfoot",{className:"bg-gray-50 border-t-2 border-gray-200",children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 text-sm font-black text-gray-900 uppercase",children:"‡¶∏‡¶∞‡ßç‡¶¨‡¶Æ‡ßã‡¶ü"}),e.jsxs("td",{className:"px-6 py-4 text-right text-sm font-black text-gray-900",children:["‡ß≥",l.totalAmount.toLocaleString()]}),e.jsxs("td",{className:"px-6 py-4 text-center text-sm font-black text-green-700",children:[e.jsxs("div",{children:["‡ß≥",l.totalPaidAmount.toLocaleString()]}),e.jsxs("div",{className:"text-[10px] opacity-70",children:[l.totalPaid," ‡¶∞‡ßá‡¶ú‡¶ø. |"," ",l.totalPaidMembers," ‡¶ú‡¶®"]})]}),e.jsxs("td",{className:"px-6 py-4 text-center text-sm font-black text-amber-600",children:[e.jsxs("div",{children:["‡ß≥",l.totalPendingAmount.toLocaleString()]}),e.jsxs("div",{className:"text-[10px] opacity-70",children:[l.totalPending," ‡¶∞‡ßá‡¶ú‡¶ø. |"," ",l.totalPendingMembers," ‡¶ú‡¶®"]})]}),e.jsxs("td",{className:"px-6 py-4 text-center text-sm font-black text-purple-700",children:[e.jsxs("div",{children:["‡ß≥",l.totalWaivedAmount.toLocaleString()]}),e.jsxs("div",{className:"text-[10px] opacity-70",children:[l.totalWaived," ‡¶∞‡ßá‡¶ú‡¶ø. |"," ",l.totalWaivedMembers," ‡¶ú‡¶®"]})]}),e.jsx("td",{className:"px-6 py-4 text-center text-sm font-black text-gray-900",children:l.totalRegistrations}),e.jsx("td",{className:"px-6 py-4 text-center text-sm font-black text-gray-900",children:l.totalMembers})]})})]})}),e.jsx("div",{className:"md:hidden divide-y divide-gray-100",children:y.map(x=>e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900",children:x.name}),e.jsx("p",{className:"text-xs text-gray-500",children:x.description})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{className:"bg-indigo-50/50 p-2 rounded-lg",children:[e.jsx("span",{className:"block text-indigo-600 text-[10px] font-bold uppercase mb-1",children:"‡¶Æ‡ßã‡¶ü ‡¶ö‡¶æ‡¶Å‡¶¶‡¶æ"}),e.jsxs("span",{className:"font-black text-indigo-700 text-sm",children:["‡ß≥",(x.paidAmount+x.pendingAmount+x.waivedAmount).toLocaleString()]})]}),e.jsxs("div",{className:"bg-green-50/50 p-2 rounded-lg border border-green-100",children:[e.jsx("span",{className:"block text-green-600 text-[10px] font-bold uppercase mb-1",children:"‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶ø‡¶§"}),e.jsxs("span",{className:"font-black text-green-700",children:["‡ß≥",x.paidAmount.toLocaleString()]}),e.jsxs("span",{className:"block text-[9px] text-gray-400 mt-0.5",children:[x.paidCount," ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®"]})]}),e.jsxs("div",{className:"bg-amber-50/50 p-2 rounded-lg border border-amber-100",children:[e.jsx("span",{className:"block text-amber-600 text-[10px] font-bold uppercase mb-1",children:"‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶Æ‡¶æ‡¶®"}),e.jsxs("span",{className:"font-black text-amber-700",children:["‡ß≥",x.pendingAmount.toLocaleString()]}),e.jsxs("span",{className:"block text-[9px] text-gray-400 mt-0.5",children:[x.pendingCount," ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®"]})]}),e.jsxs("div",{className:"bg-purple-50/50 p-2 rounded-lg border border-purple-100",children:[e.jsx("span",{className:"block text-purple-600 text-[10px] font-bold uppercase mb-1",children:"‡¶Æ‡¶ì‡¶ï‡ßÅ‡¶´"}),e.jsxs("span",{className:"font-black text-purple-700",children:["‡ß≥",x.waivedAmount.toLocaleString()]}),e.jsxs("span",{className:"block text-[9px] text-gray-400 mt-0.5",children:[x.waivedCount," ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®"]})]})]}),e.jsxs("div",{className:"flex gap-4 text-[10px] font-bold text-gray-400 uppercase pt-1 px-1",children:[e.jsxs("span",{children:["‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®:"," ",e.jsx("span",{className:"text-gray-900",children:x.totalRegistrations})]}),e.jsxs("span",{children:["‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø:"," ",e.jsx("span",{className:"text-gray-900",children:x.totalMembers})]})]})]},x.id))})]})]})]})}const Jt="modulepreload",Qt=function(r){return"/"+r},Ve={},ct=function(b,y,S){let l=Promise.resolve();if(y&&y.length>0){let d=function(M){return Promise.all(M.map(i=>Promise.resolve(i).then(D=>({status:"fulfilled",value:D}),D=>({status:"rejected",reason:D}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),j=x?.nonce||x?.getAttribute("nonce");l=d(y.map(M=>{if(M=Qt(M),M in Ve)return;Ve[M]=!0;const i=M.endsWith(".css"),D=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${M}"]${D}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":Jt,i||(u.as="script"),u.crossOrigin="",u.href=M,j&&u.setAttribute("nonce",j),document.head.appendChild(u),i)return new Promise((g,c)=>{u.addEventListener("load",g),u.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${M}`)))})}))}function v(x){const j=new Event("vite:preloadError",{cancelable:!0});if(j.payload=x,window.dispatchEvent(j),!j.defaultPrevented)throw x}return l.then(x=>{for(const j of x||[])j.status==="rejected"&&v(j.reason);return b().catch(v)})},Zt=n.lazy(()=>ct(()=>import("./FamilyTreeView-QMC8YIKv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]))),Ee={control:(r,b)=>({...r,backgroundColor:"#f8fafc",borderColor:b.isFocused?"#6366f1":"#e2e8f0",borderRadius:"0.75rem",padding:"0.25rem",boxShadow:b.isFocused?"0 0 0 2px rgba(99, 102, 241, 0.2)":"none","&:hover":{borderColor:"#6366f1"}}),option:(r,b)=>({...r,backgroundColor:b.isSelected?"#6366f1":b.isFocused?"#f1f5f9":"white",color:b.isSelected?"white":"#1e293b",padding:"0.5rem 1rem",fontSize:"0.875rem",cursor:"pointer"}),multiValue:r=>({...r,backgroundColor:"#eff6ff",borderRadius:"0.5rem"}),multiValueLabel:r=>({...r,color:"#2563eb",fontWeight:"600",fontSize:"0.75rem"})};function Kt(){const[r,b]=n.useState([]),[y,S]=n.useState([]),[l,v]=n.useState(!0),[x,j]=n.useState(""),[d,M]=n.useState("all"),[i,D]=n.useState("all"),[u,g]=n.useState("table"),[c,o]=n.useState(!1),[h,L]=n.useState(null),[p,C]=n.useState(null),[m,A]=n.useState(null),[R,W]=n.useState(!1),[q,z]=n.useState([]),[s,f]=n.useState([]),[w,$]=n.useState(1),[E,Q]=n.useState(10),ne={name:"",fatherId:"",motherId:"",spouseIds:[],childrenIds:[],generation:1,phone:"",address:"",gender:"Male",groupid:"",birthYear:"",deathYear:"",alive:!0,profession:"",photoUrl:"",birthdate:""},[I,Z]=n.useState(ne);n.useEffect(()=>{const t=be(ee(_,"members"),De("createdAt","desc")),B=ue(t,X=>{const T=[];X.forEach(a=>{T.push({id:a.id,...a.data()})}),b(T)}),J=be(ee(_,"groups"),De("name")),H=ue(J,X=>{const T=[];X.forEach(a=>{T.push({id:a.id,...a.data()})}),S(T),v(!1)},X=>{console.error("Error fetching groups:",X),k.error("‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶¨‡¶æ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§"),v(!1)});return()=>{B(),H()}},[]),n.useEffect(()=>{$(1)},[x,d,i]);const me=async t=>{if(t.preventDefault(),!I.name)return k.error("‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï");try{let B=parseInt(I.generation);if(I.fatherId||I.motherId){const H=r.find(X=>X.uniqueId===I.fatherId||X.uniqueId===I.motherId);H&&(B=(H.generation||0)+1)}const J={...I,generation:B,birthYear:I.birthYear?parseInt(I.birthYear):null,deathYear:I.deathYear?parseInt(I.deathYear):null,updatedAt:Ye()};if(h){const H=`G${B}-${h.uniqueId.split("-")[1]}`;await ie(K(_,"members",h.id),{...J,displayId:H}),k.success("‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!")}else{const H=Math.floor(1e5+Math.random()*9e5),X="M-"+H,T=`G${B}-${H}`;await Fe(ee(_,"members"),{...J,uniqueId:X,displayId:T,createdAt:Ye(),importSource:"manual_entry"}),k.success("‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!")}O()}catch(B){console.error("Error saving member:",B),k.error("‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§")}},he=t=>{A(t)},fe=async()=>{if(m)try{await Pe(K(_,"members",m.id)),k.success("‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§"),A(null)}catch(t){console.error("Error deleting member:",t),k.error("‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§")}},N=t=>{L(t),Z({name:t.name||"",fatherId:t.fatherId||"",motherId:t.motherId||"",spouseIds:t.spouseIds||[],childrenIds:t.childrenIds||[],generation:t.generation||1,phone:t.phone||"",address:t.address||"",gender:t.gender||"Male",groupid:t.groupid||"",birthYear:t.birthYear||"",deathYear:t.deathYear||"",alive:t.alive!==void 0?t.alive:!0,profession:t.profession||"",photoUrl:t.photoUrl||"",birthdate:t.birthdate||""}),o(!0)},O=()=>{o(!1),L(null),Z(ne)},P=r.filter(t=>{const B=t.name?.toLowerCase().includes(x.toLowerCase())||t.uniqueId?.toString().toLowerCase().includes(x.toLowerCase())||t.phone?.toString().includes(x),J=d==="all"||t.generation?.toString()===d,H=t.groupid||t.groupId;let X=i==="all";if(!X)if(H==i)X=!0;else{const T=y.find(a=>a.id==i);T&&H&&T.name.trim().toLowerCase()===H.toString().trim().toLowerCase()&&(X=!0)}return B&&J&&X}),V=Math.ceil(P.length/E),re=(w-1)*E,de=P.slice(re,re+E),le=[...new Set(r.map(t=>t.generation?.toString()))].sort((t,B)=>t-B),je=()=>{const t=[{Name:"‡¶∂‡¶∞‡¶ø‡¶´‡ßÅ‡¶≤ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ",Gender:"Male","Birth Year":1950,Profession:"Farmer",Alive:"true",Phone:"017XXXXXXXX",Address:"‡¶¢‡¶æ‡¶ï‡¶æ, ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂",Generation:1},{Name:"‡¶Ü‡¶∞‡¶ø‡¶´‡ßÅ‡¶≤ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ","Father ID":"M-XXXXXX",Gender:"Male","Birth Year":1980,Profession:"Teacher",Alive:"true",Phone:"018XXXXXXXX",Address:"‡¶¢‡¶æ‡¶ï‡¶æ, ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂",Generation:2,"Spouse IDs":"M-YYYYYY","Children IDs":"M-ZZZZZZ"}],B=se.json_to_sheet(t),J=se.book_new();se.book_append_sheet(J,B,"Members"),Le(J,"family_members_sample.xlsx"),k.success("‡¶∏‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™‡¶≤ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...")},ge=t=>{const B=se.book_new(),J=X=>({ID:X.displayId||X.uniqueId,‡¶®‡¶æ‡¶Æ:X.name,‡¶≤‡¶ø‡¶ô‡ßç‡¶ó:X.gender==="Male"?"‡¶™‡ßÅ‡¶∞‡ßÅ‡¶∑":"‡¶Æ‡¶π‡¶ø‡¶≤‡¶æ",‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤:X.phone||"-",‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ:X.address||"-",‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶®:X.generation,‡¶™‡¶ø‡¶§‡¶æ:r.find(T=>T.uniqueId===X.fatherId)?.name||"-",‡¶Æ‡¶æ‡¶§‡¶æ:r.find(T=>T.uniqueId===X.motherId)?.name||"-",‡¶™‡ßá‡¶∂‡¶æ:X.profession||"-","‡¶ú‡¶®‡ßç‡¶Æ ‡¶∏‡¶æ‡¶≤":X.birthYear||"-",‡¶ú‡ßÄ‡¶¨‡¶ø‡¶§:X.alive?"‡¶π‡ßç‡¶Ø‡¶æ‡¶Å":"‡¶®‡¶æ","‡¶Æ‡ßÉ‡¶§‡ßç‡¶Ø‡ßÅ ‡¶∏‡¶æ‡¶≤":X.deathYear||"-",‡¶ó‡ßç‡¶∞‡ßÅ‡¶™:y.find(T=>T.id==X.groupid||T.name==X.groupid)?.name||X.groupid||"-"});let H=r;if(q.length>0&&(H=H.filter(X=>{const T=X.groupid||X.groupId;return q.includes(T?.toString())})),s.length>0&&(H=H.filter(X=>s.includes(X.generation?.toString()))),H.length===0)return k.error("‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§");if(t==="all"){const X=H.map(J),T=se.json_to_sheet(X);se.book_append_sheet(B,T,"Selected Members")}else t==="group"?(q.length>0?y.filter(T=>q.includes(T.id.toString())||q.includes(T.name)):y).forEach(T=>{const a=H.filter(F=>F.groupid==T.id||F.groupid==T.name);if(a.length>0){const F=a.map(J),U=se.json_to_sheet(F),Ne=T.name.replace(/[\[\]\*\?\/\\]/g,"").substring(0,31);se.book_append_sheet(B,U,Ne||`Group ${T.id}`)}}):t==="generation"&&(s.length>0?s.sort((T,a)=>T-a):[...new Set(H.map(T=>T.generation?.toString()))].filter(Boolean).sort((T,a)=>T-a)).forEach(T=>{const a=H.filter(F=>F.generation?.toString()===T);if(a.length>0){const F=a.map(J),U=se.json_to_sheet(F);se.book_append_sheet(B,U,`Generation ${T}`)}});Le(B,`family_members_${t}_${new Date().toISOString().split("T")[0]}.xlsx`),k.success("‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶≤ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá..."),W(!1)};return l?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):e.jsxs("div",{className:"font-bangla space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"‡¶¨‡¶Ç‡¶∂ ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶ì ‡¶´‡ßç‡¶Ø‡¶æ‡¶Æ‡¶ø‡¶≤‡¶ø ‡¶ü‡ßç‡¶∞‡¶ø"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"‡¶¨‡¶Ç‡¶∂‡ßá‡¶∞ ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶™‡¶∞‡¶ø‡¶ö‡¶æ‡¶≤‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"bg-slate-100 p-1 rounded-xl flex items-center shadow-inner",children:[e.jsx("button",{onClick:()=>g("table"),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${u==="table"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ ‡¶≠‡¶ø‡¶â"}),e.jsx("button",{onClick:()=>g("tree"),className:`px-4 py-1.5 rounded-lg text-sm font-bold transition-all ${u==="tree"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"‡¶´‡ßç‡¶Ø‡¶æ‡¶Æ‡¶ø‡¶≤‡¶ø ‡¶ü‡ßç‡¶∞‡¶ø"})]}),e.jsx("button",{onClick:je,className:"px-4 py-2.5 bg-slate-100 text-slate-600 rounded-xl font-bold text-sm hover:bg-slate-200 transition-all flex items-center gap-2",title:"‡¶∏‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™‡¶≤ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°",children:"üì•"}),e.jsxs("button",{onClick:()=>W(!0),className:"px-4 py-2.5 bg-green-50 text-green-600 border border-green-100 rounded-xl font-bold text-sm hover:bg-green-100 transition-all flex items-center gap-2",title:"‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®",children:[e.jsx("span",{children:"üìä"})," ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü"]}),e.jsxs(Ae,{to:"/admin/bulk-members-upload",className:"bg-amber-500 text-white px-5 py-2.5 rounded-xl font-bold text-sm shadow-lg shadow-amber-500/20 hover:bg-amber-600 active:scale-95 transition-all flex items-center gap-2",children:[e.jsx("span",{children:"üìÇ"})," ‡¶¨‡¶æ‡¶≤‡ßç‡¶ï ‡¶Ü‡¶™‡¶≤‡ßã‡¶°"]}),e.jsxs("button",{onClick:()=>o(!0),className:"bg-indigo-600 text-white px-5 py-2.5 rounded-xl font-bold text-sm shadow-lg shadow-indigo-600/20 hover:bg-indigo-700 active:scale-95 transition-all flex items-center gap-2",children:[e.jsx("span",{children:"+"})," ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6 pt-6 border-t border-slate-50",children:[e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"üîç"}),e.jsx("input",{type:"text",placeholder:"‡¶®‡¶æ‡¶Æ, ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¨‡¶æ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤...",value:x,onChange:t=>j(t.target.value),className:"pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none w-full text-sm transition-all"})]}),e.jsxs("select",{value:d,onChange:t=>M(t.target.value),className:"px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm font-medium text-slate-600",children:[e.jsx("option",{value:"all",children:"‡¶∏‡¶¨ ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶®"}),le.map(t=>e.jsxs("option",{value:t,children:["‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶® ",t]},t))]}),e.jsxs("select",{value:i,onChange:t=>D(t.target.value),className:"px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm font-medium text-slate-600",children:[e.jsx("option",{value:"all",children:"‡¶∏‡¶¨ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™"}),y.map(t=>e.jsxs("option",{value:t.id,children:[t.name," ",t.description?`- ${t.description}`:""]},t.id))]})]})]}),u==="table"?e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[e.jsx("thead",{className:"bg-slate-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"‡¶™‡¶ø‡¶§‡¶æ-‡¶Æ‡¶æ‡¶§‡¶æ"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"‡¶ú‡ßÄ‡¶¨‡¶®‡¶ï‡¶æ‡¶≤ ‡¶ì ‡¶™‡ßá‡¶∂‡¶æ"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶®"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ì ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-500 uppercase tracking-wider",children:"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-slate-100",children:de.map(t=>{const B=r.find(H=>H.uniqueId===t.fatherId),J=r.find(H=>H.uniqueId===t.motherId);return e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-lg font-bold ${t.gender==="Female"?"bg-pink-50 text-pink-600":"bg-blue-50 text-blue-600"}`,children:t.name?.charAt(0)}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-bold text-slate-800 flex items-center gap-2",children:[t.name,(!t.alive||t.deathYear)&&e.jsx("span",{className:"text-[10px] bg-slate-100 text-slate-500 px-1.5 py-0.5 rounded italic",children:"‡¶Æ‡ßÉ‡¶§"})]}),e.jsx("div",{className:"text-xs font-medium text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded inline-block mt-0.5",children:t.displayId||t.uniqueId}),e.jsx("div",{className:"text-[10px] text-slate-500 font-medium mt-0.5",children:(()=>{const H=t.groupid||t.groupId;if(!H)return"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶®‡ßá‡¶á";const X=y.find(T=>T.id==H||T.name==H);return X?`‡¶ó‡ßç‡¶∞‡ßÅ‡¶™: ${X.name}`:`‡¶ó‡ßç‡¶∞‡ßÅ‡¶™: ${H}`})()})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-slate-600 flex items-center gap-1.5",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"‡¶™‡¶ø‡¶§‡¶æ:"}),B?e.jsx("span",{className:"text-slate-800 font-medium",children:B.name}):e.jsx("span",{className:"text-slate-300 italic",children:"‡¶ú‡¶æ‡¶®‡¶æ ‡¶®‡ßá‡¶á"})]}),e.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1.5 mt-1",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"‡¶Æ‡¶æ‡¶§‡¶æ:"}),J?e.jsx("span",{className:"text-slate-800 font-medium",children:J.name}):e.jsx("span",{className:"text-slate-300 italic",children:"‡¶ú‡¶æ‡¶®‡¶æ ‡¶®‡ßá‡¶á"})]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-medium text-slate-700",children:[t.birthYear?t.birthYear:"????"," -"," ",t.alive&&!t.deathYear?"‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶®":t.deathYear||"????"]}),e.jsx("div",{className:"text-xs text-indigo-600 font-bold mt-1",children:t.profession||"‡¶™‡ßá‡¶∂‡¶æ ‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ ‡¶®‡ßá‡¶á"})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"px-3 py-1 bg-amber-50 text-amber-700 rounded-full text-xs font-bold border border-amber-100",children:["‡¶ß‡¶æ‡¶™ ",t.generation]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-slate-700 font-medium",children:t.phone||"-"}),e.jsx("div",{className:"text-xs text-slate-400 mt-1 max-w-[180px] truncate",title:t.address,children:t.address||"-"})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>C(t),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®",children:"üëÅÔ∏è"}),e.jsx("button",{onClick:()=>N(t),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"‡¶∏‡¶Æ‡ßç‡¶™‡¶æ‡¶¶‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®",children:"‚úèÔ∏è"}),e.jsx("button",{onClick:()=>he(t),className:"p-2 text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",title:"‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®",children:"üóëÔ∏è"})]})})]},t.id)})})]})}),P.length>0&&e.jsxs("div",{className:"px-6 py-4 bg-slate-50/50 border-t border-slate-100 flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-xs text-slate-500 font-medium",children:["‡¶Æ‡ßã‡¶ü ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø:"," ",e.jsx("span",{className:"text-slate-800 font-bold",children:P.length})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-xs text-slate-500 font-medium",children:"‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶™‡¶æ‡¶§‡¶æ‡ßü:"}),e.jsx("select",{value:E,onChange:t=>{Q(Number(t.target.value)),$(1)},className:"text-xs px-2 py-1 bg-white border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500 transition-all font-bold text-slate-700 shadow-sm",children:[10,25,50,100].map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>$(t=>Math.max(1,t-1)),disabled:w===1,className:"p-2 bg-white border border-slate-200 rounded-xl text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm active:scale-95",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-white border border-slate-200 rounded-xl shadow-sm",children:[e.jsx("span",{className:"text-sm font-bold text-indigo-600",children:w}),e.jsx("span",{className:"text-slate-300 mx-1",children:"/"}),e.jsx("span",{className:"text-sm font-bold text-slate-500",children:V||1})]}),e.jsx("button",{onClick:()=>$(t=>Math.min(V,t+1)),disabled:w===V||V===0,className:"p-2 bg-white border border-slate-200 rounded-xl text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm active:scale-95",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]}),P.length===0&&e.jsx("div",{className:"py-20 text-center text-slate-400 italic",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø"})]}):e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"p-6",children:"üå≥ ‡¶ü‡ßç‡¶∞‡¶ø ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá..."}),children:e.jsx(Zt,{members:r})}),c&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:O}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl relative z-10 overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"bg-indigo-600 p-6 flex justify-between items-center shrink-0",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:h?"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶§‡¶•‡ßç‡¶Ø ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®":"‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("button",{onClick:O,className:"text-white hover:bg-white/10 p-2 rounded-full transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:me,className:"p-8 space-y-6 overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ *"}),e.jsx("input",{type:"text",required:!0,value:I.name,onChange:t=>Z({...I,name:t.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all",placeholder:"‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"‡¶≤‡¶ø‡¶ô‡ßç‡¶ó"}),e.jsxs("select",{value:I.gender,onChange:t=>Z({...I,gender:t.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all",children:[e.jsx("option",{value:"Male",children:"‡¶™‡ßÅ‡¶∞‡ßÅ‡¶∑"}),e.jsx("option",{value:"Female",children:"‡¶Æ‡¶π‡¶ø‡¶≤‡¶æ"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ (Group)"}),e.jsxs("select",{value:I.groupid,onChange:t=>Z({...I,groupid:t.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all",children:[e.jsx("option",{value:"",children:"‡¶¨‡¶æ‡¶õ‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®"}),y.map(t=>e.jsxs("option",{value:t.id,children:[t.name," ",t.description?`- ${t.description}`:""]},t.id))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ"}),e.jsx(ve,{options:r.filter(t=>t.gender==="Male"&&(!I.groupid||t.groupid==I.groupid||t.groupId==I.groupid)).map(t=>({value:t.uniqueId,label:`${t.name} (${t.displayId||t.uniqueId}) ${t.generation?`- G${t.generation}`:""}`})),value:I.fatherId?{value:I.fatherId,label:(r.find(t=>t.uniqueId===I.fatherId)?.name||"")+` (${r.find(t=>t.uniqueId===I.fatherId)?.displayId||I.fatherId})`}:null,onChange:t=>Z({...I,fatherId:t?t.value:""}),isSearchable:!0,placeholder:"‡¶™‡¶ø‡¶§‡¶æ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®...",styles:Ee,noOptionsMessage:()=>"‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"‡¶Æ‡¶æ‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ"}),e.jsx(ve,{options:r.filter(t=>t.gender==="Female"&&(!I.groupid||t.groupid==I.groupid||t.groupId==I.groupid)).map(t=>({value:t.uniqueId,label:`${t.name} (${t.displayId||t.uniqueId}) ${t.generation?`- G${t.generation}`:""}`})),value:I.motherId?{value:I.motherId,label:(r.find(t=>t.uniqueId===I.motherId)?.name||"")+` (${r.find(t=>t.uniqueId===I.motherId)?.displayId||I.motherId})`}:null,onChange:t=>Z({...I,motherId:t?t.value:""}),isSearchable:!0,placeholder:"‡¶Æ‡¶æ‡¶§‡¶æ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®...",styles:Ee,noOptionsMessage:()=>"‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"‡¶™‡ßá‡¶∂‡¶æ (Profession)"}),e.jsx("input",{type:"text",value:I.profession,onChange:t=>Z({...I,profession:t.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all",placeholder:"‡¶â‡¶¶‡¶æ‡¶É ‡¶ï‡ßÉ‡¶∑‡¶ï, ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"‡¶ú‡¶®‡ßç‡¶Æ ‡¶∏‡¶æ‡¶≤ (Birth Year)"}),e.jsx("input",{type:"number",value:I.birthYear,onChange:t=>Z({...I,birthYear:t.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all",placeholder:"1950"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"‡¶ú‡¶®‡ßç‡¶Æ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ (Birthdate)"}),e.jsx("input",{type:"date",value:I.birthdate,onChange:t=>Z({...I,birthdate:t.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"‡¶ú‡ßÄ‡¶¨‡¶ø‡¶§ ‡¶ï‡¶ø ‡¶®‡¶æ?"}),e.jsxs("div",{className:"flex bg-slate-50 p-1 rounded-xl border border-slate-200",children:[e.jsx("button",{type:"button",onClick:()=>Z({...I,alive:!0,deathYear:""}),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${I.alive?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-200"}`,children:"‡¶π‡ßç‡¶Ø‡¶æ‡¶Å"}),e.jsx("button",{type:"button",onClick:()=>Z({...I,alive:!1}),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${I.alive?"text-slate-500 hover:bg-slate-200":"bg-indigo-600 text-white shadow-md"}`,children:"‡¶®‡¶æ"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"‡¶Æ‡ßÉ‡¶§‡ßç‡¶Ø‡ßÅ ‡¶∏‡¶æ‡¶≤ (‡¶Ø‡¶¶‡¶ø ‡¶•‡¶æ‡¶ï‡ßá)"}),e.jsx("input",{type:"number",disabled:I.alive,value:I.deathYear,onChange:t=>Z({...I,deathYear:t.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all disabled:opacity-50",placeholder:"2020"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞"}),e.jsx("input",{type:"text",value:I.phone,onChange:t=>Z({...I,phone:t.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all",placeholder:"017XXXXXXXX"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶® (‡¶Ø‡¶¶‡¶ø ‡¶™‡¶ø‡¶§‡¶æ-‡¶Æ‡¶æ‡¶§‡¶æ ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡ßá)"}),e.jsx("input",{type:"number",min:"1",disabled:I.fatherId||I.motherId,value:I.generation,onChange:t=>Z({...I,generation:t.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all disabled:opacity-50"}),(I.fatherId||I.motherId)&&e.jsx("p",{className:"text-[10px] text-indigo-600 font-medium mt-1",children:"* ‡¶™‡¶ø‡¶§‡¶æ/‡¶Æ‡¶æ‡¶§‡¶æ ‡¶¨‡¶æ‡¶õ‡¶æ‡¶á ‡¶ï‡¶∞‡¶≤‡ßá ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶π‡¶ø‡¶∏‡ßá‡¶¨ ‡¶π‡¶¨‡ßá"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"‡¶õ‡¶¨‡¶ø ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï (Photo URL)"}),e.jsx("input",{type:"text",value:I.photoUrl,onChange:t=>Z({...I,photoUrl:t.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all",placeholder:"https://example.com/photo.jpg"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-indigo-600 ml-1",children:"‡¶∏‡ßç‡¶¨‡¶æ‡¶Æ‡ßÄ/‡¶∏‡ßç‡¶§‡ßç‡¶∞‡ßÄ (Spouse)"}),e.jsx(ve,{isMulti:!0,options:r.filter(t=>t.uniqueId!==h?.uniqueId&&(!I.groupid||t.groupid==I.groupid||t.groupId==I.groupid)).map(t=>({value:t.uniqueId,label:`${t.name} (${t.displayId||t.uniqueId})`})),value:I.spouseIds.map(t=>{const B=r.find(J=>J.uniqueId===t);return{value:t,label:(B?.name||t)+` (${B?.displayId||t})`}}),onChange:t=>Z({...I,spouseIds:t?t.map(B=>B.value):[]}),isSearchable:!0,placeholder:"‡¶∏‡ßç‡¶¨‡¶æ‡¶Æ‡ßÄ/‡¶∏‡ßç‡¶§‡ßç‡¶∞‡ßÄ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®...",styles:Ee,noOptionsMessage:()=>"‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-indigo-600 ml-1",children:"‡¶∏‡¶®‡ßç‡¶§‡¶æ‡¶®‡¶∏‡¶®‡ßç‡¶§‡¶§‡¶ø (Children)"}),e.jsx(ve,{isMulti:!0,options:r.filter(t=>t.uniqueId!==h?.uniqueId&&(!I.groupid||t.groupid==I.groupid||t.groupId==I.groupid)).map(t=>({value:t.uniqueId,label:`${t.name} (${t.displayId||t.uniqueId})`})),value:I.childrenIds.map(t=>{const B=r.find(J=>J.uniqueId===t);return{value:t,label:(B?.name||t)+` (${B?.displayId||t})`}}),onChange:t=>Z({...I,childrenIds:t?t.map(B=>B.value):[]}),isSearchable:!0,placeholder:"‡¶∏‡¶®‡ßç‡¶§‡¶æ‡¶® ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®...",styles:Ee,noOptionsMessage:()=>"‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 ml-1",children:"‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ"}),e.jsx("textarea",{value:I.address,onChange:t=>Z({...I,address:t.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all",placeholder:"‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®",rows:"2"})]}),e.jsxs("div",{className:"flex gap-4 pt-4 shrink-0",children:[e.jsx("button",{type:"button",onClick:O,className:"flex-1 px-6 py-4 border-2 border-slate-100 text-slate-600 rounded-2xl font-bold hover:bg-slate-50 transition-all",children:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("button",{type:"submit",className:"flex-1 px-6 py-4 bg-indigo-600 text-white rounded-2xl font-bold shadow-lg shadow-indigo-600/20 hover:bg-indigo-700 transition-all active:scale-95",children:"‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®"})]})]})]})]}),p&&e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:()=>C(null)}),e.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-2xl relative z-10 overflow-hidden animate-in fade-in zoom-in duration-300 flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"relative h-32 bg-indigo-600 shrink-0",children:[e.jsx("div",{className:"absolute -bottom-12 left-8 p-1 bg-white rounded-3xl shadow-xl",children:p.photoUrl?e.jsx("img",{src:p.photoUrl,alt:p.name,className:"w-24 h-24 rounded-[1.25rem] object-cover"}):e.jsx("div",{className:`w-24 h-24 rounded-[1.25rem] flex items-center justify-center text-4xl font-black text-white ${p.gender==="Female"?"bg-pink-500":"bg-indigo-500"}`,children:p.name?.charAt(0)})}),e.jsx("button",{onClick:()=>C(null),className:"absolute top-4 right-4 bg-white/20 hover:bg-white/40 text-white p-2 rounded-full transition-all",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"pt-16 p-8 overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-slate-800",children:p.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsx("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-600 rounded-full text-xs font-bold border border-indigo-100 uppercase tracking-wider",children:p.displayId||p.uniqueId}),e.jsxs("span",{className:"px-3 py-1 bg-amber-50 text-amber-600 rounded-full text-xs font-bold border border-amber-100",children:["‡¶ß‡¶æ‡¶™ ",p.generation]}),p.groupid&&e.jsx("span",{className:"px-3 py-1 bg-slate-100 text-slate-600 rounded-full text-xs font-bold border border-slate-200",children:p.groupid})]})]}),!p.alive&&e.jsxs("div",{className:"px-4 py-1.5 bg-slate-900 text-slate-100 rounded-xl text-xs font-black uppercase tracking-widest flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-400"}),"‡¶Æ‡ßÉ‡¶§"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6 mt-10",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"‡¶™‡ßá‡¶∂‡¶æ"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:p.profession||"‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ ‡¶®‡ßá‡¶á"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"‡¶ú‡¶®‡ßç‡¶Æ ‡¶∏‡¶æ‡¶≤"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:p.birthYear||"‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"‡¶ú‡¶®‡ßç‡¶Æ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:p.birthdate||"‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ"})]}),!p.alive&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"‡¶Æ‡ßÉ‡¶§‡ßç‡¶Ø‡ßÅ ‡¶∏‡¶æ‡¶≤"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:p.deathYear||"‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:p.phone||"‡¶®‡ßá‡¶á"})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-1",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ"}),e.jsx("p",{className:"text-sm font-bold text-slate-700 leading-relaxed",children:p.address||"‡¶¨‡¶ø‡¶¨‡¶∞‡¶£ ‡¶®‡ßá‡¶á"})]})]}),e.jsxs("div",{className:"mt-12 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-black text-slate-500 uppercase tracking-widest border-b border-slate-100 pb-2",children:"‡¶™‡¶ø‡¶§‡¶æ‡¶Æ‡¶æ‡¶§‡¶æ"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:"‡¶™‡¶ø‡¶§‡¶æ"}),e.jsx("span",{className:"text-sm font-bold text-slate-700",children:r.find(t=>t.uniqueId===p.fatherId)?.name||e.jsx("span",{className:"text-slate-300 italic",children:"‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:"‡¶Æ‡¶æ‡¶§‡¶æ"}),e.jsx("span",{className:"text-sm font-bold text-slate-700",children:r.find(t=>t.uniqueId===p.motherId)?.name||e.jsx("span",{className:"text-slate-300 italic",children:"‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ"})})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-black text-indigo-500 uppercase tracking-widest border-b border-indigo-50 pb-2",children:"‡¶∏‡ßç‡¶¨‡¶æ‡¶Æ‡ßÄ/‡¶∏‡ßç‡¶§‡ßç‡¶∞‡ßÄ"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.spouseIds?.length>0?p.spouseIds.map(t=>{const B=r.find(J=>J.uniqueId===t);return e.jsx("div",{className:"px-4 py-2 bg-indigo-50 text-indigo-700 rounded-xl text-sm font-bold border border-indigo-100",children:B?.name||t},t)}):e.jsx("p",{className:"text-xs text-slate-400 italic",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶§‡¶•‡ßç‡¶Ø ‡¶®‡ßá‡¶á"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xs font-black text-emerald-500 uppercase tracking-widest border-b border-emerald-50 pb-2",children:"‡¶∏‡¶®‡ßç‡¶§‡¶æ‡¶®‡¶∏‡¶®‡ßç‡¶§‡¶§‡¶ø"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:p.childrenIds?.length>0?p.childrenIds.map(t=>{const B=r.find(J=>J.uniqueId===t);return e.jsx("div",{className:"p-3 bg-emerald-50 text-emerald-700 rounded-2xl text-xs font-bold border border-emerald-100 text-center",children:B?.name||t},t)}):e.jsx("p",{className:"text-xs text-slate-400 italic",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶§‡¶•‡ßç‡¶Ø ‡¶®‡ßá‡¶á"})})]})]})]}),e.jsx("div",{className:"p-6 bg-slate-50 shrink-0 border-t border-slate-100 flex justify-end",children:e.jsx("button",{onClick:()=>C(null),className:"px-8 py-3 bg-slate-800 text-white rounded-2xl font-bold shadow-lg hover:bg-slate-900 transition-all active:scale-95",children:"‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®"})})]})]}),m&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-md",onClick:()=>A(null)}),e.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md relative z-10 overflow-hidden animate-in fade-in zoom-in slide-in-from-bottom-8 duration-300",children:[e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("div",{className:"w-16 h-16 bg-rose-100 rounded-full flex items-center justify-center animate-pulse text-3xl",children:"‚ö†Ô∏è"})}),e.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-2",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®?"}),e.jsxs("p",{className:"text-slate-500 text-sm leading-relaxed mb-8",children:["‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§‡¶≠‡¶æ‡¶¨‡ßá"," ",e.jsx("span",{className:"font-bold text-slate-800",children:m.name})," ","‡¶è‡¶∞ ‡¶∏‡¶ï‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡ßç‡¶•‡¶æ‡ßü‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶®? ‡¶è‡¶ü‡¶ø ‡¶Ü‡¶∞ ‡¶´‡¶ø‡¶∞‡¶ø‡ßü‡ßá ‡¶Ü‡¶®‡¶æ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‡¶π‡¶¨‡ßá ‡¶®‡¶æ‡•§"]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{onClick:fe,className:"w-full py-4 bg-rose-600 text-white rounded-2xl font-bold shadow-lg shadow-rose-600/20 hover:bg-rose-700 transition-all active:scale-95",children:"‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("button",{onClick:()=>A(null),className:"w-full py-4 bg-slate-50 text-slate-600 rounded-2xl font-bold hover:bg-slate-100 transition-all",children:"‡¶®‡¶æ, ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®"})]})]}),e.jsx("div",{className:"h-1.5 bg-gradient-to-r from-rose-500 to-rose-600"})]})]}),R&&e.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-md",onClick:()=>W(!1)}),e.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-2xl relative z-10 overflow-hidden animate-in fade-in zoom-in duration-300 flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"p-8 overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶≠‡¶æ‡¶®‡ßç‡¶∏‡¶° ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶è‡¶¨‡¶Ç ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsx("button",{onClick:()=>W(!1),className:"bg-slate-100 hover:bg-slate-200 text-slate-500 p-2 rounded-full transition-all",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-sm font-black text-slate-700 uppercase tracking-wider flex items-center gap-2",children:["üë• ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶¨‡¶æ‡¶õ‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®",e.jsxs("span",{className:"text-[10px] bg-slate-100 px-2 py-0.5 rounded-full text-slate-500",children:[q.length,"/",y.length]})]}),e.jsx("button",{onClick:()=>z(q.length===y.length?[]:y.map(t=>t.id.toString())),className:"text-xs font-bold text-indigo-600 hover:underline",children:q.length===y.length?"‡¶∏‡¶¨ ‡¶¨‡¶æ‡¶¶ ‡¶¶‡¶ø‡¶®":"‡¶∏‡¶¨ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:y.map(t=>e.jsx("button",{onClick:()=>{const B=t.id.toString();z(J=>J.includes(B)?J.filter(H=>H!==B):[...J,B])},className:`px-3 py-2 rounded-xl text-xs font-bold transition-all border ${q.includes(t.id.toString())?"bg-indigo-600 text-white border-indigo-600 shadow-md shadow-indigo-600/20":"bg-slate-50 text-slate-600 border-slate-100 hover:border-indigo-200"}`,children:t.name},t.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-sm font-black text-slate-700 uppercase tracking-wider flex items-center gap-2",children:["üå≥ ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶¨‡¶æ‡¶õ‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®",e.jsxs("span",{className:"text-[10px] bg-slate-100 px-2 py-0.5 rounded-full text-slate-500",children:[s.length,"/",le.length]})]}),e.jsx("button",{onClick:()=>f(s.length===le.length?[]:le),className:"text-xs font-bold text-indigo-600 hover:underline",children:s.length===le.length?"‡¶∏‡¶¨ ‡¶¨‡¶æ‡¶¶ ‡¶¶‡¶ø‡¶®":"‡¶∏‡¶¨ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:le.map(t=>e.jsxs("button",{onClick:()=>{const B=t.toString();f(J=>J.includes(B)?J.filter(H=>H!==B):[...J,B])},className:`w-12 h-12 rounded-xl text-xs font-black transition-all border flex items-center justify-center ${s.includes(t.toString())?"bg-amber-500 text-white border-amber-500 shadow-md shadow-amber-500/20":"bg-slate-50 text-slate-600 border-slate-100 hover:border-amber-200"}`,children:["G",t]},t))})]}),e.jsxs("div",{className:"pt-8 border-t border-slate-100",children:[e.jsx("label",{className:"text-sm font-black text-slate-700 uppercase tracking-wider block mb-4",children:"üì• ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>ge("all"),className:"p-4 bg-slate-50 hover:bg-indigo-50 border border-slate-100 hover:border-indigo-100 rounded-3xl flex flex-col items-center gap-2 group transition-all",children:[e.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:"üìÑ"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-bold text-slate-800 text-xs",children:"‡¶∏‡¶¨ ‡¶è‡¶ï ‡¶∏‡¶ø‡¶ü‡ßá"}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"Single Sheet"})]})]}),e.jsxs("button",{onClick:()=>ge("group"),className:"p-4 bg-slate-50 hover:bg-emerald-50 border border-slate-100 hover:border-emerald-100 rounded-3xl flex flex-col items-center gap-2 group transition-all",children:[e.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:"üìë"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-bold text-slate-800 text-xs",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶ï ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ"}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"Multiple Sheets"})]})]}),e.jsxs("button",{onClick:()=>ge("generation"),className:"p-4 bg-slate-50 hover:bg-amber-50 border border-slate-100 hover:border-amber-100 rounded-3xl flex flex-col items-center gap-2 group transition-all",children:[e.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:"üìö"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-bold text-slate-800 text-xs",children:"‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶ï ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ"}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"Multiple Sheets"})]})]})]})]})]})]}),e.jsxs("div",{className:"p-6 bg-slate-50 shrink-0 border-t border-slate-100 flex justify-between items-center",children:[e.jsxs("div",{className:"text-xs font-bold text-slate-400",children:["*",q.length===0&&s.length===0?"‡¶ï‡ßã‡¶®‡ßã ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶®‡¶æ ‡¶¶‡¶ø‡¶≤‡ßá ‡¶∏‡¶¨ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ü‡¶∏‡¶¨‡ßá":"‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ó ‡¶π‡¶¨‡ßá"]}),e.jsx("button",{onClick:()=>W(!1),className:"px-8 py-3 bg-slate-800 text-white rounded-2xl font-bold shadow-lg hover:bg-slate-900 transition-all active:scale-95",children:"‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsx("div",{className:"h-1.5 bg-gradient-to-r from-indigo-500 via-emerald-500 to-amber-500"})]})]})]})}function es(){const[r,b]=n.useState(null),[y,S]=n.useState(!1),[l,v]=n.useState([]),[x,j]=n.useState([]);n.useEffect(()=>{(async()=>{try{const c=(await xe(ee(_,"groups"))).docs.map(o=>({id:o.id,name:o.data().name}));j(c)}catch(g){console.error("Error fetching groups:",g)}})()},[]);const d=u=>{const g=u.target.files[0];g&&(b(g),M(g))},M=u=>{const g=new FileReader;g.onload=c=>{const o=new Uint8Array(c.target.result),h=We(o,{type:"array"}),L=h.SheetNames[0],p=h.Sheets[L],C=se.sheet_to_json(p);v(C)},g.readAsArrayBuffer(u)},i=async()=>{if(l.length===0)return k.error("‡¶ï‡ßã‡¶®‡ßã ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§");S(!0);try{const u=Re(_),g=ee(_,"members");let c=0;for(const o of l){const h=(o.Name||o["‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ"])?.toString();if(!h)continue;const L=Math.floor(1e5+Math.random()*9e5),p="M-"+L,m=`G${o.Generation||o.‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶®||1}-${L}`,A=K(g),R={uniqueId:p,displayId:m,name:h,fatherId:o["Father ID"]||o["‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø"]||"",motherId:o["Mother ID"]||o["‡¶Æ‡¶æ‡¶§‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø"]||"",spouseIds:o["Spouse IDs"]?o["Spouse IDs"].toString().split(",").map(z=>z.trim()):[],childrenIds:o["Children IDs"]?o["Children IDs"].toString().split(",").map(z=>z.trim()):[],fatherName:o["Father Name"]||o["‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ"]||"",motherName:o["Mother Name"]||o["‡¶Æ‡¶æ‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ"]||"",generation:o.Generation||o.‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶®||1,phone:(o.Phone||o.‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤||"")?.toString(),address:o.Address||o.‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ||"",gender:o.Gender||o.‡¶≤‡¶ø‡¶ô‡ßç‡¶ó||"Male",groupid:"",birthdate:o.Birthdate||o["‡¶ú‡¶®‡ßç‡¶Æ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ"]||""},W=o["Group Name"]||o["‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ"]||o.Group||o.‡¶ó‡ßç‡¶∞‡ßÅ‡¶™,q=o["Group ID"]||o["‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶Ü‡¶á‡¶°‡¶ø"];if(q)R.groupid=q;else if(W){const z=x.find(s=>s.name?.toLowerCase()===W.toString().toLowerCase());z&&(R.groupid=z.id)}u.set(A,{...R,birthYear:o["Birth Year"]?parseInt(o["Birth Year"]):null,deathYear:o["Death Year"]?parseInt(o["Death Year"]):null,alive:o.Alive?.toString().toLowerCase()!=="false",profession:o.Profession||o.‡¶™‡ßá‡¶∂‡¶æ||"",photoUrl:o["Photo URL"]||o["‡¶õ‡¶¨‡¶ø ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï"]||null,createdAt:new Date,updatedAt:new Date,importSource:"excel_upload"}),c++}c>0?(await u.commit(),k.success(`${c} ‡¶ú‡¶® ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶π‡ßü‡ßá‡¶õ‡ßá!`),b(null),v([])):k.error("‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶¨‡¶æ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§")}catch(u){console.error("Upload error:",u),k.error("‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§")}finally{S(!1)}},D=()=>{const u=[{Name:"‡¶∂‡¶∞‡¶ø‡¶´‡ßÅ‡¶≤ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ",Gender:"Male","Birth Year":1950,Profession:"Farmer",Alive:"true",Phone:"017XXXXXXXX",Address:"‡¶¢‡¶æ‡¶ï‡¶æ, ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂",Generation:1,"Group Name":"A Group",Birthdate:"1950-01-01"},{Name:"‡¶Ü‡¶∞‡¶ø‡¶´‡ßÅ‡¶≤ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ","Father ID":"M-XXXXXX",Gender:"Male","Birth Year":1980,Profession:"Teacher",Alive:"true",Phone:"018XXXXXXXX",Address:"‡¶¢‡¶æ‡¶ï‡¶æ, ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂",Generation:2,"Spouse IDs":"M-YYYYYY","Children IDs":"M-ZZZZZZ","Group Name":"A Group",Birthdate:"1980-06-15"}],g=se.json_to_sheet(u),c=se.book_new();se.book_append_sheet(c,g,"Members"),Le(c,"family_members_sample.xlsx")};return e.jsxs("div",{className:"font-bangla max-w-6xl mx-auto space-y-6 p-4 md:p-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"‡¶¨‡¶æ‡¶≤‡ßç‡¶ï ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶°"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶≤ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶¨‡¶Ç‡¶∂‡ßá‡¶∞ ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡¶¶‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsxs("button",{onClick:D,className:"text-xs px-3 py-1.5 bg-indigo-50 text-indigo-600 border border-indigo-200 rounded hover:bg-indigo-100 transition-colors flex items-center gap-1 font-bold",children:[e.jsx("span",{children:"üì•"})," ‡¶∏‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™‡¶≤ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-10 hover:bg-gray-50 transition-colors text-center",children:[e.jsx("div",{className:"text-5xl mb-4",children:"üìÑ"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡ßá‡¶∞ ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡¶Æ‡ßç‡¶¨‡¶≤‡¶ø‡¶§ Excel ‡¶´‡¶æ‡¶á‡¶≤ (.xlsx) ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶°‡ßç‡¶∞‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("input",{type:"file",accept:".xlsx, .xls",onChange:d,className:"hidden",id:"member-file-upload"}),e.jsx("label",{htmlFor:"member-file-upload",className:"cursor-pointer px-6 py-2.5 bg-indigo-600 text-white text-sm font-bold rounded-lg hover:bg-indigo-700 transition-all shadow-md active:scale-95",children:"‡¶´‡¶æ‡¶á‡¶≤ ‡¶¨‡¶æ‡¶õ‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®"}),r&&e.jsxs("p",{className:"mt-4 text-sm font-semibold text-green-600",children:["‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§: ",r.name]})]}),l.length>0&&e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center border-b pb-3",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-700",children:["‡¶´‡¶æ‡¶á‡¶≤ ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â (",l.length," ‡¶∏‡¶æ‡¶∞‡¶ø)"]}),e.jsx("button",{onClick:i,disabled:y,className:`px-6 py-2 rounded-lg text-white font-bold text-sm shadow-lg transition-all ${y?"bg-gray-400":"bg-green-600 hover:bg-green-700 active:scale-95"}`,children:y?"‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...":"‡¶∏‡¶¨ ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsx("div",{className:"overflow-x-auto border rounded-xl shadow-inner bg-gray-50",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsx("tr",{children:Object.keys(l[0]).map(u=>e.jsx("th",{className:"px-4 py-3 text-left font-bold text-gray-600 uppercase tracking-wider",children:u},u))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:l.slice(0,15).map((u,g)=>e.jsx("tr",{className:"hover:bg-gray-50 transition-colors",children:Object.values(u).map((c,o)=>e.jsx("td",{className:"px-4 py-3 text-gray-700",children:c?.toString()},o))},g))})]})}),l.length>15&&e.jsxs("p",{className:"text-xs text-gray-400 text-center italic",children:["‡¶Ü‡¶∞‡¶ì ",l.length-15," ‡¶ü‡¶ø ‡¶∏‡¶æ‡¶∞‡¶ø ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â‡¶§‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶π‡ßü‡¶®‡¶ø..."]})]})]}),e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-100",children:[e.jsx("h4",{className:"text-sm font-bold text-indigo-800 mb-2",children:"üí° ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶è‡¶¨‡¶Ç ‡¶ü‡¶ø‡¶™‡¶∏:"}),e.jsxs("ul",{className:"text-xs text-indigo-700 space-y-1 ml-4 list-disc",children:[e.jsx("li",{children:"‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶≤‡ßá 'Name', 'Father Name', 'Generation', 'Phone' ‡¶ï‡¶≤‡¶æ‡¶Æ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶•‡¶æ‡¶ï‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§"}),e.jsx("li",{children:"‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶á‡¶â‡¶®‡¶ø‡¶ï ‡¶Ü‡¶á‡¶°‡¶ø ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶•‡ßá‡¶ï‡ßá ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá‡•§"}),e.jsx("li",{children:"‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ (‡ßß, ‡ß®, ‡ß©...) ‡¶¶‡¶ø‡ßü‡ßá ‡¶¨‡¶Ç‡¶∂‡ßá‡¶∞ ‡¶ß‡¶æ‡¶™ ‡¶¨‡ßÅ‡¶ù‡¶æ‡¶®‡ßã ‡¶π‡ßü‡•§"})]})]})]})}function ts(){const[r,b]=n.useState([]),[y,S]=n.useState([]),[l,v]=n.useState(!0);n.useEffect(()=>{const i=be(ee(_,"members")),D=ue(i,c=>{const o=[];c.forEach(h=>{o.push({id:h.id,...h.data()})}),b(o)}),u=be(ee(_,"groups"),De("name")),g=ue(u,c=>{const o=[];c.forEach(h=>{o.push({id:h.id,...h.data()})}),S(o),v(!1)},c=>{console.error("Error fetching groups:",c),k.error("‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§"),v(!1)});return()=>{D(),g()}},[]);const x=y.map(i=>{const D=r.filter(u=>{const g=u.groupid||u.groupId;return g==i.id||g&&i.name&&g.toString().trim().toLowerCase()===i.name.toString().trim().toLowerCase()});return{id:i.id,name:i.name,description:i.description,total:D.length,male:D.filter(u=>u.gender==="Male").length,female:D.filter(u=>u.gender==="Female").length}}),j=x.reduce((i,D)=>i+D.total,0),d=x.reduce((i,D)=>i+D.male,0),M=x.reduce((i,D)=>i+D.female,0);return l?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):e.jsxs("div",{className:"font-bangla space-y-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"‡¶¨‡¶Ç‡¶∂ ‡¶ì ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"‡¶∏‡¶ï‡¶≤ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡¶¶‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶® ‡¶è‡¶ï‡¶®‡¶ú‡¶∞‡ßá ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®"})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-indigo-50 px-6 py-3 rounded-2xl border border-indigo-100 shadow-sm",children:[e.jsxs("div",{className:"text-center px-4 border-r border-indigo-100",children:[e.jsx("p",{className:"text-[10px] uppercase font-black text-indigo-400 tracking-widest",children:"‡¶Æ‡ßã‡¶ü ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø"}),e.jsx("p",{className:"text-xl font-black text-indigo-700",children:j})]}),e.jsxs("div",{className:"text-center px-4 border-r border-indigo-100",children:[e.jsx("p",{className:"text-[10px] uppercase font-black text-blue-400 tracking-widest",children:"‡¶™‡ßÅ‡¶∞‡ßÅ‡¶∑"}),e.jsx("p",{className:"text-xl font-black text-blue-700",children:d})]}),e.jsxs("div",{className:"text-center px-4",children:[e.jsx("p",{className:"text-[10px] uppercase font-black text-pink-400 tracking-widest",children:"‡¶Æ‡¶π‡¶ø‡¶≤‡¶æ"}),e.jsx("p",{className:"text-xl font-black text-pink-700",children:M})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[e.jsx("thead",{className:"bg-slate-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-slate-500 uppercase tracking-wider",children:"‡¶Æ‡ßã‡¶ü ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-slate-500 uppercase tracking-wider",children:"‡¶™‡ßÅ‡¶∞‡ßÅ‡¶∑"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-slate-500 uppercase tracking-wider",children:"‡¶Æ‡¶π‡¶ø‡¶≤‡¶æ"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"‡¶¨‡¶ø‡¶¨‡¶∞‡¶£"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-slate-100",children:x.map(i=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 flex items-center justify-center text-indigo-600 font-bold border border-indigo-100",children:i.name?.charAt(0)}),e.jsx("div",{className:"text-sm font-bold text-slate-800",children:i.name})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:"px-3 py-1 bg-slate-100 text-slate-700 rounded-lg text-sm font-bold",children:i.total})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-lg text-sm font-bold border border-blue-100",children:i.male})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("span",{className:"px-3 py-1 bg-pink-50 text-pink-600 rounded-lg text-sm font-bold border border-pink-100",children:i.female})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"text-xs text-slate-500 font-medium line-clamp-1",title:i.description,children:i.description||"-"})})]},i.id))}),e.jsx("tfoot",{className:"bg-slate-50/80 font-bold",children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 text-sm text-slate-800",children:"‡¶∏‡¶∞‡ßç‡¶¨‡¶Æ‡ßã‡¶ü"}),e.jsx("td",{className:"px-6 py-4 text-center text-sm text-indigo-700",children:j}),e.jsx("td",{className:"px-6 py-4 text-center text-sm text-blue-700",children:d}),e.jsx("td",{className:"px-6 py-4 text-center text-sm text-pink-700",children:M}),e.jsx("td",{})]})})]})}),x.length===0&&e.jsx("div",{className:"py-20 text-center text-slate-400 italic font-bangla",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:x.filter(i=>i.total>0).map(i=>e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm hover:shadow-md transition-all group overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-indigo-50 rounded-bl-full -mr-12 -mt-12 transition-transform group-hover:scale-125 duration-500 opacity-50"}),e.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500"}),i.name]}),e.jsxs("div",{className:"space-y-4 relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl",children:[e.jsx("span",{className:"text-xs font-bold text-slate-500",children:"‡¶Æ‡ßã‡¶ü ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø"}),e.jsx("span",{className:"text-sm font-black text-slate-800",children:i.total})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-blue-50/50 rounded-xl border border-blue-100/50 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-blue-400 uppercase mb-1",children:"‡¶™‡ßÅ‡¶∞‡ßÅ‡¶∑"}),e.jsx("p",{className:"text-lg font-black text-blue-600",children:i.male})]}),e.jsxs("div",{className:"p-3 bg-pink-50/50 rounded-xl border border-pink-100/50 text-center",children:[e.jsx("p",{className:"text-[10px] font-bold text-pink-400 uppercase mb-1",children:"‡¶Æ‡¶π‡¶ø‡¶≤‡¶æ"}),e.jsx("p",{className:"text-lg font-black text-pink-600",children:i.female})]})]}),e.jsxs("div",{className:"h-1.5 w-full bg-slate-100 rounded-full overflow-hidden mt-4",children:[e.jsx("div",{className:"h-full bg-blue-500",style:{width:`${i.male/i.total*100}%`}}),e.jsx("div",{className:"h-full bg-pink-500",style:{width:`${i.female/i.total*100}%`}})]}),e.jsxs("div",{className:"flex justify-between text-[8px] font-bold text-slate-400 uppercase tracking-tighter",children:[e.jsxs("span",{children:["‡¶™‡ßÅ‡¶∞‡ßÅ‡¶∑ ",Math.round(i.male/i.total*100),"%"]}),e.jsxs("span",{children:["‡¶Æ‡¶π‡¶ø‡¶≤‡¶æ ",Math.round(i.female/i.total*100),"%"]})]})]})]},i.id))})]})}at.register({family:"BengaliFont",src:"/fonts/Kalpurush.ttf"});const ce=rt.create({page:{padding:30,backgroundColor:"#ffffff",fontFamily:"BengaliFont"},title:{fontSize:22,marginBottom:20,textAlign:"center",fontWeight:"bold",color:"#334155",fontFamily:"BengaliFont"},header:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#e2e8f0",backgroundColor:"#f8fafc",padding:8,fontWeight:"bold",fontFamily:"BengaliFont"},row:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#f1f5f9",padding:8,alignItems:"center",fontFamily:"BengaliFont"},colDate:{width:"12%",fontSize:9,color:"#475569"},colName:{width:"42%",fontSize:9,color:"#475569"},colGroup:{width:"18%",fontSize:9,color:"#475569"},colMonth:{width:"12%",fontSize:9,color:"#475569"},colAmount:{width:"18%",fontSize:9,textAlign:"right",color:"#475569"},summary:{marginTop:20,padding:10,backgroundColor:"#f8fafc",borderRadius:8,fontFamily:"BengaliFont"},summaryText:{fontSize:12,fontWeight:"bold",textAlign:"right",color:"#1e293b",fontFamily:"BengaliFont"}}),ss=(r="")=>r.replace(":",":¬†").normalize("NFC"),Ce=r=>{if(!r)return 0;const b=r.split(" ");if(b.length<2)return 0;const[y,S]=b,v=["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(y);return new Date(parseInt(S),v).getTime()},as=({data:r,totalAmount:b,month:y,groupName:S})=>{const l=r.reduce((v,x)=>{const j=x.groupName||"N/A";return v[j]||(v[j]=[]),v[j].push(x),v},{});return e.jsx(nt,{children:e.jsxs(lt,{size:"A4",style:ce.page,children:[e.jsx(Y,{style:ce.title,children:"Donation Report"}),e.jsx(te,{style:{marginBottom:15},children:e.jsxs(Y,{style:{fontSize:10,color:"#64748b"},children:["Filter: ",y||"All Months"," | ",S||"All Groups"]})}),Object.entries(l).map(([v,x],j)=>{const d=x.reduce((M,i)=>M+(Number(i.amount)||0),0);return e.jsxs(te,{style:{marginBottom:10},children:[e.jsx(Y,{style:{fontSize:10,fontWeight:"bold",marginBottom:3,fontFamily:"BengaliFont"},children:v}),e.jsxs(te,{style:ce.header,children:[e.jsx(Y,{style:ce.colDate,children:"Date"}),e.jsx(Y,{style:ce.colName,children:"Member Name"}),e.jsx(Y,{style:ce.colMonth,children:"Month"}),e.jsx(Y,{style:ce.colAmount,children:"Amount"})]}),x.map((M,i)=>e.jsxs(te,{style:ce.row,children:[e.jsx(Y,{style:ce.colDate,children:M.date&&typeof M.date.toDate=="function"?M.date.toDate().toLocaleDateString():M.createdAt?new Date(M.createdAt).toLocaleDateString():"N/A"}),e.jsx(Y,{style:ce.colName,children:ss(M.userName||"N/A")}),e.jsx(Y,{style:ce.colMonth,children:M.month||"N/A"}),e.jsxs(Y,{style:ce.colAmount,children:["‡ß≥",M.amount]})]},i)),e.jsxs(te,{style:{flexDirection:"row",marginTop:3,paddingTop:5,borderTopWidth:1,borderTopColor:"#000000"},children:[e.jsx(Y,{style:{flex:1,fontSize:9,fontWeight:"bold",textAlign:"right",paddingRight:10,fontFamily:"BengaliFont"},children:"Sub-Total:"}),e.jsxs(Y,{style:{width:"15%",fontSize:9,fontWeight:"bold",textAlign:"right",fontFamily:"BengaliFont"},children:["‡ß≥",d.toLocaleString()]})]})]},j)}),e.jsx(te,{style:{marginTop:10,paddingTop:8,borderTopWidth:2,borderTopColor:"#000000"},children:e.jsxs(Y,{style:{fontSize:11,fontWeight:"bold",textAlign:"right",fontFamily:"BengaliFont"},children:["Grand Total: ‡ß≥",b.toLocaleString()]})})]})})};function rs(){const{donations:r,groups:b,loading:y}=ke(),S=y.donations||y.groups,[l,v]=n.useState([]),[x,j]=n.useState(""),[d,M]=n.useState(!1),[i,D]=n.useState(1),u=15,[g,c]=n.useState("details"),o=n.useMemo(()=>{const s=l&&l.length>0?l.map(w=>w.label).join("_"):"All",f=(b||[]).find(w=>w.id===x)?.name||"All";return`Donation_Report_${s}_${f}`},[l,x,b]),h=n.useMemo(()=>r?[...new Set(r.map(f=>f.month))].filter(Boolean).sort((f,w)=>Ce(w)-Ce(f)).map(f=>({value:f,label:f})):[],[r]),L=n.useMemo(()=>!r||!b?[]:r.map(s=>({...s,groupName:Array.isArray(b)&&b.find(f=>f.id===s.groupId)?.name||"N/A"})),[r,b]),p=n.useMemo(()=>L.filter(s=>{const f=l&&l.length>0?l.some(Q=>Q?.value===s.month):!0,w=x?s.groupId===x:!0,E=String(s.status||"").toLowerCase()==="approved";return f&&w&&E}),[L,l,x]),C=n.useMemo(()=>p.reduce((s,f)=>s+(Number(f.amount)||0),0),[p]),m=Math.ceil(p.length/u),A=n.useMemo(()=>{const s=(i-1)*u;return p.slice(s,s+u)},[p,i]),R=n.useMemo(()=>{if(!L||!b)return{groups:[],months:[]};const s=L.filter(E=>String(E.status||"").toLowerCase()==="approved");let f=[];if(l&&l.length>0?f=l.map(E=>E.value).sort((E,Q)=>Ce(Q)-Ce(E)):f=[...new Set(s.map(E=>E.month))].filter(Boolean).sort((E,Q)=>Ce(Q)-Ce(E)),f.length===0)return{groups:[],months:[]};const w={};return b.forEach(E=>{w[E.id]={name:E.name,id:E.id,monthlyTotals:{},total:0},f.forEach(Q=>{w[E.id].monthlyTotals[Q]=0})}),s.forEach(E=>{if(w[E.groupId]&&f.includes(E.month)){const Q=Number(E.amount)||0;w[E.groupId].monthlyTotals[E.month]+=Q,w[E.groupId].total+=Q}}),{groups:Object.values(w).filter(E=>E.total>0).sort((E,Q)=>(E.name||"").localeCompare(Q.name||"")),months:f}},[L,b,l]),W=s=>s.date&&typeof s.date.toDate=="function"?s.date.toDate().toLocaleDateString("bn-BD"):s.createdAt?new Date(s.createdAt).toLocaleDateString("bn-BD"):"N/A",q=()=>{try{const s=p.map($=>({‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:W($),‡¶®‡¶æ‡¶Æ:$.userName,‡¶Ü‡¶á‡¶°‡¶ø:$.memberDisplayId||$.memberId,‡¶ó‡ßç‡¶∞‡ßÅ‡¶™:$.groupName,‡¶Æ‡¶æ‡¶∏:$.month,‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£:$.amount,‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏:$.status})),f=se.json_to_sheet(s),w=se.book_new();se.book_append_sheet(w,f,"Donations"),Le(w,`${o}.xlsx`),k.success("‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶≤ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡ßü‡ßá‡¶õ‡ßá")}catch(s){console.error(s),k.error("‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶≤ ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá")}},z=async()=>{if(p.length===0)return k.error("‡¶ï‡ßã‡¶®‡ßã ‡¶°‡¶æ‡¶ü‡¶æ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø");M(!0);try{const{pdf:s}=await ct(async()=>{const{pdf:Q}=await import("./@react-pdf/renderer-i1NjJvWe.js");return{pdf:Q}},__vite__mapDeps([22,23,24,2,25,26,1,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,5,68])),f=e.jsx(as,{data:p,totalAmount:C,month:l&&l.length>0?l.map(Q=>Q.label).join(", "):"All Months",groupName:(b||[]).find(Q=>Q.id===x)?.name||"All Groups"}),w=await s(f).toBlob(),$=URL.createObjectURL(w),E=document.createElement("a");E.href=$,E.download=`${o}.pdf`,E.click(),URL.revokeObjectURL($),k.success("PDF ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡ßü‡ßá‡¶õ‡ßá")}catch(s){console.error("PDF Error:",s),k.error("PDF ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá")}finally{M(!1)}};return S?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):e.jsxs("div",{className:"font-bangla space-y-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("div",{className:"w-64",children:e.jsx(ve,{isMulti:!0,options:h,value:l,onChange:s=>{v(s),D(1)},placeholder:"‡¶Æ‡¶æ‡¶∏ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®...",className:"text-sm font-bold text-slate-700",classNamePrefix:"select"})}),e.jsxs("select",{value:x,onChange:s=>{j(s.target.value),D(1)},className:"px-4 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"‡¶∏‡¶ï‡¶≤ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™"}),b.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:q,className:"px-5 py-2 bg-emerald-600 text-white rounded-xl text-sm font-bold hover:bg-emerald-700 transition-colors flex items-center gap-2 shadow-lg shadow-emerald-200",children:[e.jsx("span",{children:"üìä"})," Excel"]}),e.jsx("button",{onClick:z,disabled:d,className:"px-5 py-2 bg-rose-600 text-white rounded-xl text-sm font-bold hover:bg-rose-700 transition-colors flex items-center gap-2 shadow-lg shadow-rose-200 disabled:opacity-50",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§ ‡¶π‡¶ö‡ßç‡¶õ‡ßá..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"üìÑ"}),e.jsx("span",{children:"PDF"})]})})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-indigo-700 p-6 rounded-3xl text-white shadow-xl shadow-indigo-100",children:[e.jsx("p",{className:"text-xs font-bold uppercase tracking-widest opacity-80",children:"‡¶Æ‡ßã‡¶ü ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶®"}),e.jsxs("p",{className:"text-3xl font-black mt-2",children:["‡ß≥",C.toLocaleString()]}),e.jsx("p",{className:"text-xs mt-4 opacity-70",children:"‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞‡ßá‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶§‡ßá"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ"}),e.jsx("p",{className:"text-3xl font-black mt-2 text-slate-800",children:p.length}),e.jsx("p",{className:"text-xs mt-4 text-emerald-600 font-bold",children:"‡¶∏‡¶ï‡¶≤ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ö‡¶®‡ßÅ‡¶Æ‡ßã‡¶¶‡¶ø‡¶§"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"‡¶ó‡ßú ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶®"}),e.jsxs("p",{className:"text-3xl font-black mt-2 text-slate-800",children:["‡ß≥",p.length>0?Math.round(C/p.length).toLocaleString():0]}),e.jsx("p",{className:"text-xs mt-4 text-slate-400 italic",children:"‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶®"})]})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-slate-100/50 p-1 rounded-2xl w-fit border border-slate-200",children:[e.jsx("button",{onClick:()=>c("details"),className:`px-6 py-2 rounded-xl text-sm font-black transition-all duration-300 ${g==="details"?"bg-white text-indigo-600 shadow-md shadow-indigo-100":"text-slate-500 hover:text-slate-700 hover:bg-white/50"}`,children:"‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ"}),e.jsx("button",{onClick:()=>c("summary"),className:`px-6 py-2 rounded-xl text-sm font-black transition-all duration-300 ${g==="summary"?"bg-white text-indigo-600 shadow-md shadow-indigo-100":"text-slate-500 hover:text-slate-700 hover:bg-white/50"}`,children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶ì ‡¶Æ‡¶æ‡¶∏ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶ï ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶∞‡¶ø"})]}),g==="details"&&e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-100",children:[e.jsx("thead",{className:"bg-slate-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-widest",children:"‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-widest",children:"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-widest",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-widest",children:"‡¶Æ‡¶æ‡¶∏"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-400 uppercase tracking-widest",children:"‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:A.map((s,f)=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:W(s)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-bold text-slate-800",children:s.userName}),e.jsxs("div",{className:"text-[10px] text-slate-400",children:["ID: ",s.memberDisplayId||s.memberId]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-600 rounded-md text-[10px] font-bold uppercase",children:s.groupName})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 italic",children:s.month}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-black text-slate-800",children:["‡ß≥",s.amount.toLocaleString()]})]},s.id))}),A.length>0&&e.jsx("tfoot",{className:"bg-slate-50/80 font-black",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:"4",className:"px-6 py-4 text-right text-sm text-slate-600 uppercase",children:"‡¶Æ‡ßã‡¶ü"}),e.jsxs("td",{className:"px-6 py-4 text-right text-sm text-indigo-700",children:["‡ß≥",C.toLocaleString()]})]})})]})}),p.length===0&&e.jsx("div",{className:"py-20 text-center text-slate-400 italic",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶°‡¶æ‡¶ü‡¶æ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø"}),m>1&&e.jsxs("div",{className:"px-8 py-4 bg-slate-50/50 border-t border-slate-100 flex items-center justify-between",children:[e.jsxs("p",{className:"text-xs font-bold text-slate-400",children:["‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ ",i," (‡¶Æ‡ßã‡¶ü ",m,")"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{disabled:i===1,onClick:()=>D(s=>s-1),className:"px-4 py-1.5 bg-white border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-50 disabled:opacity-50 transition-colors",children:"‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶¨‡¶∞‡ßç‡¶§‡ßÄ"}),e.jsx("button",{disabled:i===m,onClick:()=>D(s=>s+1),className:"px-4 py-1.5 bg-white border border-slate-200 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-50 disabled:opacity-50 transition-colors",children:"‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ"})]})]})]}),g==="summary"&&e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-100",children:[e.jsx("thead",{className:"bg-slate-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-widest sticky left-0 bg-slate-50 z-10",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ"}),R.months.map(s=>e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-400 uppercase tracking-widest",children:s},s)),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-indigo-600 uppercase tracking-widest font-black",children:"‡¶Æ‡ßã‡¶ü"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:R.groups.map(s=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-slate-800 sticky left-0 bg-white group-hover:bg-slate-50",children:s.name}),R.months.map(f=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-slate-600 tabular-nums",children:s.monthlyTotals[f]>0?`‡ß≥${s.monthlyTotals[f].toLocaleString()}`:"-"},f)),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-black text-indigo-700 tabular-nums",children:["‡ß≥",s.total.toLocaleString()]})]},s.id))}),e.jsx("tfoot",{className:"bg-slate-50/80 font-black",children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 text-left text-sm text-slate-600 uppercase sticky left-0 bg-slate-50/80",children:"‡¶∏‡¶∞‡ßç‡¶¨‡¶Æ‡ßã‡¶ü"}),R.months.map(s=>{const f=R.groups.reduce((w,$)=>w+($.monthlyTotals[s]||0),0);return e.jsxs("td",{className:"px-6 py-4 text-right text-sm text-slate-800 tabular-nums",children:["‡ß≥",f.toLocaleString()]},s)}),e.jsxs("td",{className:"px-6 py-4 text-right text-sm text-indigo-700 tabular-nums",children:["‡ß≥",C.toLocaleString()]})]})})]})}),R.groups.length===0&&e.jsx("div",{className:"py-20 text-center text-slate-400 italic",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶∞‡¶ø ‡¶°‡¶æ‡¶ü‡¶æ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø"})]})]})}function Je(){const r={member_name:"",gender:"Male",t_shirt_size:"L",age:""},[b,y]=n.useState([]),[S,l]=n.useState(null),[v,x]=n.useState({name:"",mobile:"",email:"",headOfFamily:"",contributeAmount:"",paymentStatus:"Pending",members:[{...r,member_name:""}],group_id:""}),[j,d]=n.useState(!1),[M,i]=n.useState(null),[D,u]=n.useState("");n.useEffect(()=>{(async()=>{try{const m=(await xe(ee(_,"groups"))).docs.map(A=>({id:A.id,...A.data()}));y(m),m.length>0&&x(A=>({...A,group_id:m[0].id}))}catch(C){console.error("Error fetching groups: ",C),k.error("‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§")}})()},[]);const g=p=>{S&&l(null);const{name:C,value:m}=p.target;x(A=>({...A,[C]:m}))},c=()=>{x(p=>({...p,members:[...p.members,{...r,member_name:""}]}))},o=(p,C)=>{const{name:m,value:A}=C.target,R=v.members.map((W,q)=>q===p?{...W,[m]:A}:W);x(W=>({...W,members:R}))},h=p=>{x(C=>({...C,members:C.members.filter((m,A)=>A!==p)}))},L=async p=>{p.preventDefault(),d(!0),i(null);try{const C=[...v.members];C[0]={...C[0],member_name:v.name};const m=C.length,A="HF-"+Math.floor(1e5+Math.random()*9e5),R={id:A,...v,members:C,totalMembers:m,createdAt:new Date};await Fe(ee(_,"registrations"),R);const W=await Xe.toDataURL(A);u(W),i(R),k.success("‚úÖ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶´‡¶≤!"),x({name:"",mobile:"",email:"",group_id:"1",contributeAmount:"",paymentStatus:"Pending",members:[{...r}]})}catch(C){console.error(C),k.error("‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá: "+C.message)}finally{d(!1)}};return n.useEffect(()=>{(async()=>{if(!sessionStorage.getItem("hasVisited"))try{const m=K(_,"stats","page_views");(await Ge(m)).exists()?await ie(m,{count:tt(1)}):await Be(m,{count:1}),sessionStorage.setItem("hasVisited","true")}catch(m){console.error("Tracking Error:",m)}})()},[]),e.jsxs("div",{className:"max-w-5xl mx-auto bg-white p-6 md:p-10 rounded-xl shadow-2xl font-bangla",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 border-b pb-4 mb-6 text-center",children:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ‡¶¨‡¶Ç‡¶∂ ‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶®‡ßá‡¶∞ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶´‡¶∞‡ßç‡¶Æ"}),M&&D&&e.jsxs("div",{className:"mb-6 p-4 bg-green-100 border border-green-400 rounded-lg text-center",children:[e.jsx("p",{className:"text-lg font-bold text-green-800 mb-2",children:"‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶´‡¶≤!"}),e.jsx(qe,{document:e.jsx(Oe,{data:M,qrCodeUrl:D}),fileName:`entry-card-${M.id}.pdf`,children:({loading:p})=>e.jsx("button",{className:"px-6 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 font-bold",children:p?"PDF ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶ö‡ßç‡¶õ‡ßá...":"üì• ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®"})})]}),e.jsxs("form",{onSubmit:L,className:"space-y-8",children:[e.jsxs("section",{className:"border border-gray-300 p-6 rounded-lg shadow-sm bg-gray-50",children:[e.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"‡¶Æ‡ßÇ‡¶≤ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶®‡¶ø‡¶ß‡¶ø ‡¶ì ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["‡¶®‡¶æ‡¶Æ (‡¶Ø‡¶ø‡¶®‡¶ø ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶®‡¶ø‡¶ß‡¶ø‡¶§‡ßç‡¶¨ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®)",e.jsx("sapn",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",id:"name",name:"name",value:v.name,onChange:g,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"mobile",className:"block text-sm font-medium text-gray-700",children:["‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞",e.jsx("sapn",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",id:"mobile",name:"mobile",value:v.mobile,onChange:g,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:["‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡ßç‡¶∞‡ßá‡¶∏",e.jsx("sapn",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:v.email,onChange:g,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"group_id",className:"block text-sm font-medium text-gray-700",children:"‡¶¶‡¶≤/‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®*"}),e.jsx("select",{id:"group_id",name:"group_id",value:v.group_id,onChange:g,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-indigo-500 focus:border-indigo-500",children:b.length===0?e.jsx("option",{value:"",children:"‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá..."}):b.map(p=>e.jsxs("option",{value:p.id.toString(),children:[p.description,"-",p.name]},p.id))})]})]})]}),e.jsxs("section",{className:"border border-gray-300 p-6 rounded-lg shadow-sm",children:[e.jsx("h3",{className:"text-xl font-semibold text-green-700 mb-4",children:"‡¶ö‡¶æ‡¶Å‡¶¶‡¶æ/‡¶´‡¶ø ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶®‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contributeAmount",className:"block text-sm font-medium text-gray-700",children:"‡¶ö‡¶æ‡¶Å‡¶¶‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶®"}),e.jsx("input",{type:"number",id:"contributeAmount",name:"contributeAmount",value:v.contributeAmount,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"‡¶Ø‡ßá‡¶Æ‡¶®: ‡ßß‡ß¶‡ß¶‡ß¶"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"paymentStatus",className:"block text-sm font-medium text-gray-700",children:"‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏"}),e.jsxs("select",{id:"paymentStatus",name:"paymentStatus",value:v.paymentStatus,onChange:g,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"Pending",children:"Pending - ‡¶Æ‡ßÅ‡¶≤‡¶§‡¶¨‡¶ø"}),e.jsx("option",{value:"Paid",children:"Paid - ‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶ø‡¶§"}),e.jsx("option",{value:"Waived",children:"Waived - ‡¶Æ‡¶ì‡¶ï‡ßÅ‡¶´"})]})]})]})]}),e.jsxs("section",{className:"border border-gray-300 p-6 rounded-lg shadow-2xl bg-indigo-50",children:[e.jsxs("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:["‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶®‡ßá ‡¶Ö‡¶Ç‡¶∂‡¶ó‡ßç‡¶∞‡¶π‡¶£‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡¶¶‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ (‡¶Æ‡ßã‡¶ü:"," ",v.members.length," ‡¶ú‡¶®)"]}),v.members.map((p,C)=>e.jsxs("div",{className:`relative p-4 border border-indigo-200 rounded-lg mb-4 bg-white ${C>0?"pt-8":""}`,children:[e.jsxs("h4",{className:"font-bold text-gray-800 mb-3",children:["‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø #",C+1]}),C>0&&e.jsx("button",{type:"button",onClick:()=>h(C),className:"absolute top-2 right-2 text-sm px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 transition",children:"‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶® üóëÔ∏è"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"‡¶®‡¶æ‡¶Æ"}),e.jsx("input",{type:"text",name:"member_name",value:C===0?v.name:p.member_name,onChange:m=>C===0?g({target:{name:"name",value:m.target.value}}):o(C,m),required:!0,placeholder:C===0?"‡¶â‡¶™‡¶∞‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶∏‡ßç‡¶¨‡¶Ø‡¶º‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶≠‡¶æ‡¶¨‡ßá ‡¶®‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶≤‡ßã":"‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø‡ßá‡¶∞ ‡¶™‡ßÅ‡¶∞‡ßã ‡¶®‡¶æ‡¶Æ",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 text-sm",disabled:C===0&&!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"‡¶≤‡¶ø‡¶ô‡ßç‡¶ó/‡¶∂‡ßç‡¶∞‡ßá‡¶£‡¶ø"}),e.jsxs("select",{name:"gender",value:p.gender,onChange:m=>o(C,m),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 text-sm",children:[e.jsx("option",{value:"Male",children:"‡¶õ‡ßá‡¶≤‡ßá (‡¶™‡ßç‡¶∞‡¶æ‡¶™‡ßç‡¶§‡¶¨‡¶Ø‡¶º‡¶∏‡ßç‡¶ï)"}),e.jsx("option",{value:"Female",children:"‡¶Æ‡ßá‡¶Ø‡¶º‡ßá (‡¶™‡ßç‡¶∞‡¶æ‡¶™‡ßç‡¶§‡¶¨‡¶Ø‡¶º‡¶∏‡ßç‡¶ï)"}),e.jsx("option",{value:"Child",children:"‡¶∂‡¶ø‡¶∂‡ßÅ (‡ßß‡ß¶ ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"‡¶ü‡¶ø-‡¶∂‡¶æ‡¶∞‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú"}),e.jsxs("select",{name:"t_shirt_size",value:p.t_shirt_size,onChange:m=>o(C,m),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 text-sm",children:[e.jsx("option",{value:"S",children:"S"}),e.jsx("option",{value:"M",children:"M"}),e.jsx("option",{value:"L",children:"L"}),e.jsx("option",{value:"XL",children:"XL"}),e.jsx("option",{value:"XXL",children:"XXL"}),e.jsx("option",{value:"NA",children:"NA (‡¶∂‡¶ø‡¶∂‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"‡¶¨‡¶Ø‡¶º‡¶∏ (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)"}),e.jsx("input",{type:"number",name:"age",value:p.age,onChange:m=>o(C,m),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 text-sm"})]})]})]},C)),e.jsx("button",{type:"button",onClick:c,className:"mt-4 px-6 py-2 bg-indigo-500 text-white rounded-lg shadow-md hover:bg-indigo-600 transition font-medium",children:"‚ûï ‡¶Ü‡¶∞‡ßã ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsx("div",{className:"pt-6",children:e.jsx("button",{type:"submit",disabled:j,className:`w-full py-3 px-4 border border-transparent rounded-lg shadow-lg text-lg font-medium text-white ${j?"bg-gray-400":"bg-indigo-600 hover:bg-indigo-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-300 ease-in-out`,children:j?"‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡ßá‡¶≠ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...":"‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®"})})]})]})}const Qe=()=>{const y=new Date,S=y.getFullYear(),l=y.getMonth(),v=["January","February","March","April","May","June","July","August","September","October","November","December"],x=[];let j=2025,d=7;for(;j<S||j===S&&d<=l;)x.push(`${v[d]} ${j}`),d++,d>11&&(d=0,j++);return x.reverse()};function ns(){const{groups:r,members:b,loading:y}=ke(),[S,l]=n.useState(""),[v,x]=n.useState(!1),[j,d]=n.useState([]),[M,i]=n.useState(null),[D,u]=n.useState(!1),[g,c]=n.useState("All"),[o,h]=n.useState("All"),[L,p]=n.useState(0);n.useEffect(()=>{const s=K(_,"metadata","public_donation_stats");(async()=>{try{const $="has_visited_donation_report";sessionStorage.getItem($)||(await Be(s,{visitCount:tt(1)},{merge:!0}),sessionStorage.setItem($,"true"))}catch($){console.error("Error updating visit count:",$)}})();const w=ue(s,$=>{$.exists()&&p($.data().visitCount||0)});return()=>w()},[]);const C=async s=>{s&&s.preventDefault();const f=S.trim();if(!f)return k.error("‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶á‡¶°‡¶ø ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®");if(y?.members)return k.error("‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá, ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®");x(!0),u(!0);try{const w=new Set;let $="",E="",Q="";const ne=f.toLowerCase();(b||[]).forEach(P=>{const V=String(P.uniqueId||"").toLowerCase(),re=String(P.displayId||"").toLowerCase(),de=String(P.id||"").toLowerCase(),le=V===ne||re===ne||de===ne,je=V.endsWith("-"+ne)||re.endsWith("-"+ne);(le||je)&&(P.uniqueId&&w.add(P.uniqueId),P.id&&w.add(P.id),P.displayId&&w.add(P.displayId),$||($=P.userName||P.name,E=P.displayId||P.uniqueId,Q=P.groupid||P.groupId))}),w.add(f);const I=ee(_,"donations"),Z=Array.from(w).filter(Boolean);if(Z.length===0){d([]),i(null),x(!1);return}const me=[],he=30;for(let P=0;P<Z.length;P+=he){const V=Z.slice(P,P+he),re=be(I,Me("memberId","in",V),Me("status","==","approved"));me.push(xe(re));const de=be(I,Me("memberDisplayId","in",V),Me("status","==","approved"));me.push(xe(de))}const fe=await Promise.all(me);let N=[];const O=new Set;if(fe.forEach(P=>{P.forEach(V=>{O.has(V.id)||(N.push({id:V.id,...V.data()}),O.add(V.id))})}),N.sort((P,V)=>{const re=P.date?.toDate?.()||new Date(P.createdAt||0);return(V.date?.toDate?.()||new Date(V.createdAt||0))-re}),d(N),N.length>0){const P=N[0];i({userName:P.userName||$,memberDisplayId:P.memberDisplayId||E,groupName:r.find(V=>V.id===(P.groupId||Q))?.name||"N/A"})}else i({userName:$,memberDisplayId:E,groupName:r.find(P=>P.id===Q)?.name||"N/A"})}catch(w){console.error(w),k.error("‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ü‡¶®‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá")}finally{x(!1)}},m=n.useMemo(()=>{const s=new Set;return j.forEach(f=>{if(f.month){const w=f.month.split(" ");w.length===2&&s.add(w[1])}}),["All",...Array.from(s).sort((f,w)=>w-f)]},[j]),A=["All","January","February","March","April","May","June","July","August","September","October","November","December"],R=n.useMemo(()=>{const s=Qe(),f=[];return s.forEach(w=>{const $=g==="All"||w.includes(g),E=o==="All"||w.includes(o);if($&&E){const Q=j.filter(ne=>ne.month===w);Q.length>0?Q.forEach(ne=>f.push({...ne,isVirtual:!1})):f.push({id:`virtual-${w}`,month:w,amount:0,isVirtual:!0,status:"virtual"})}}),f},[j,g,o]),W=n.useMemo(()=>R.reduce((s,f)=>s+(Number(f.amount)||0),0),[R]),q=n.useMemo(()=>{const s=Qe(),f={};return s.forEach(w=>{f[w]=0}),j.forEach(w=>{w.month&&Object.prototype.hasOwnProperty.call(f,w.month)&&(f[w.month]+=Number(w.amount)||0)}),s.map(w=>[w,f[w]]).filter(([w])=>{const $=g==="All"||w.includes(g),E=o==="All"||w.includes(o);return $&&E})},[j,g,o]),z=n.useMemo(()=>{const s={};return R.forEach(f=>{const w=f.month?.split(" ")[1];w&&(s[w]||(s[w]=0),s[w]+=Number(f.amount)||0)}),Object.entries(s).sort((f,w)=>w[0]-f[0])},[R]);return e.jsxs("div",{className:"min-h-screen bg-slate-50 font-bangla pb-20",children:[e.jsxs("div",{className:"bg-indigo-700 text-white pt-16 pb-32 px-6 text-center",children:[e.jsx("div",{className:"inline-block px-6 py-2 bg-amber-400 text-indigo-900 rounded-2xl font-black mb-6 shadow-lg shadow-amber-400/20 animate-bounce-subtle",children:e.jsx("span",{className:"text-2xl md:text-3xl tracking-wide",children:"‡¶π‡¶∞‡¶ï‡¶∞‡¶æ ‡¶´‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá‡¶∂‡¶®"})}),e.jsx("h1",{className:"text-3xl font-black mb-4",children:"‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®"}),e.jsx("p",{className:"opacity-90 max-w-lg mx-auto font-medium text-lg",children:"‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¶‡¶ø‡ßü‡ßá ‡¶∏‡¶π‡¶ú‡ßá‡¶á ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶® ‡¶∞‡ßá‡¶ï‡¶∞‡ßç‡¶° ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶®‡¶ø‡¶®"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 -mt-20",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("form",{onSubmit:C,className:"bg-white p-2 rounded-3xl shadow-2xl flex items-center gap-2",children:[e.jsx("input",{type:"text",placeholder:"‡¶Ü‡¶á‡¶°‡¶ø ‡¶¶‡¶ø‡¶® (‡¶Ø‡ßá‡¶Æ‡¶®: 123 ‡¶Ö‡¶•‡¶¨‡¶æ G3-123)",value:S,onChange:s=>l(s.target.value),className:"flex-1 bg-transparent px-6 py-4 outline-none text-lg font-bold text-slate-700 placeholder:text-slate-300"}),e.jsx("button",{type:"submit",disabled:v,className:"bg-indigo-600 text-white px-8 py-4 rounded-2xl font-black hover:bg-indigo-700 transition-all disabled:opacity-50 shadow-lg shadow-indigo-200",children:v?"‡¶ñ‡ßã‡¶Å‡¶ú‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...":"‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),e.jsxs("div",{className:"flex items-center gap-2 justify-center text-sm font-bold text-slate-500 animate-fade-in",children:[e.jsx("span",{className:"w-5 h-5 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center text-[10px]",children:"üí°"}),e.jsx("span",{children:"‡¶ü‡¶ø‡¶™‡¶∏: ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶ï‡ßã‡¶° (‡¶Ø‡ßá‡¶Æ‡¶®: G3-) ‡¶õ‡¶æ‡ßú‡¶æ‡¶á ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶¶‡¶ø‡ßü‡ßá ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§"})]})]}),D&&!v&&j.length===0&&e.jsxs("div",{className:"bg-white p-12 rounded-3xl text-center shadow-lg border border-slate-100",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üîç"}),e.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶°‡¶æ‡¶ü‡¶æ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø"}),e.jsx("p",{className:"text-slate-500",children:"‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø‡¶ü‡¶ø ‡¶∏‡¶†‡¶ø‡¶ï ‡¶ï‡¶ø‡¶®‡¶æ ‡¶™‡ßÅ‡¶®‡¶∞‡¶æ‡ßü ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®"})]}),j.length>0&&e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-5 duration-500",children:[e.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-slate-100 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold text-indigo-600 uppercase tracking-widest px-3 py-1 bg-indigo-50 rounded-full",children:"‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶á‡¶®‡¶´‡ßã"}),e.jsx("h2",{className:"text-3xl font-black text-slate-800 mt-2",children:M?.userName}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:[e.jsxs("p",{className:"text-slate-500 font-bold",children:["ID:"," ",e.jsx("span",{className:"text-slate-800",children:M?.memberDisplayId||S})]}),e.jsxs("p",{className:"text-slate-500 font-bold",children:["Group:"," ",e.jsx("span",{className:"text-slate-800",children:M?.groupName})]})]})]}),e.jsxs("div",{className:"bg-indigo-600 text-white px-8 py-4 rounded-2xl text-center",children:[e.jsx("p",{className:"text-xs font-bold opacity-70 uppercase tracking-widest",children:"‡¶Æ‡ßã‡¶ü ‡¶°‡ßã‡¶®‡ßá‡¶∂‡¶®"}),e.jsxs("p",{className:"text-3xl font-black",children:["‡ß≥",j.reduce((s,f)=>s+(Number(f.amount)||0),0).toLocaleString()]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-white p-2 rounded-2xl border border-slate-200 shadow-sm w-full md:w-auto",children:[e.jsx("select",{value:g,onChange:s=>c(s.target.value),className:"flex-1 md:flex-none border-none outline-none text-sm font-bold text-slate-600 px-4 py-2 bg-transparent",children:m.map(s=>e.jsx("option",{value:s,children:s==="All"?"‡¶∏‡¶ï‡¶≤ ‡¶¨‡¶õ‡¶∞":s},s))}),e.jsx("div",{className:"w-px h-6 bg-slate-200"}),e.jsx("select",{value:o,onChange:s=>h(s.target.value),className:"flex-1 md:flex-none border-none outline-none text-sm font-bold text-slate-600 px-4 py-2 bg-transparent",children:A.map(s=>e.jsx("option",{value:s,children:s==="All"?"‡¶∏‡¶ï‡¶≤ ‡¶Æ‡¶æ‡¶∏":s},s))})]}),e.jsxs("p",{className:"text-sm font-bold text-slate-500 italic",children:["‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞‡¶° ‡¶∞‡ßá‡¶ú‡¶æ‡¶≤‡ßç‡¶ü:"," ",e.jsx("span",{className:"text-indigo-600",children:R.length})," ","‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶®"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100",children:[e.jsxs("h3",{className:"text-lg font-black text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"üìÖ"})," ‡¶¨‡¶õ‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶ï ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶∞‡¶ø"]}),e.jsx("div",{className:"space-y-3",children:z.map(([s,f])=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl",children:[e.jsx("span",{className:"font-bold text-slate-600",children:s}),e.jsxs("span",{className:"font-black text-slate-800",children:["‡ß≥",f.toLocaleString()]})]},s))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100",children:[e.jsxs("h3",{className:"text-lg font-black text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"üìä"})," ‡¶Æ‡¶æ‡¶∏ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶ï ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶∞‡¶ø"]}),e.jsxs("div",{className:"space-y-2 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:[q.map(([s,f])=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl ${f>0?"bg-indigo-50/50 border border-indigo-100":"bg-slate-50 opacity-60"}`,children:[e.jsx("span",{className:`font-bold text-sm ${f>0?"text-indigo-700":"text-slate-500"}`,children:s}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`font-black ${f>0?"text-indigo-900":"text-slate-400"}`,children:f>0?`‡ß≥${f.toLocaleString()}`:"‡ß≥‡ß¶"}),f===0&&e.jsx("span",{className:"ml-2 text-[10px] font-bold text-rose-400 uppercase tracking-tighter",children:"‡¶Ö‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶ø‡¶§"}),f>0&&e.jsx("span",{className:"ml-2 text-[10px] font-bold text-emerald-500 uppercase tracking-tighter",children:"‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶ø‡¶§"})]})]},s)),q.length===0&&e.jsx("p",{className:"text-slate-400 italic text-center py-4",children:"‡¶ï‡ßã‡¶®‡ßã ‡¶°‡¶æ‡¶ü‡¶æ ‡¶®‡ßá‡¶á"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-50",children:e.jsx("h3",{className:"font-black text-slate-800 text-lg",children:"‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶≤‡ßá‡¶®‡¶¶‡ßá‡¶®"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-100",children:[e.jsx("thead",{className:"bg-slate-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-widest",children:"‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-widest",children:"‡¶Æ‡¶æ‡¶∏"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-400 uppercase tracking-widest",children:"‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:R.map(s=>e.jsxs("tr",{className:`hover:bg-slate-50/50 transition-colors ${s.isVirtual?"opacity-50":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600 font-bold",children:s.isVirtual?e.jsx("span",{className:"text-slate-400 italic",children:"N/A"}):s.date?.toDate?.()?s.date.toDate().toLocaleDateString("bn-BD"):s.createdAt?new Date(s.createdAt).toLocaleDateString("bn-BD"):"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 italic",children:s.month}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-black",children:e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("span",{className:s.amount>0?"text-slate-800":"text-slate-400",children:["‡ß≥",s.amount.toLocaleString()]}),s.isVirtual&&e.jsx("span",{className:"text-[10px] text-rose-400 font-bold uppercase",children:"‡¶Ö‡¶™‡¶∞‡¶ø‡¶∂‡ßã‡¶ß‡¶ø‡¶§"})]})})]},s.id))}),e.jsx("tfoot",{className:"bg-slate-50/80",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:"2",className:"px-6 py-4 text-right text-sm font-black text-slate-500 uppercase",children:"‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞‡¶° ‡¶Æ‡ßã‡¶ü"}),e.jsxs("td",{className:"px-6 py-4 text-right text-sm font-black text-indigo-700",children:["‡ß≥",W.toLocaleString()]})]})})]})})]})]})]}),e.jsx("div",{className:"max-w-4xl mx-auto px-6 mt-12 pb-8 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400 font-bold py-6",children:[e.jsx("span",{className:"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center text-xs",children:"üë•"}),e.jsxs("span",{className:"text-sm",children:["‡¶Æ‡ßã‡¶ü ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü‡¶∞: ",e.jsx("span",{className:"text-indigo-600",children:L})]})]})}),e.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #f1f5f9;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
        @keyframes bounce-subtle {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-3px); }
        }
        .animate-bounce-subtle {
          animation: bounce-subtle 3s infinite ease-in-out;
        }
      `})]})}function Ze({children:r}){const{user:b,loading:y}=we();return y?e.jsx("div",{children:"‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá..."}):b?e.jsx(Te,{to:"/admin/dashboard",replace:!0}):r}function oe({children:r,allowedRoles:b=[]}){const{user:y,userData:S,loading:l}=we();return l?e.jsx("div",{className:"h-screen flex items-center justify-center",children:"‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá..."}):y?b.length>0&&S&&!b.includes(S.role)?e.jsx(Xt,{}):r:e.jsx(Te,{to:"/admin/login",replace:!0})}function ls(){return e.jsxs(vt,{children:[e.jsx(ae,{path:"/event-registration",element:e.jsx(Je,{})}),e.jsx(ae,{path:"/check-donation",element:e.jsx(ns,{})}),e.jsx(ae,{path:"/",element:e.jsx(He,{})}),e.jsx(ae,{path:"/admin/login",element:e.jsx(Ze,{children:e.jsx(He,{})})}),e.jsx(ae,{path:"/admin/register",element:e.jsx(Ze,{children:e.jsx(zt,{})})}),e.jsxs(ae,{path:"/admin",element:e.jsx(Pt,{}),children:[e.jsx(ae,{path:"dashboard",element:e.jsx(oe,{allowedRoles:["admin","user"],children:e.jsx(_t,{})})}),e.jsx(ae,{path:"profile",element:e.jsx(oe,{allowedRoles:["admin","user"],children:e.jsx(Bt,{})})}),e.jsx(ae,{path:"scan",element:e.jsx(oe,{allowedRoles:["admin"],children:e.jsx(Tt,{})})}),e.jsx(ae,{path:"create-entry",element:e.jsx(oe,{allowedRoles:["admin"],children:e.jsx(Je,{})})}),e.jsx(ae,{path:"list",element:e.jsx(oe,{allowedRoles:["admin"],children:e.jsx(Rt,{})})}),e.jsx(ae,{path:"bulk-registration",element:e.jsx(oe,{allowedRoles:["admin"],children:e.jsx(Yt,{})})}),e.jsx(ae,{path:"groups",element:e.jsx(oe,{allowedRoles:["admin"],children:e.jsx(Gt,{})})}),e.jsx(ae,{path:"users",element:e.jsx(oe,{allowedRoles:["admin"],children:e.jsx(qt,{})})}),e.jsx(ae,{path:"donate",element:e.jsx(oe,{allowedRoles:["admin","user"],children:e.jsx(Wt,{})})}),e.jsx(ae,{path:"bulk-donate",element:e.jsx(oe,{allowedRoles:["admin"],children:e.jsx(Ot,{})})}),e.jsx(ae,{path:"donation-list",element:e.jsx(oe,{allowedRoles:["admin"],children:e.jsx(Ht,{})})}),e.jsx(ae,{path:"contribution-summary",element:e.jsx(oe,{allowedRoles:["admin"],children:e.jsx(Vt,{})})}),e.jsx(ae,{path:"donation-report",element:e.jsx(oe,{allowedRoles:["admin"],children:e.jsx(rs,{})})}),e.jsx(ae,{path:"members",element:e.jsx(oe,{allowedRoles:["admin","user"],children:e.jsx(Kt,{})})}),e.jsx(ae,{path:"bulk-members-upload",element:e.jsx(oe,{allowedRoles:["admin"],children:e.jsx(es,{})})}),e.jsx(ae,{path:"family-summary",element:e.jsx(oe,{allowedRoles:["admin","user"],children:e.jsx(ts,{})})})]}),e.jsx(ae,{path:"*",element:e.jsx(Te,{to:"/",replace:!0})})]})}xt.createRoot(document.getElementById("root")).render(e.jsx(pe.StrictMode,{children:e.jsx(wt,{children:e.jsx(Dt,{children:e.jsxs(Lt,{children:[e.jsx(ls,{}),e.jsx(yt,{position:"top-right"})]})})})}));
