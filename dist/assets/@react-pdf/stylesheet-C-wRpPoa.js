import{c as N,d as M,f as B,m as I}from"./fns-DvmUkUUA.js";import{m as A}from"../media-engine-Dbb0n68m.js";import{h as D}from"../hsl-to-hex-B6BXVbT_.js";import{c as L}from"../color-string-R8AcnC2W.js";import{p as E,a as X}from"../postcss-value-parser-BWRRAwsW.js";const k=t=>t.filter(Boolean),z=t=>t.reduce((r,o)=>{const e=Array.isArray(o)?j(o):o;return Object.keys(e).forEach(n=>{e[n]!==null&&e[n]!==void 0&&(r[n]=e[n])}),r},{}),j=N(z,k,M),Y=(t,r)=>Object.keys(r).reduce((o,e)=>/@media/.test(e)?{...o,...A({[e]:r[e]},t)}:{...o,[e]:r[e]},{}),G=t=>/rgba?/g.test(t),_=t=>/hsla?/g.test(t),U=t=>{const r=L.get.rgb(t);return L.to.hex(r)},v=t=>{const r=L.get.hsl(t).map(Math.round);return D(...r).toUpperCase()},P=t=>G(t)?U(t):_(t)?v(t):t,Q=t=>{if(typeof t=="number")return{value:t,unit:void 0};const r=/^(-?\d*\.?\d+)(in|mm|cm|pt|vh|vw|px|rem)?$/g.exec(t);return r?{value:parseFloat(r[1]),unit:r[2]||"pt"}:{value:t,unit:void 0}},u=(t,r)=>{const o=Q(r),e=72,n=t.dpi||72,a=1/25.4*e,p=1/2.54*e;if(typeof o.value!="number")return o.value;switch(o.unit){case"rem":return o.value*(t.remBase||18);case"in":return o.value*e;case"mm":return o.value*a;case"cm":return o.value*p;case"vh":return o.value*(t.height/100);case"vw":return o.value*(t.width/100);case"px":return Math.round(o.value*(e/n));default:return o.value}},g=(t,r)=>({[t]:B(r)}),d=(t,r,o)=>({[t]:u(o,r)}),h=(t,r)=>({[t]:P(r)}),s=(t,r)=>({[t]:r}),K=/(-?\d+(\.\d+)?(in|mm|cm|pt|vw|vh|px|rem)?)\s(\S+)\s(.+)/,q=t=>t.match(K)||[],f=(t,r,o)=>{const e=q(`${r}`);if(e){const n=e[1]||r,a=e[4]||r,p=e[5]||r,i=a,m=p?P(p):void 0,c=n?u(o,n):void 0;if(t.match(/(Top|Right|Bottom|Left)$/))return{[`${t}Color`]:m,[`${t}Style`]:i,[`${t}Width`]:c};if(t.match(/Color$/))return{borderTopColor:m,borderRightColor:m,borderBottomColor:m,borderLeftColor:m};if(t.match(/Style$/)){if(typeof i=="number")throw new Error(`Invalid border style: ${i}`);return{borderTopStyle:i,borderRightStyle:i,borderBottomStyle:i,borderLeftStyle:i}}if(t.match(/Width$/)){if(typeof c!="number")throw new Error(`Invalid border width: ${c}`);return{borderTopWidth:c,borderRightWidth:c,borderBottomWidth:c,borderLeftWidth:c}}if(t.match(/Radius$/)){const l=r?u(o,r):void 0;if(typeof l!="number")throw new Error(`Invalid border radius: ${l}`);return{borderTopLeftRadius:l,borderTopRightRadius:l,borderBottomRightRadius:l,borderBottomLeftRadius:l}}if(typeof c!="number")throw new Error(`Invalid border width: ${c}`);if(typeof i=="number")throw new Error(`Invalid border style: ${i}`);return{borderTopColor:m,borderTopStyle:i,borderTopWidth:c,borderRightColor:m,borderRightStyle:i,borderRightWidth:c,borderBottomColor:m,borderBottomStyle:i,borderBottomWidth:c,borderLeftColor:m,borderLeftStyle:i,borderLeftWidth:c}}return{[t]:r}},J={border:f,borderBottom:f,borderBottomColor:h,borderBottomLeftRadius:d,borderBottomRightRadius:d,borderBottomStyle:s,borderBottomWidth:d,borderColor:f,borderLeft:f,borderLeftColor:h,borderLeftStyle:s,borderLeftWidth:d,borderRadius:f,borderRight:f,borderRightColor:h,borderRightStyle:s,borderRightWidth:d,borderStyle:f,borderTop:f,borderTopColor:h,borderTopLeftRadius:d,borderTopRightRadius:d,borderTopStyle:s,borderTopWidth:d,borderWidth:f},Z={backgroundColor:h,color:h,opacity:g},tt={height:d,maxHeight:d,maxWidth:d,minHeight:d,minWidth:d,width:d},rt=[1,1,0],ot=[1,1,"auto"],et=(t,r,o)=>{let e=rt,n=[];r==="auto"?e=ot:n=`${r}`.split(" ");const a=B(n[0]||e[0]),p=B(n[1]||e[1]),i=u(o,n[2]||e[2]);return{flexGrow:a,flexShrink:p,flexBasis:i}},nt={alignContent:s,alignItems:s,alignSelf:s,flex:et,flexBasis:d,flexDirection:s,flexFlow:s,flexGrow:g,flexShrink:g,flexWrap:s,justifyContent:s,justifySelf:s},st=(t,r,o)=>{const e=`${r}`.split(" "),n=u(o,e?.[0]||r),a=u(o,e?.[1]||r);return{rowGap:n,columnGap:a}},it={gap:st,columnGap:d,rowGap:d},at={aspectRatio:g,bottom:d,display:s,left:d,position:s,right:d,top:d,overflow:s,zIndex:g},ct="px,in,mm,cm,pt,%,vw,vh",T=(t,r)=>{const o=t.toString();console.error(`
    @react-pdf/stylesheet parsing error:
    ${o}: ${r},
    ${" ".repeat(o.length+2)}^
    Unsupported ${o} value format
  `)},b=({expandsTo:t,maxValues:r=1,autoSupported:o=!1}={})=>(e,n,a)=>{const p=E(`${n}`),i=[];for(let c=0;c<p.length;c++){const l=p[c];if(l.type==="function"||l.type==="string"||l.type==="div")return T(e,n),{};if(l.type==="word")if(l.value==="auto"&&o)i.push(l.value);else{const x=X(l.value);if(x&&ct.includes(x.unit))i.push(l.value);else return T(e,n),{}}}if(i.length>r)return T(e,n),{};const m=u(a,i[0]);if(t){const c=u(a,i[1]||i[0]),l=u(a,i[2]||i[0]),x=u(a,i[3]||i[1]||i[0]);return t({first:m,second:c,third:l,fourth:x})}return{[e]:m}},dt=b({expandsTo:({first:t,second:r,third:o,fourth:e})=>({marginTop:t,marginRight:r,marginBottom:o,marginLeft:e}),maxValues:4,autoSupported:!0}),lt=b({expandsTo:({first:t,second:r})=>({marginTop:t,marginBottom:r}),maxValues:2,autoSupported:!0}),pt=b({expandsTo:({first:t,second:r})=>({marginRight:t,marginLeft:r}),maxValues:2,autoSupported:!0}),y=b({autoSupported:!0}),ut={margin:dt,marginBottom:y,marginHorizontal:pt,marginLeft:y,marginRight:y,marginTop:y,marginVertical:lt},mt=b({expandsTo:({first:t,second:r,third:o,fourth:e})=>({paddingTop:t,paddingRight:r,paddingBottom:o,paddingLeft:e}),maxValues:4}),ft=b({expandsTo:({first:t,second:r})=>({paddingTop:t,paddingBottom:r}),maxValues:2}),ht=b({expandsTo:({first:t,second:r})=>({paddingRight:t,paddingLeft:r}),maxValues:2}),w=b(),gt={padding:mt,paddingBottom:w,paddingHorizontal:ht,paddingLeft:w,paddingRight:w,paddingTop:w,paddingVertical:ft},S=t=>{switch(t){case"top":case"left":return"0%";case"right":case"bottom":return"100%";case"center":return"50%";default:return t}},bt=(t,r,o)=>{const e=`${r}`.split(" "),n=S(u(o,e?.[0]||r)),a=S(u(o,e?.[1]||r));return{objectPositionX:n,objectPositionY:a}},C=(t,r,o)=>({[t]:S(u(o,r))}),xt={objectPosition:bt,objectPositionX:C,objectPositionY:C,objectFit:s},St=t=>typeof t=="number"?t:parseInt(t,10),$={thin:100,hairline:100,ultralight:200,extralight:200,light:300,normal:400,medium:500,semibold:600,demibold:600,bold:700,ultrabold:800,extrabold:800,heavy:900,black:900},yt=t=>{if(!t)return $.normal;if(typeof t=="number")return t;const r=t.toLowerCase();return $[r]?$[r]:St(t)},wt=(t,r)=>({[t]:yt(r)}),Rt=(t,r,o)=>{if(t==="")return t;const e=u(o,r.fontSize||18),n=u(o,t),{percent:a}=I(n)||{};return a?a*e:isNaN(t)?n:n*e},Tt=(t,r,o,e)=>({[t]:Rt(r,e,o)}),$t={direction:s,fontFamily:s,fontSize:d,fontStyle:s,fontWeight:wt,letterSpacing:d,lineHeight:Tt,maxLines:g,textAlign:s,textDecoration:s,textDecorationColor:h,textDecorationStyle:s,textIndent:s,textOverflow:s,textTransform:s,verticalAlign:s},Bt=t=>typeof t=="string"&&/^-?\d*\.?\d*$/.test(t),O=t=>typeof t!="string"?t:Bt(t)?parseFloat(t):t,Lt=t=>{const r=t.trim().split(/\)[ ,]|\)/);if(r.length===1)return[[r[0],!0]];const o=[];for(let e=0;e<r.length;e+=1){const n=r[e];if(n){const[a,p]=n.split("("),i=p.indexOf(",")>=0?",":" ",m=p.split(i).map(c=>c.trim());o.push({operation:a.trim(),value:m})}}return o},R=t=>{const r=/(-?\d*\.?\d*)(\w*)?/i,[,o,e]=r.exec(t),n=Number.parseFloat(o);return e==="rad"?n*180/Math.PI:n},Ot=({operation:t,value:r})=>{switch(t){case"scale":{const[o,e=o]=r.map(n=>Number.parseFloat(n));return{operation:"scale",value:[o,e]}}case"scaleX":return{operation:"scale",value:[Number.parseFloat(r),1]};case"scaleY":return{operation:"scale",value:[1,Number.parseFloat(r)]};case"rotate":return{operation:"rotate",value:[R(r)]};case"translate":return{operation:"translate",value:r.map(o=>Number.parseFloat(o))};case"translateX":return{operation:"translate",value:[Number.parseFloat(r),0]};case"translateY":return{operation:"translate",value:[0,Number.parseFloat(r)]};case"skew":return{operation:"skew",value:r.map(R)};case"skewX":return{operation:"skew",value:[R(r),0]};case"skewY":return{operation:"skew",value:[0,R(r)]};default:return{operation:t,value:r.map(o=>Number.parseFloat(o))}}},Ct=t=>t.map(r=>Ot(r)),W=(t,r)=>typeof r!="string"?{[t]:r}:{[t]:Ct(Lt(r))},F={top:!0,bottom:!0},Wt=(t,r)=>F[t]?1:F[r]?-1:0,Ft=t=>!t||t.length===0?["center","center"]:(t.length===1?[t[0],"center"]:t).sort(Wt),Vt=(t,r,o)=>{const e=`${r}`.split(" "),n=Ft(e),a=u(o,n[0]),p=u(o,n[1]);return{transformOriginX:S(a)||O(a),transformOriginY:S(p)||O(p)}},V=(t,r,o)=>{const e=u(o,r);return{[t]:S(e)||O(e)}},Ht={transform:W,gradientTransform:W,transformOrigin:Vt,transformOriginX:V,transformOriginY:V},Nt={fill:h,stroke:h,strokeDasharray:s,strokeWidth:d,fillOpacity:g,strokeOpacity:g,fillRule:s,textAnchor:s,strokeLinecap:s,strokeLinejoin:s,visibility:s,clipPath:s,dominantBaseline:s},H={...J,...Z,...tt,...nt,...it,...at,...ut,...gt,...xt,...$t,...Ht,...Nt},jt=t=>r=>{const o=Object.keys(r),e={};for(let n=0;n<o.length;n+=1){const a=o[n],p=r[a];if(!H[a]){e[a]=p;continue}const i=H[a](a,p,t,r),m=Object.keys(i);for(let c=0;c<m.length;c+=1){const l=m[c],x=i[l];e[l]=x}}return e},Et=(t,r)=>{const o=e=>Y(t,e);return N(jt(t),o,j)(r)};export{j as f,Et as r,P as t};
